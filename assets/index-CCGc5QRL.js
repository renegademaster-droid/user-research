var Qb=n=>{throw TypeError(n)};var Zp=(n,e,t)=>e.has(n)||Qb("Cannot "+t);var wt=(n,e,t)=>(Zp(n,e,"read from private field"),t?t.call(n):e.get(n)),Yr=(n,e,t)=>e.has(n)?Qb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Ln=(n,e,t,r)=>(Zp(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),qr=(n,e,t)=>(Zp(n,e,"access private method"),t);var Zb=(n,e,t,r)=>({set _(i){Ln(n,e,i,t)},get _(){return wt(n,e,r)}});function PE(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var yd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Jp={exports:{}},Ll={},em={exports:{}},Fe={};var Jb;function RE(){if(Jb)return Fe;Jb=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function g(O){return O===null||typeof O!="object"?null:(O=p&&O[p]||O["@@iterator"],typeof O=="function"?O:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,b={};function x(O,Y,W){this.props=O,this.context=Y,this.refs=b,this.updater=W||y}x.prototype.isReactComponent={},x.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},x.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function A(){}A.prototype=x.prototype;function T(O,Y,W){this.props=O,this.context=Y,this.refs=b,this.updater=W||y}var k=T.prototype=new A;k.constructor=T,w(k,x.prototype),k.isPureReactComponent=!0;var R=Array.isArray,P=Object.prototype.hasOwnProperty,M={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function F(O,Y,W){var se,pe={},de=null,me=null;if(Y!=null)for(se in Y.ref!==void 0&&(me=Y.ref),Y.key!==void 0&&(de=""+Y.key),Y)P.call(Y,se)&&!L.hasOwnProperty(se)&&(pe[se]=Y[se]);var _e=arguments.length-2;if(_e===1)pe.children=W;else if(1<_e){for(var Ve=Array(_e),$t=0;$t<_e;$t++)Ve[$t]=arguments[$t+2];pe.children=Ve}if(O&&O.defaultProps)for(se in _e=O.defaultProps,_e)pe[se]===void 0&&(pe[se]=_e[se]);return{$$typeof:n,type:O,key:de,ref:me,props:pe,_owner:M.current}}function z(O,Y){return{$$typeof:n,type:O.type,key:Y,ref:O.ref,props:O.props,_owner:O._owner}}function q(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function U(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(W){return Y[W]})}var be=/\/+/g;function xe(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):Y.toString(36)}function ve(O,Y,W,se,pe){var de=typeof O;(de==="undefined"||de==="boolean")&&(O=null);var me=!1;if(O===null)me=!0;else switch(de){case"string":case"number":me=!0;break;case"object":switch(O.$$typeof){case n:case e:me=!0}}if(me)return me=O,pe=pe(me),O=se===""?"."+xe(me,0):se,R(pe)?(W="",O!=null&&(W=O.replace(be,"$&/")+"/"),ve(pe,Y,W,"",function($t){return $t})):pe!=null&&(q(pe)&&(pe=z(pe,W+(!pe.key||me&&me.key===pe.key?"":(""+pe.key).replace(be,"$&/")+"/")+O)),Y.push(pe)),1;if(me=0,se=se===""?".":se+":",R(O))for(var _e=0;_e<O.length;_e++){de=O[_e];var Ve=se+xe(de,_e);me+=ve(de,Y,W,Ve,pe)}else if(Ve=g(O),typeof Ve=="function")for(O=Ve.call(O),_e=0;!(de=O.next()).done;)de=de.value,Ve=se+xe(de,_e++),me+=ve(de,Y,W,Ve,pe);else if(de==="object")throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return me}function De(O,Y,W){if(O==null)return O;var se=[],pe=0;return ve(O,se,"","",function(de){return Y.call(W,de,pe++)}),se}function re(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(W){(O._status===0||O._status===-1)&&(O._status=1,O._result=W)},function(W){(O._status===0||O._status===-1)&&(O._status=2,O._result=W)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var G={current:null},Q={transition:null},ie={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:Q,ReactCurrentOwner:M};function ne(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:De,forEach:function(O,Y,W){De(O,function(){Y.apply(this,arguments)},W)},count:function(O){var Y=0;return De(O,function(){Y++}),Y},toArray:function(O){return De(O,function(Y){return Y})||[]},only:function(O){if(!q(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Fe.Component=x,Fe.Fragment=t,Fe.Profiler=i,Fe.PureComponent=T,Fe.StrictMode=r,Fe.Suspense=u,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,Fe.act=ne,Fe.cloneElement=function(O,Y,W){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var se=w({},O.props),pe=O.key,de=O.ref,me=O._owner;if(Y!=null){if(Y.ref!==void 0&&(de=Y.ref,me=M.current),Y.key!==void 0&&(pe=""+Y.key),O.type&&O.type.defaultProps)var _e=O.type.defaultProps;for(Ve in Y)P.call(Y,Ve)&&!L.hasOwnProperty(Ve)&&(se[Ve]=Y[Ve]===void 0&&_e!==void 0?_e[Ve]:Y[Ve])}var Ve=arguments.length-2;if(Ve===1)se.children=W;else if(1<Ve){_e=Array(Ve);for(var $t=0;$t<Ve;$t++)_e[$t]=arguments[$t+2];se.children=_e}return{$$typeof:n,type:O.type,key:pe,ref:de,props:se,_owner:me}},Fe.createContext=function(O){return O={$$typeof:a,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:s,_context:O},O.Consumer=O},Fe.createElement=F,Fe.createFactory=function(O){var Y=F.bind(null,O);return Y.type=O,Y},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(O){return{$$typeof:c,render:O}},Fe.isValidElement=q,Fe.lazy=function(O){return{$$typeof:f,_payload:{_status:-1,_result:O},_init:re}},Fe.memo=function(O,Y){return{$$typeof:d,type:O,compare:Y===void 0?null:Y}},Fe.startTransition=function(O){var Y=Q.transition;Q.transition={};try{O()}finally{Q.transition=Y}},Fe.unstable_act=ne,Fe.useCallback=function(O,Y){return G.current.useCallback(O,Y)},Fe.useContext=function(O){return G.current.useContext(O)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(O){return G.current.useDeferredValue(O)},Fe.useEffect=function(O,Y){return G.current.useEffect(O,Y)},Fe.useId=function(){return G.current.useId()},Fe.useImperativeHandle=function(O,Y,W){return G.current.useImperativeHandle(O,Y,W)},Fe.useInsertionEffect=function(O,Y){return G.current.useInsertionEffect(O,Y)},Fe.useLayoutEffect=function(O,Y){return G.current.useLayoutEffect(O,Y)},Fe.useMemo=function(O,Y){return G.current.useMemo(O,Y)},Fe.useReducer=function(O,Y,W){return G.current.useReducer(O,Y,W)},Fe.useRef=function(O){return G.current.useRef(O)},Fe.useState=function(O){return G.current.useState(O)},Fe.useSyncExternalStore=function(O,Y,W){return G.current.useSyncExternalStore(O,Y,W)},Fe.useTransition=function(){return G.current.useTransition()},Fe.version="18.3.1",Fe}var ew;function fy(){return ew||(ew=1,em.exports=RE()),em.exports}var tw;function ME(){if(tw)return Ll;tw=1;var n=fy(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(c,u,d){var f,p={},g=null,y=null;d!==void 0&&(g=""+d),u.key!==void 0&&(g=""+u.key),u.ref!==void 0&&(y=u.ref);for(f in u)r.call(u,f)&&!s.hasOwnProperty(f)&&(p[f]=u[f]);if(c&&c.defaultProps)for(f in u=c.defaultProps,u)p[f]===void 0&&(p[f]=u[f]);return{$$typeof:e,type:c,key:g,ref:y,props:p,_owner:i.current}}return Ll.Fragment=t,Ll.jsx=a,Ll.jsxs=a,Ll}var nw;function DE(){return nw||(nw=1,Jp.exports=ME()),Jp.exports}var C=DE(),E=fy();const Oc=Fh(E),rw=PE({__proto__:null,default:Oc},[E]);var vd={},tm={exports:{}},Fn={},nm={exports:{}},rm={};var iw;function IE(){return iw||(iw=1,(function(n){function e(Q,ie){var ne=Q.length;Q.push(ie);e:for(;0<ne;){var O=ne-1>>>1,Y=Q[O];if(0<i(Y,ie))Q[O]=ie,Q[ne]=Y,ne=O;else break e}}function t(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ie=Q[0],ne=Q.pop();if(ne!==ie){Q[0]=ne;e:for(var O=0,Y=Q.length,W=Y>>>1;O<W;){var se=2*(O+1)-1,pe=Q[se],de=se+1,me=Q[de];if(0>i(pe,ne))de<Y&&0>i(me,pe)?(Q[O]=me,Q[de]=ne,O=de):(Q[O]=pe,Q[se]=ne,O=se);else if(de<Y&&0>i(me,ne))Q[O]=me,Q[de]=ne,O=de;else break e}}return ie}function i(Q,ie){var ne=Q.sortIndex-ie.sortIndex;return ne!==0?ne:Q.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();n.unstable_now=function(){return a.now()-c}}var u=[],d=[],f=1,p=null,g=3,y=!1,w=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(Q){for(var ie=t(d);ie!==null;){if(ie.callback===null)r(d);else if(ie.startTime<=Q)r(d),ie.sortIndex=ie.expirationTime,e(u,ie);else break;ie=t(d)}}function R(Q){if(b=!1,k(Q),!w)if(t(u)!==null)w=!0,re(P);else{var ie=t(d);ie!==null&&G(R,ie.startTime-Q)}}function P(Q,ie){w=!1,b&&(b=!1,A(F),F=-1),y=!0;var ne=g;try{for(k(ie),p=t(u);p!==null&&(!(p.expirationTime>ie)||Q&&!U());){var O=p.callback;if(typeof O=="function"){p.callback=null,g=p.priorityLevel;var Y=O(p.expirationTime<=ie);ie=n.unstable_now(),typeof Y=="function"?p.callback=Y:p===t(u)&&r(u),k(ie)}else r(u);p=t(u)}if(p!==null)var W=!0;else{var se=t(d);se!==null&&G(R,se.startTime-ie),W=!1}return W}finally{p=null,g=ne,y=!1}}var M=!1,L=null,F=-1,z=5,q=-1;function U(){return!(n.unstable_now()-q<z)}function be(){if(L!==null){var Q=n.unstable_now();q=Q;var ie=!0;try{ie=L(!0,Q)}finally{ie?xe():(M=!1,L=null)}}else M=!1}var xe;if(typeof T=="function")xe=function(){T(be)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,De=ve.port2;ve.port1.onmessage=be,xe=function(){De.postMessage(null)}}else xe=function(){x(be,0)};function re(Q){L=Q,M||(M=!0,xe())}function G(Q,ie){F=x(function(){Q(n.unstable_now())},ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_continueExecution=function(){w||y||(w=!0,re(P))},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(Q){switch(g){case 1:case 2:case 3:var ie=3;break;default:ie=g}var ne=g;g=ie;try{return Q()}finally{g=ne}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Q,ie){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ne=g;g=Q;try{return ie()}finally{g=ne}},n.unstable_scheduleCallback=function(Q,ie,ne){var O=n.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?O+ne:O):ne=O,Q){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ne+Y,Q={id:f++,callback:ie,priorityLevel:Q,startTime:ne,expirationTime:Y,sortIndex:-1},ne>O?(Q.sortIndex=ne,e(d,Q),t(u)===null&&Q===t(d)&&(b?(A(F),F=-1):b=!0,G(R,ne-O))):(Q.sortIndex=Y,e(u,Q),w||y||(w=!0,re(P))),Q},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(Q){var ie=g;return function(){var ne=g;g=ie;try{return Q.apply(this,arguments)}finally{g=ne}}}})(rm)),rm}var sw;function LE(){return sw||(sw=1,nm.exports=IE()),nm.exports}var ow;function FE(){if(ow)return Fn;ow=1;var n=fy(),e=LE();function t(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,h=1;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(o,l){a(o,l),a(o+"Capture",l)}function a(o,l){for(i[o]=l,o=0;o<l.length;o++)r.add(l[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(o){return u.call(p,o)?!0:u.call(f,o)?!1:d.test(o)?p[o]=!0:(f[o]=!0,!1)}function y(o,l,h,m){if(h!==null&&h.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return m?!1:h!==null?!h.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function w(o,l,h,m){if(l===null||typeof l>"u"||y(o,l,h,m))return!0;if(m)return!1;if(h!==null)switch(h.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function b(o,l,h,m,v,S,_){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=m,this.attributeNamespace=v,this.mustUseProperty=h,this.propertyName=o,this.type=l,this.sanitizeURL=S,this.removeEmptyString=_}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){x[o]=new b(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];x[l]=new b(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){x[o]=new b(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){x[o]=new b(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){x[o]=new b(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){x[o]=new b(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){x[o]=new b(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){x[o]=new b(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){x[o]=new b(o,5,!1,o.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function T(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(A,T);x[l]=new b(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(A,T);x[l]=new b(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(A,T);x[l]=new b(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){x[o]=new b(o,1,!1,o.toLowerCase(),null,!1,!1)}),x.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){x[o]=new b(o,1,!1,o.toLowerCase(),null,!0,!0)});function k(o,l,h,m){var v=x.hasOwnProperty(l)?x[l]:null;(v!==null?v.type!==0:m||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(w(l,h,v,m)&&(h=null),m||v===null?g(l)&&(h===null?o.removeAttribute(l):o.setAttribute(l,""+h)):v.mustUseProperty?o[v.propertyName]=h===null?v.type===3?!1:"":h:(l=v.attributeName,m=v.attributeNamespace,h===null?o.removeAttribute(l):(v=v.type,h=v===3||v===4&&h===!0?"":""+h,m?o.setAttributeNS(m,l,h):o.setAttribute(l,h))))}var R=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),M=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),U=Symbol.for("react.context"),be=Symbol.for("react.forward_ref"),xe=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),De=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),Q=Symbol.iterator;function ie(o){return o===null||typeof o!="object"?null:(o=Q&&o[Q]||o["@@iterator"],typeof o=="function"?o:null)}var ne=Object.assign,O;function Y(o){if(O===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);O=l&&l[1]||""}return`
`+O+o}var W=!1;function se(o,l){if(!o||W)return"";W=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(X){var m=X}Reflect.construct(o,[],l)}else{try{l.call()}catch(X){m=X}o.call(l.prototype)}else{try{throw Error()}catch(X){m=X}o()}}catch(X){if(X&&m&&typeof X.stack=="string"){for(var v=X.stack.split(`
`),S=m.stack.split(`
`),_=v.length-1,I=S.length-1;1<=_&&0<=I&&v[_]!==S[I];)I--;for(;1<=_&&0<=I;_--,I--)if(v[_]!==S[I]){if(_!==1||I!==1)do if(_--,I--,0>I||v[_]!==S[I]){var N=`
`+v[_].replace(" at new "," at ");return o.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",o.displayName)),N}while(1<=_&&0<=I);break}}}finally{W=!1,Error.prepareStackTrace=h}return(o=o?o.displayName||o.name:"")?Y(o):""}function pe(o){switch(o.tag){case 5:return Y(o.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return o=se(o.type,!1),o;case 11:return o=se(o.type.render,!1),o;case 1:return o=se(o.type,!0),o;default:return""}}function de(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case L:return"Fragment";case M:return"Portal";case z:return"Profiler";case F:return"StrictMode";case xe:return"Suspense";case ve:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case U:return(o.displayName||"Context")+".Consumer";case q:return(o._context.displayName||"Context")+".Provider";case be:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case De:return l=o.displayName||null,l!==null?l:de(o.type)||"Memo";case re:l=o._payload,o=o._init;try{return de(o(l))}catch{}}return null}function me(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(l);case 8:return l===F?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function _e(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ve(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function $t(o){var l=Ve(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),m=""+o[l];if(!o.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,S=h.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return v.call(this)},set:function(_){m=""+_,S.call(this,_)}}),Object.defineProperty(o,l,{enumerable:h.enumerable}),{getValue:function(){return m},setValue:function(_){m=""+_},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Sr(o){o._valueTracker||(o._valueTracker=$t(o))}function fi(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var h=l.getValue(),m="";return o&&(m=Ve(o)?o.checked?"true":"false":o.value),o=m,o!==h?(l.setValue(o),!0):!1}function pi(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function ks(o,l){var h=l.checked;return ne({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??o._wrapperState.initialChecked})}function tu(o,l){var h=l.defaultValue==null?"":l.defaultValue,m=l.checked!=null?l.checked:l.defaultChecked;h=_e(l.value!=null?l.value:h),o._wrapperState={initialChecked:m,initialValue:h,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function nu(o,l){l=l.checked,l!=null&&k(o,"checked",l,!1)}function Ua(o,l){nu(o,l);var h=_e(l.value),m=l.type;if(h!=null)m==="number"?(h===0&&o.value===""||o.value!=h)&&(o.value=""+h):o.value!==""+h&&(o.value=""+h);else if(m==="submit"||m==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?Ha(o,l.type,h):l.hasOwnProperty("defaultValue")&&Ha(o,l.type,_e(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function ru(o,l,h){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var m=l.type;if(!(m!=="submit"&&m!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,h||l===o.value||(o.value=l),o.defaultValue=l}h=o.name,h!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,h!==""&&(o.name=h)}function Ha(o,l,h){(l!=="number"||pi(o.ownerDocument)!==o)&&(h==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+h&&(o.defaultValue=""+h))}var $r=Array.isArray;function zr(o,l,h,m){if(o=o.options,l){l={};for(var v=0;v<h.length;v++)l["$"+h[v]]=!0;for(h=0;h<o.length;h++)v=l.hasOwnProperty("$"+o[h].value),o[h].selected!==v&&(o[h].selected=v),v&&m&&(o[h].defaultSelected=!0)}else{for(h=""+_e(h),l=null,v=0;v<o.length;v++){if(o[v].value===h){o[v].selected=!0,m&&(o[v].defaultSelected=!0);return}l!==null||o[v].disabled||(l=o[v])}l!==null&&(l.selected=!0)}}function Vi(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return ne({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function xr(o,l){var h=l.value;if(h==null){if(h=l.children,l=l.defaultValue,h!=null){if(l!=null)throw Error(t(92));if($r(h)){if(1<h.length)throw Error(t(93));h=h[0]}l=h}l==null&&(l=""),h=l}o._wrapperState={initialValue:_e(h)}}function Wa(o,l){var h=_e(l.value),m=_e(l.defaultValue);h!=null&&(h=""+h,h!==o.value&&(o.value=h),l.defaultValue==null&&o.defaultValue!==h&&(o.defaultValue=h)),m!=null&&(o.defaultValue=""+m)}function Ga(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function iu(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xa(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?iu(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var mi,Ka=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,h,m,v){MSApp.execUnsafeLocalFunction(function(){return o(l,h,m,v)})}:o})(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(mi=mi||document.createElement("div"),mi.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=mi.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function Ui(o,l){if(l){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=l;return}}o.textContent=l}var Hi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},su=["Webkit","ms","Moz","O"];Object.keys(Hi).forEach(function(o){su.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),Hi[l]=Hi[o]})});function ou(o,l,h){return l==null||typeof l=="boolean"||l===""?"":h||typeof l!="number"||l===0||Hi.hasOwnProperty(o)&&Hi[o]?(""+l).trim():l+"px"}function au(o,l){o=o.style;for(var h in l)if(l.hasOwnProperty(h)){var m=h.indexOf("--")===0,v=ou(h,l[h],m);h==="float"&&(h="cssFloat"),m?o.setProperty(h,v):o[h]=v}}var gi=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wi(o,l){if(l){if(gi[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function Ya(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var go=null;function qa(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var yo=null,qn=null,Gi=null;function Vr(o){if(o=bl(o)){if(typeof yo!="function")throw Error(t(280));var l=o.stateNode;l&&(l=Du(l),yo(o.stateNode,o.type,l))}}function lu(o){qn?Gi?Gi.push(o):Gi=[o]:qn=o}function cu(){if(qn){var o=qn,l=Gi;if(Gi=qn=null,Vr(o),l)for(o=0;o<l.length;o++)Vr(l[o])}}function uu(o,l){return o(l)}function du(){}var Qa=!1;function Qn(o,l,h){if(Qa)return o(l,h);Qa=!0;try{return uu(o,l,h)}finally{Qa=!1,(qn!==null||Gi!==null)&&(du(),cu())}}function Ts(o,l){var h=o.stateNode;if(h===null)return null;var m=Du(h);if(m===null)return null;h=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(t(231,l,typeof h));return h}var Za=!1;if(c)try{var Es={};Object.defineProperty(Es,"passive",{get:function(){Za=!0}}),window.addEventListener("test",Es,Es),window.removeEventListener("test",Es,Es)}catch{Za=!1}function hf(o,l,h,m,v,S,_,I,N){var X=Array.prototype.slice.call(arguments,3);try{l.apply(h,X)}catch(J){this.onError(J)}}var _s=!1,Ar=null,vo=!1,Ja=null,ff={onError:function(o){_s=!0,Ar=o}};function pf(o,l,h,m,v,S,_,I,N){_s=!1,Ar=null,hf.apply(ff,arguments)}function mf(o,l,h,m,v,S,_,I,N){if(pf.apply(this,arguments),_s){if(_s){var X=Ar;_s=!1,Ar=null}else throw Error(t(198));vo||(vo=!0,Ja=X)}}function _n(o){var l=o,h=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(h=l.return),o=l.return;while(o)}return l.tag===3?h:null}function hu(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function fu(o){if(_n(o)!==o)throw Error(t(188))}function gf(o){var l=o.alternate;if(!l){if(l=_n(o),l===null)throw Error(t(188));return l!==o?null:o}for(var h=o,m=l;;){var v=h.return;if(v===null)break;var S=v.alternate;if(S===null){if(m=v.return,m!==null){h=m;continue}break}if(v.child===S.child){for(S=v.child;S;){if(S===h)return fu(v),o;if(S===m)return fu(v),l;S=S.sibling}throw Error(t(188))}if(h.return!==m.return)h=v,m=S;else{for(var _=!1,I=v.child;I;){if(I===h){_=!0,h=v,m=S;break}if(I===m){_=!0,m=v,h=S;break}I=I.sibling}if(!_){for(I=S.child;I;){if(I===h){_=!0,h=S,m=v;break}if(I===m){_=!0,m=S,h=v;break}I=I.sibling}if(!_)throw Error(t(189))}}if(h.alternate!==m)throw Error(t(190))}if(h.tag!==3)throw Error(t(188));return h.stateNode.current===h?o:l}function pu(o){return o=gf(o),o!==null?mu(o):null}function mu(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=mu(o);if(l!==null)return l;o=o.sibling}return null}var gu=e.unstable_scheduleCallback,bo=e.unstable_cancelCallback,yf=e.unstable_shouldYield,wo=e.unstable_requestPaint,pt=e.unstable_now,vf=e.unstable_getCurrentPriorityLevel,Xi=e.unstable_ImmediatePriority,el=e.unstable_UserBlockingPriority,So=e.unstable_NormalPriority,bf=e.unstable_LowPriority,yu=e.unstable_IdlePriority,Ps=null,Zn=null;function wf(o){if(Zn&&typeof Zn.onCommitFiberRoot=="function")try{Zn.onCommitFiberRoot(Ps,o,void 0,(o.current.flags&128)===128)}catch{}}var zn=Math.clz32?Math.clz32:Af,Sf=Math.log,xf=Math.LN2;function Af(o){return o>>>=0,o===0?32:31-(Sf(o)/xf|0)|0}var xo=64,Ao=4194304;function Rs(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Co(o,l){var h=o.pendingLanes;if(h===0)return 0;var m=0,v=o.suspendedLanes,S=o.pingedLanes,_=h&268435455;if(_!==0){var I=_&~v;I!==0?m=Rs(I):(S&=_,S!==0&&(m=Rs(S)))}else _=h&~v,_!==0?m=Rs(_):S!==0&&(m=Rs(S));if(m===0)return 0;if(l!==0&&l!==m&&(l&v)===0&&(v=m&-m,S=l&-l,v>=S||v===16&&(S&4194240)!==0))return l;if((m&4)!==0&&(m|=h&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=m;0<l;)h=31-zn(l),v=1<<h,m|=o[h],l&=~v;return m}function ko(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tl(o,l){for(var h=o.suspendedLanes,m=o.pingedLanes,v=o.expirationTimes,S=o.pendingLanes;0<S;){var _=31-zn(S),I=1<<_,N=v[_];N===-1?((I&h)===0||(I&m)!==0)&&(v[_]=ko(I,l)):N<=l&&(o.expiredLanes|=I),S&=~I}}function nl(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function vu(){var o=xo;return xo<<=1,(xo&4194240)===0&&(xo=64),o}function To(o){for(var l=[],h=0;31>h;h++)l.push(o);return l}function Ms(o,l,h){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-zn(l),o[l]=h}function Cf(o,l){var h=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var m=o.eventTimes;for(o=o.expirationTimes;0<h;){var v=31-zn(h),S=1<<v;l[v]=0,m[v]=-1,o[v]=-1,h&=~S}}function rl(o,l){var h=o.entangledLanes|=l;for(o=o.entanglements;h;){var m=31-zn(h),v=1<<m;v&l|o[m]&l&&(o[m]|=l),h&=~v}}var He=0;function bu(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var wu,il,Eo,Su,xu,sl=!1,yi=[],Jn=null,er=null,tr=null,Ds=new Map,Ki=new Map,nr=[],Au="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ur(o,l){switch(o){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":Ds.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ki.delete(l.pointerId)}}function Cr(o,l,h,m,v,S){return o===null||o.nativeEvent!==S?(o={blockedOn:l,domEventName:h,eventSystemFlags:m,nativeEvent:S,targetContainers:[v]},l!==null&&(l=bl(l),l!==null&&il(l)),o):(o.eventSystemFlags|=m,l=o.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),o)}function kf(o,l,h,m,v){switch(l){case"focusin":return Jn=Cr(Jn,o,l,h,m,v),!0;case"dragenter":return er=Cr(er,o,l,h,m,v),!0;case"mouseover":return tr=Cr(tr,o,l,h,m,v),!0;case"pointerover":var S=v.pointerId;return Ds.set(S,Cr(Ds.get(S)||null,o,l,h,m,v)),!0;case"gotpointercapture":return S=v.pointerId,Ki.set(S,Cr(Ki.get(S)||null,o,l,h,m,v)),!0}return!1}function ol(o){var l=Ls(o.target);if(l!==null){var h=_n(l);if(h!==null){if(l=h.tag,l===13){if(l=hu(h),l!==null){o.blockedOn=l,xu(o.priority,function(){Eo(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function _o(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var h=Xe(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(h===null){h=o.nativeEvent;var m=new h.constructor(h.type,h);go=m,h.target.dispatchEvent(m),go=null}else return l=bl(h),l!==null&&il(l),o.blockedOn=h,!1;l.shift()}return!0}function al(o,l,h){_o(o)&&h.delete(l)}function Tf(){sl=!1,Jn!==null&&_o(Jn)&&(Jn=null),er!==null&&_o(er)&&(er=null),tr!==null&&_o(tr)&&(tr=null),Ds.forEach(al),Ki.forEach(al)}function Is(o,l){o.blockedOn===l&&(o.blockedOn=null,sl||(sl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Tf)))}function Yi(o){function l(v){return Is(v,o)}if(0<yi.length){Is(yi[0],o);for(var h=1;h<yi.length;h++){var m=yi[h];m.blockedOn===o&&(m.blockedOn=null)}}for(Jn!==null&&Is(Jn,o),er!==null&&Is(er,o),tr!==null&&Is(tr,o),Ds.forEach(l),Ki.forEach(l),h=0;h<nr.length;h++)m=nr[h],m.blockedOn===o&&(m.blockedOn=null);for(;0<nr.length&&(h=nr[0],h.blockedOn===null);)ol(h),h.blockedOn===null&&nr.shift()}var qi=R.ReactCurrentBatchConfig,D=!0;function $(o,l,h,m){var v=He,S=qi.transition;qi.transition=null;try{He=1,le(o,l,h,m)}finally{He=v,qi.transition=S}}function K(o,l,h,m){var v=He,S=qi.transition;qi.transition=null;try{He=4,le(o,l,h,m)}finally{He=v,qi.transition=S}}function le(o,l,h,m){if(D){var v=Xe(o,l,h,m);if(v===null)Vf(o,l,m,Le,h),Ur(o,m);else if(kf(v,o,l,h,m))m.stopPropagation();else if(Ur(o,m),l&4&&-1<Au.indexOf(o)){for(;v!==null;){var S=bl(v);if(S!==null&&wu(S),S=Xe(o,l,h,m),S===null&&Vf(o,l,m,Le,h),S===v)break;v=S}v!==null&&m.stopPropagation()}else Vf(o,l,m,null,h)}}var Le=null;function Xe(o,l,h,m){if(Le=null,o=qa(m),o=Ls(o),o!==null)if(l=_n(o),l===null)o=null;else if(h=l.tag,h===13){if(o=hu(l),o!==null)return o;o=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return Le=o,null}function ct(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vf()){case Xi:return 1;case el:return 4;case So:case bf:return 16;case yu:return 536870912;default:return 16}default:return 16}}var Ie=null,ot=null,ln=null;function cn(){if(ln)return ln;var o,l=ot,h=l.length,m,v="value"in Ie?Ie.value:Ie.textContent,S=v.length;for(o=0;o<h&&l[o]===v[o];o++);var _=h-o;for(m=1;m<=_&&l[h-m]===v[S-m];m++);return ln=v.slice(o,1<m?1-m:void 0)}function Hr(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Qi(){return!0}function Po(){return!1}function un(o){function l(h,m,v,S,_){this._reactName=h,this._targetInst=v,this.type=m,this.nativeEvent=S,this.target=_,this.currentTarget=null;for(var I in o)o.hasOwnProperty(I)&&(h=o[I],this[I]=h?h(S):S[I]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Qi:Po,this.isPropagationStopped=Po,this}return ne(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),l}var Ro={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ef=un(Ro),ll=ne({},Ro,{view:0,detail:0}),nT=un(ll),_f,Pf,cl,Cu=ne({},ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mf,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==cl&&(cl&&o.type==="mousemove"?(_f=o.screenX-cl.screenX,Pf=o.screenY-cl.screenY):Pf=_f=0,cl=o),_f)},movementY:function(o){return"movementY"in o?o.movementY:Pf}}),$0=un(Cu),rT=ne({},Cu,{dataTransfer:0}),iT=un(rT),sT=ne({},ll,{relatedTarget:0}),Rf=un(sT),oT=ne({},Ro,{animationName:0,elapsedTime:0,pseudoElement:0}),aT=un(oT),lT=ne({},Ro,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),cT=un(lT),uT=ne({},Ro,{data:0}),z0=un(uT),dT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pT(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=fT[o])?!!l[o]:!1}function Mf(){return pT}var mT=ne({},ll,{key:function(o){if(o.key){var l=dT[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Hr(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?hT[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mf,charCode:function(o){return o.type==="keypress"?Hr(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Hr(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),gT=un(mT),yT=ne({},Cu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),V0=un(yT),vT=ne({},ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mf}),bT=un(vT),wT=ne({},Ro,{propertyName:0,elapsedTime:0,pseudoElement:0}),ST=un(wT),xT=ne({},Cu,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),AT=un(xT),CT=[9,13,27,32],Df=c&&"CompositionEvent"in window,ul=null;c&&"documentMode"in document&&(ul=document.documentMode);var kT=c&&"TextEvent"in window&&!ul,U0=c&&(!Df||ul&&8<ul&&11>=ul),H0=" ",W0=!1;function G0(o,l){switch(o){case"keyup":return CT.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X0(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Mo=!1;function TT(o,l){switch(o){case"compositionend":return X0(l);case"keypress":return l.which!==32?null:(W0=!0,H0);case"textInput":return o=l.data,o===H0&&W0?null:o;default:return null}}function ET(o,l){if(Mo)return o==="compositionend"||!Df&&G0(o,l)?(o=cn(),ln=ot=Ie=null,Mo=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return U0&&l.locale!=="ko"?null:l.data;default:return null}}var _T={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function K0(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!_T[o.type]:l==="textarea"}function Y0(o,l,h,m){lu(m),l=Pu(l,"onChange"),0<l.length&&(h=new Ef("onChange","change",null,h,m),o.push({event:h,listeners:l}))}var dl=null,hl=null;function PT(o){fv(o,0)}function ku(o){var l=No(o);if(fi(l))return o}function RT(o,l){if(o==="change")return l}var q0=!1;if(c){var If;if(c){var Lf="oninput"in document;if(!Lf){var Q0=document.createElement("div");Q0.setAttribute("oninput","return;"),Lf=typeof Q0.oninput=="function"}If=Lf}else If=!1;q0=If&&(!document.documentMode||9<document.documentMode)}function Z0(){dl&&(dl.detachEvent("onpropertychange",J0),hl=dl=null)}function J0(o){if(o.propertyName==="value"&&ku(hl)){var l=[];Y0(l,hl,o,qa(o)),Qn(PT,l)}}function MT(o,l,h){o==="focusin"?(Z0(),dl=l,hl=h,dl.attachEvent("onpropertychange",J0)):o==="focusout"&&Z0()}function DT(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return ku(hl)}function IT(o,l){if(o==="click")return ku(l)}function LT(o,l){if(o==="input"||o==="change")return ku(l)}function FT(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var kr=typeof Object.is=="function"?Object.is:FT;function fl(o,l){if(kr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var h=Object.keys(o),m=Object.keys(l);if(h.length!==m.length)return!1;for(m=0;m<h.length;m++){var v=h[m];if(!u.call(l,v)||!kr(o[v],l[v]))return!1}return!0}function ev(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function tv(o,l){var h=ev(o);o=0;for(var m;h;){if(h.nodeType===3){if(m=o+h.textContent.length,o<=l&&m>=l)return{node:h,offset:l-o};o=m}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=ev(h)}}function nv(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?nv(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function rv(){for(var o=window,l=pi();l instanceof o.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)o=l.contentWindow;else break;l=pi(o.document)}return l}function Ff(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function NT(o){var l=rv(),h=o.focusedElem,m=o.selectionRange;if(l!==h&&h&&h.ownerDocument&&nv(h.ownerDocument.documentElement,h)){if(m!==null&&Ff(h)){if(l=m.start,o=m.end,o===void 0&&(o=l),"selectionStart"in h)h.selectionStart=l,h.selectionEnd=Math.min(o,h.value.length);else if(o=(l=h.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var v=h.textContent.length,S=Math.min(m.start,v);m=m.end===void 0?S:Math.min(m.end,v),!o.extend&&S>m&&(v=m,m=S,S=v),v=tv(h,S);var _=tv(h,m);v&&_&&(o.rangeCount!==1||o.anchorNode!==v.node||o.anchorOffset!==v.offset||o.focusNode!==_.node||o.focusOffset!==_.offset)&&(l=l.createRange(),l.setStart(v.node,v.offset),o.removeAllRanges(),S>m?(o.addRange(l),o.extend(_.node,_.offset)):(l.setEnd(_.node,_.offset),o.addRange(l)))}}for(l=[],o=h;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<l.length;h++)o=l[h],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var OT=c&&"documentMode"in document&&11>=document.documentMode,Do=null,Nf=null,pl=null,Of=!1;function iv(o,l,h){var m=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Of||Do==null||Do!==pi(m)||(m=Do,"selectionStart"in m&&Ff(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),pl&&fl(pl,m)||(pl=m,m=Pu(Nf,"onSelect"),0<m.length&&(l=new Ef("onSelect","select",null,l,h),o.push({event:l,listeners:m}),l.target=Do)))}function Tu(o,l){var h={};return h[o.toLowerCase()]=l.toLowerCase(),h["Webkit"+o]="webkit"+l,h["Moz"+o]="moz"+l,h}var Io={animationend:Tu("Animation","AnimationEnd"),animationiteration:Tu("Animation","AnimationIteration"),animationstart:Tu("Animation","AnimationStart"),transitionend:Tu("Transition","TransitionEnd")},Bf={},sv={};c&&(sv=document.createElement("div").style,"AnimationEvent"in window||(delete Io.animationend.animation,delete Io.animationiteration.animation,delete Io.animationstart.animation),"TransitionEvent"in window||delete Io.transitionend.transition);function Eu(o){if(Bf[o])return Bf[o];if(!Io[o])return o;var l=Io[o],h;for(h in l)if(l.hasOwnProperty(h)&&h in sv)return Bf[o]=l[h];return o}var ov=Eu("animationend"),av=Eu("animationiteration"),lv=Eu("animationstart"),cv=Eu("transitionend"),uv=new Map,dv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zi(o,l){uv.set(o,l),s(l,[o])}for(var jf=0;jf<dv.length;jf++){var $f=dv[jf],BT=$f.toLowerCase(),jT=$f[0].toUpperCase()+$f.slice(1);Zi(BT,"on"+jT)}Zi(ov,"onAnimationEnd"),Zi(av,"onAnimationIteration"),Zi(lv,"onAnimationStart"),Zi("dblclick","onDoubleClick"),Zi("focusin","onFocus"),Zi("focusout","onBlur"),Zi(cv,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$T=new Set("cancel close invalid load scroll toggle".split(" ").concat(ml));function hv(o,l,h){var m=o.type||"unknown-event";o.currentTarget=h,mf(m,l,void 0,o),o.currentTarget=null}function fv(o,l){l=(l&4)!==0;for(var h=0;h<o.length;h++){var m=o[h],v=m.event;m=m.listeners;e:{var S=void 0;if(l)for(var _=m.length-1;0<=_;_--){var I=m[_],N=I.instance,X=I.currentTarget;if(I=I.listener,N!==S&&v.isPropagationStopped())break e;hv(v,I,X),S=N}else for(_=0;_<m.length;_++){if(I=m[_],N=I.instance,X=I.currentTarget,I=I.listener,N!==S&&v.isPropagationStopped())break e;hv(v,I,X),S=N}}}if(vo)throw o=Ja,vo=!1,Ja=null,o}function mt(o,l){var h=l[Kf];h===void 0&&(h=l[Kf]=new Set);var m=o+"__bubble";h.has(m)||(pv(l,o,2,!1),h.add(m))}function zf(o,l,h){var m=0;l&&(m|=4),pv(h,o,m,l)}var _u="_reactListening"+Math.random().toString(36).slice(2);function gl(o){if(!o[_u]){o[_u]=!0,r.forEach(function(h){h!=="selectionchange"&&($T.has(h)||zf(h,!1,o),zf(h,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[_u]||(l[_u]=!0,zf("selectionchange",!1,l))}}function pv(o,l,h,m){switch(ct(l)){case 1:var v=$;break;case 4:v=K;break;default:v=le}h=v.bind(null,l,h,o),v=void 0,!Za||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),m?v!==void 0?o.addEventListener(l,h,{capture:!0,passive:v}):o.addEventListener(l,h,!0):v!==void 0?o.addEventListener(l,h,{passive:v}):o.addEventListener(l,h,!1)}function Vf(o,l,h,m,v){var S=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var _=m.tag;if(_===3||_===4){var I=m.stateNode.containerInfo;if(I===v||I.nodeType===8&&I.parentNode===v)break;if(_===4)for(_=m.return;_!==null;){var N=_.tag;if((N===3||N===4)&&(N=_.stateNode.containerInfo,N===v||N.nodeType===8&&N.parentNode===v))return;_=_.return}for(;I!==null;){if(_=Ls(I),_===null)return;if(N=_.tag,N===5||N===6){m=S=_;continue e}I=I.parentNode}}m=m.return}Qn(function(){var X=S,J=qa(h),ee=[];e:{var Z=uv.get(o);if(Z!==void 0){var oe=Ef,he=o;switch(o){case"keypress":if(Hr(h)===0)break e;case"keydown":case"keyup":oe=gT;break;case"focusin":he="focus",oe=Rf;break;case"focusout":he="blur",oe=Rf;break;case"beforeblur":case"afterblur":oe=Rf;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=$0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=iT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=bT;break;case ov:case av:case lv:oe=aT;break;case cv:oe=ST;break;case"scroll":oe=nT;break;case"wheel":oe=AT;break;case"copy":case"cut":case"paste":oe=cT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=V0}var ge=(l&4)!==0,Dt=!ge&&o==="scroll",V=ge?Z!==null?Z+"Capture":null:Z;ge=[];for(var B=X,H;B!==null;){H=B;var te=H.stateNode;if(H.tag===5&&te!==null&&(H=te,V!==null&&(te=Ts(B,V),te!=null&&ge.push(yl(B,te,H)))),Dt)break;B=B.return}0<ge.length&&(Z=new oe(Z,he,null,h,J),ee.push({event:Z,listeners:ge}))}}if((l&7)===0){e:{if(Z=o==="mouseover"||o==="pointerover",oe=o==="mouseout"||o==="pointerout",Z&&h!==go&&(he=h.relatedTarget||h.fromElement)&&(Ls(he)||he[vi]))break e;if((oe||Z)&&(Z=J.window===J?J:(Z=J.ownerDocument)?Z.defaultView||Z.parentWindow:window,oe?(he=h.relatedTarget||h.toElement,oe=X,he=he?Ls(he):null,he!==null&&(Dt=_n(he),he!==Dt||he.tag!==5&&he.tag!==6)&&(he=null)):(oe=null,he=X),oe!==he)){if(ge=$0,te="onMouseLeave",V="onMouseEnter",B="mouse",(o==="pointerout"||o==="pointerover")&&(ge=V0,te="onPointerLeave",V="onPointerEnter",B="pointer"),Dt=oe==null?Z:No(oe),H=he==null?Z:No(he),Z=new ge(te,B+"leave",oe,h,J),Z.target=Dt,Z.relatedTarget=H,te=null,Ls(J)===X&&(ge=new ge(V,B+"enter",he,h,J),ge.target=H,ge.relatedTarget=Dt,te=ge),Dt=te,oe&&he)t:{for(ge=oe,V=he,B=0,H=ge;H;H=Lo(H))B++;for(H=0,te=V;te;te=Lo(te))H++;for(;0<B-H;)ge=Lo(ge),B--;for(;0<H-B;)V=Lo(V),H--;for(;B--;){if(ge===V||V!==null&&ge===V.alternate)break t;ge=Lo(ge),V=Lo(V)}ge=null}else ge=null;oe!==null&&mv(ee,Z,oe,ge,!1),he!==null&&Dt!==null&&mv(ee,Dt,he,ge,!0)}}e:{if(Z=X?No(X):window,oe=Z.nodeName&&Z.nodeName.toLowerCase(),oe==="select"||oe==="input"&&Z.type==="file")var ye=RT;else if(K0(Z))if(q0)ye=LT;else{ye=DT;var Ae=MT}else(oe=Z.nodeName)&&oe.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(ye=IT);if(ye&&(ye=ye(o,X))){Y0(ee,ye,h,J);break e}Ae&&Ae(o,Z,X),o==="focusout"&&(Ae=Z._wrapperState)&&Ae.controlled&&Z.type==="number"&&Ha(Z,"number",Z.value)}switch(Ae=X?No(X):window,o){case"focusin":(K0(Ae)||Ae.contentEditable==="true")&&(Do=Ae,Nf=X,pl=null);break;case"focusout":pl=Nf=Do=null;break;case"mousedown":Of=!0;break;case"contextmenu":case"mouseup":case"dragend":Of=!1,iv(ee,h,J);break;case"selectionchange":if(OT)break;case"keydown":case"keyup":iv(ee,h,J)}var Ce;if(Df)e:{switch(o){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Mo?G0(o,h)&&(Ee="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(Ee="onCompositionStart");Ee&&(U0&&h.locale!=="ko"&&(Mo||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Mo&&(Ce=cn()):(Ie=J,ot="value"in Ie?Ie.value:Ie.textContent,Mo=!0)),Ae=Pu(X,Ee),0<Ae.length&&(Ee=new z0(Ee,o,null,h,J),ee.push({event:Ee,listeners:Ae}),Ce?Ee.data=Ce:(Ce=X0(h),Ce!==null&&(Ee.data=Ce)))),(Ce=kT?TT(o,h):ET(o,h))&&(X=Pu(X,"onBeforeInput"),0<X.length&&(J=new z0("onBeforeInput","beforeinput",null,h,J),ee.push({event:J,listeners:X}),J.data=Ce))}fv(ee,l)})}function yl(o,l,h){return{instance:o,listener:l,currentTarget:h}}function Pu(o,l){for(var h=l+"Capture",m=[];o!==null;){var v=o,S=v.stateNode;v.tag===5&&S!==null&&(v=S,S=Ts(o,h),S!=null&&m.unshift(yl(o,S,v)),S=Ts(o,l),S!=null&&m.push(yl(o,S,v))),o=o.return}return m}function Lo(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function mv(o,l,h,m,v){for(var S=l._reactName,_=[];h!==null&&h!==m;){var I=h,N=I.alternate,X=I.stateNode;if(N!==null&&N===m)break;I.tag===5&&X!==null&&(I=X,v?(N=Ts(h,S),N!=null&&_.unshift(yl(h,N,I))):v||(N=Ts(h,S),N!=null&&_.push(yl(h,N,I)))),h=h.return}_.length!==0&&o.push({event:l,listeners:_})}var zT=/\r\n?/g,VT=/\u0000|\uFFFD/g;function gv(o){return(typeof o=="string"?o:""+o).replace(zT,`
`).replace(VT,"")}function Ru(o,l,h){if(l=gv(l),gv(o)!==l&&h)throw Error(t(425))}function Mu(){}var Uf=null,Hf=null;function Wf(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Gf=typeof setTimeout=="function"?setTimeout:void 0,UT=typeof clearTimeout=="function"?clearTimeout:void 0,yv=typeof Promise=="function"?Promise:void 0,HT=typeof queueMicrotask=="function"?queueMicrotask:typeof yv<"u"?function(o){return yv.resolve(null).then(o).catch(WT)}:Gf;function WT(o){setTimeout(function(){throw o})}function Xf(o,l){var h=l,m=0;do{var v=h.nextSibling;if(o.removeChild(h),v&&v.nodeType===8)if(h=v.data,h==="/$"){if(m===0){o.removeChild(v),Yi(l);return}m--}else h!=="$"&&h!=="$?"&&h!=="$!"||m++;h=v}while(h);Yi(l)}function Ji(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function vv(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return o;l--}else h==="/$"&&l++}o=o.previousSibling}return null}var Fo=Math.random().toString(36).slice(2),Wr="__reactFiber$"+Fo,vl="__reactProps$"+Fo,vi="__reactContainer$"+Fo,Kf="__reactEvents$"+Fo,GT="__reactListeners$"+Fo,XT="__reactHandles$"+Fo;function Ls(o){var l=o[Wr];if(l)return l;for(var h=o.parentNode;h;){if(l=h[vi]||h[Wr]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(o=vv(o);o!==null;){if(h=o[Wr])return h;o=vv(o)}return l}o=h,h=o.parentNode}return null}function bl(o){return o=o[Wr]||o[vi],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function No(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function Du(o){return o[vl]||null}var Yf=[],Oo=-1;function es(o){return{current:o}}function gt(o){0>Oo||(o.current=Yf[Oo],Yf[Oo]=null,Oo--)}function dt(o,l){Oo++,Yf[Oo]=o.current,o.current=l}var ts={},dn=es(ts),Pn=es(!1),Fs=ts;function Bo(o,l){var h=o.type.contextTypes;if(!h)return ts;var m=o.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===l)return m.__reactInternalMemoizedMaskedChildContext;var v={},S;for(S in h)v[S]=l[S];return m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=v),v}function Rn(o){return o=o.childContextTypes,o!=null}function Iu(){gt(Pn),gt(dn)}function bv(o,l,h){if(dn.current!==ts)throw Error(t(168));dt(dn,l),dt(Pn,h)}function wv(o,l,h){var m=o.stateNode;if(l=l.childContextTypes,typeof m.getChildContext!="function")return h;m=m.getChildContext();for(var v in m)if(!(v in l))throw Error(t(108,me(o)||"Unknown",v));return ne({},h,m)}function Lu(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||ts,Fs=dn.current,dt(dn,o),dt(Pn,Pn.current),!0}function Sv(o,l,h){var m=o.stateNode;if(!m)throw Error(t(169));h?(o=wv(o,l,Fs),m.__reactInternalMemoizedMergedChildContext=o,gt(Pn),gt(dn),dt(dn,o)):gt(Pn),dt(Pn,h)}var bi=null,Fu=!1,qf=!1;function xv(o){bi===null?bi=[o]:bi.push(o)}function KT(o){Fu=!0,xv(o)}function ns(){if(!qf&&bi!==null){qf=!0;var o=0,l=He;try{var h=bi;for(He=1;o<h.length;o++){var m=h[o];do m=m(!0);while(m!==null)}bi=null,Fu=!1}catch(v){throw bi!==null&&(bi=bi.slice(o+1)),gu(Xi,ns),v}finally{He=l,qf=!1}}return null}var jo=[],$o=0,Nu=null,Ou=0,rr=[],ir=0,Ns=null,wi=1,Si="";function Os(o,l){jo[$o++]=Ou,jo[$o++]=Nu,Nu=o,Ou=l}function Av(o,l,h){rr[ir++]=wi,rr[ir++]=Si,rr[ir++]=Ns,Ns=o;var m=wi;o=Si;var v=32-zn(m)-1;m&=~(1<<v),h+=1;var S=32-zn(l)+v;if(30<S){var _=v-v%5;S=(m&(1<<_)-1).toString(32),m>>=_,v-=_,wi=1<<32-zn(l)+v|h<<v|m,Si=S+o}else wi=1<<S|h<<v|m,Si=o}function Qf(o){o.return!==null&&(Os(o,1),Av(o,1,0))}function Zf(o){for(;o===Nu;)Nu=jo[--$o],jo[$o]=null,Ou=jo[--$o],jo[$o]=null;for(;o===Ns;)Ns=rr[--ir],rr[ir]=null,Si=rr[--ir],rr[ir]=null,wi=rr[--ir],rr[ir]=null}var Vn=null,Un=null,bt=!1,Tr=null;function Cv(o,l){var h=lr(5,null,null,0);h.elementType="DELETED",h.stateNode=l,h.return=o,l=o.deletions,l===null?(o.deletions=[h],o.flags|=16):l.push(h)}function kv(o,l){switch(o.tag){case 5:var h=o.type;return l=l.nodeType!==1||h.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,Vn=o,Un=Ji(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,Vn=o,Un=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(h=Ns!==null?{id:wi,overflow:Si}:null,o.memoizedState={dehydrated:l,treeContext:h,retryLane:1073741824},h=lr(18,null,null,0),h.stateNode=l,h.return=o,o.child=h,Vn=o,Un=null,!0):!1;default:return!1}}function Jf(o){return(o.mode&1)!==0&&(o.flags&128)===0}function ep(o){if(bt){var l=Un;if(l){var h=l;if(!kv(o,l)){if(Jf(o))throw Error(t(418));l=Ji(h.nextSibling);var m=Vn;l&&kv(o,l)?Cv(m,h):(o.flags=o.flags&-4097|2,bt=!1,Vn=o)}}else{if(Jf(o))throw Error(t(418));o.flags=o.flags&-4097|2,bt=!1,Vn=o}}}function Tv(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Vn=o}function Bu(o){if(o!==Vn)return!1;if(!bt)return Tv(o),bt=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!Wf(o.type,o.memoizedProps)),l&&(l=Un)){if(Jf(o))throw Ev(),Error(t(418));for(;l;)Cv(o,l),l=Ji(l.nextSibling)}if(Tv(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"){if(l===0){Un=Ji(o.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++}o=o.nextSibling}Un=null}}else Un=Vn?Ji(o.stateNode.nextSibling):null;return!0}function Ev(){for(var o=Un;o;)o=Ji(o.nextSibling)}function zo(){Un=Vn=null,bt=!1}function tp(o){Tr===null?Tr=[o]:Tr.push(o)}var YT=R.ReactCurrentBatchConfig;function wl(o,l,h){if(o=h.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(t(309));var m=h.stateNode}if(!m)throw Error(t(147,o));var v=m,S=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===S?l.ref:(l=function(_){var I=v.refs;_===null?delete I[S]:I[S]=_},l._stringRef=S,l)}if(typeof o!="string")throw Error(t(284));if(!h._owner)throw Error(t(290,o))}return o}function ju(o,l){throw o=Object.prototype.toString.call(l),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function _v(o){var l=o._init;return l(o._payload)}function Pv(o){function l(V,B){if(o){var H=V.deletions;H===null?(V.deletions=[B],V.flags|=16):H.push(B)}}function h(V,B){if(!o)return null;for(;B!==null;)l(V,B),B=B.sibling;return null}function m(V,B){for(V=new Map;B!==null;)B.key!==null?V.set(B.key,B):V.set(B.index,B),B=B.sibling;return V}function v(V,B){return V=us(V,B),V.index=0,V.sibling=null,V}function S(V,B,H){return V.index=H,o?(H=V.alternate,H!==null?(H=H.index,H<B?(V.flags|=2,B):H):(V.flags|=2,B)):(V.flags|=1048576,B)}function _(V){return o&&V.alternate===null&&(V.flags|=2),V}function I(V,B,H,te){return B===null||B.tag!==6?(B=Gp(H,V.mode,te),B.return=V,B):(B=v(B,H),B.return=V,B)}function N(V,B,H,te){var ye=H.type;return ye===L?J(V,B,H.props.children,te,H.key):B!==null&&(B.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===re&&_v(ye)===B.type)?(te=v(B,H.props),te.ref=wl(V,B,H),te.return=V,te):(te=cd(H.type,H.key,H.props,null,V.mode,te),te.ref=wl(V,B,H),te.return=V,te)}function X(V,B,H,te){return B===null||B.tag!==4||B.stateNode.containerInfo!==H.containerInfo||B.stateNode.implementation!==H.implementation?(B=Xp(H,V.mode,te),B.return=V,B):(B=v(B,H.children||[]),B.return=V,B)}function J(V,B,H,te,ye){return B===null||B.tag!==7?(B=Ws(H,V.mode,te,ye),B.return=V,B):(B=v(B,H),B.return=V,B)}function ee(V,B,H){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Gp(""+B,V.mode,H),B.return=V,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case P:return H=cd(B.type,B.key,B.props,null,V.mode,H),H.ref=wl(V,null,B),H.return=V,H;case M:return B=Xp(B,V.mode,H),B.return=V,B;case re:var te=B._init;return ee(V,te(B._payload),H)}if($r(B)||ie(B))return B=Ws(B,V.mode,H,null),B.return=V,B;ju(V,B)}return null}function Z(V,B,H,te){var ye=B!==null?B.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return ye!==null?null:I(V,B,""+H,te);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case P:return H.key===ye?N(V,B,H,te):null;case M:return H.key===ye?X(V,B,H,te):null;case re:return ye=H._init,Z(V,B,ye(H._payload),te)}if($r(H)||ie(H))return ye!==null?null:J(V,B,H,te,null);ju(V,H)}return null}function oe(V,B,H,te,ye){if(typeof te=="string"&&te!==""||typeof te=="number")return V=V.get(H)||null,I(B,V,""+te,ye);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case P:return V=V.get(te.key===null?H:te.key)||null,N(B,V,te,ye);case M:return V=V.get(te.key===null?H:te.key)||null,X(B,V,te,ye);case re:var Ae=te._init;return oe(V,B,H,Ae(te._payload),ye)}if($r(te)||ie(te))return V=V.get(H)||null,J(B,V,te,ye,null);ju(B,te)}return null}function he(V,B,H,te){for(var ye=null,Ae=null,Ce=B,Ee=B=0,qt=null;Ce!==null&&Ee<H.length;Ee++){Ce.index>Ee?(qt=Ce,Ce=null):qt=Ce.sibling;var We=Z(V,Ce,H[Ee],te);if(We===null){Ce===null&&(Ce=qt);break}o&&Ce&&We.alternate===null&&l(V,Ce),B=S(We,B,Ee),Ae===null?ye=We:Ae.sibling=We,Ae=We,Ce=qt}if(Ee===H.length)return h(V,Ce),bt&&Os(V,Ee),ye;if(Ce===null){for(;Ee<H.length;Ee++)Ce=ee(V,H[Ee],te),Ce!==null&&(B=S(Ce,B,Ee),Ae===null?ye=Ce:Ae.sibling=Ce,Ae=Ce);return bt&&Os(V,Ee),ye}for(Ce=m(V,Ce);Ee<H.length;Ee++)qt=oe(Ce,V,Ee,H[Ee],te),qt!==null&&(o&&qt.alternate!==null&&Ce.delete(qt.key===null?Ee:qt.key),B=S(qt,B,Ee),Ae===null?ye=qt:Ae.sibling=qt,Ae=qt);return o&&Ce.forEach(function(ds){return l(V,ds)}),bt&&Os(V,Ee),ye}function ge(V,B,H,te){var ye=ie(H);if(typeof ye!="function")throw Error(t(150));if(H=ye.call(H),H==null)throw Error(t(151));for(var Ae=ye=null,Ce=B,Ee=B=0,qt=null,We=H.next();Ce!==null&&!We.done;Ee++,We=H.next()){Ce.index>Ee?(qt=Ce,Ce=null):qt=Ce.sibling;var ds=Z(V,Ce,We.value,te);if(ds===null){Ce===null&&(Ce=qt);break}o&&Ce&&ds.alternate===null&&l(V,Ce),B=S(ds,B,Ee),Ae===null?ye=ds:Ae.sibling=ds,Ae=ds,Ce=qt}if(We.done)return h(V,Ce),bt&&Os(V,Ee),ye;if(Ce===null){for(;!We.done;Ee++,We=H.next())We=ee(V,We.value,te),We!==null&&(B=S(We,B,Ee),Ae===null?ye=We:Ae.sibling=We,Ae=We);return bt&&Os(V,Ee),ye}for(Ce=m(V,Ce);!We.done;Ee++,We=H.next())We=oe(Ce,V,Ee,We.value,te),We!==null&&(o&&We.alternate!==null&&Ce.delete(We.key===null?Ee:We.key),B=S(We,B,Ee),Ae===null?ye=We:Ae.sibling=We,Ae=We);return o&&Ce.forEach(function(_E){return l(V,_E)}),bt&&Os(V,Ee),ye}function Dt(V,B,H,te){if(typeof H=="object"&&H!==null&&H.type===L&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case P:e:{for(var ye=H.key,Ae=B;Ae!==null;){if(Ae.key===ye){if(ye=H.type,ye===L){if(Ae.tag===7){h(V,Ae.sibling),B=v(Ae,H.props.children),B.return=V,V=B;break e}}else if(Ae.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===re&&_v(ye)===Ae.type){h(V,Ae.sibling),B=v(Ae,H.props),B.ref=wl(V,Ae,H),B.return=V,V=B;break e}h(V,Ae);break}else l(V,Ae);Ae=Ae.sibling}H.type===L?(B=Ws(H.props.children,V.mode,te,H.key),B.return=V,V=B):(te=cd(H.type,H.key,H.props,null,V.mode,te),te.ref=wl(V,B,H),te.return=V,V=te)}return _(V);case M:e:{for(Ae=H.key;B!==null;){if(B.key===Ae)if(B.tag===4&&B.stateNode.containerInfo===H.containerInfo&&B.stateNode.implementation===H.implementation){h(V,B.sibling),B=v(B,H.children||[]),B.return=V,V=B;break e}else{h(V,B);break}else l(V,B);B=B.sibling}B=Xp(H,V.mode,te),B.return=V,V=B}return _(V);case re:return Ae=H._init,Dt(V,B,Ae(H._payload),te)}if($r(H))return he(V,B,H,te);if(ie(H))return ge(V,B,H,te);ju(V,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,B!==null&&B.tag===6?(h(V,B.sibling),B=v(B,H),B.return=V,V=B):(h(V,B),B=Gp(H,V.mode,te),B.return=V,V=B),_(V)):h(V,B)}return Dt}var Vo=Pv(!0),Rv=Pv(!1),$u=es(null),zu=null,Uo=null,np=null;function rp(){np=Uo=zu=null}function ip(o){var l=$u.current;gt($u),o._currentValue=l}function sp(o,l,h){for(;o!==null;){var m=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),o===h)break;o=o.return}}function Ho(o,l){zu=o,np=Uo=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(Mn=!0),o.firstContext=null)}function sr(o){var l=o._currentValue;if(np!==o)if(o={context:o,memoizedValue:l,next:null},Uo===null){if(zu===null)throw Error(t(308));Uo=o,zu.dependencies={lanes:0,firstContext:o}}else Uo=Uo.next=o;return l}var Bs=null;function op(o){Bs===null?Bs=[o]:Bs.push(o)}function Mv(o,l,h,m){var v=l.interleaved;return v===null?(h.next=h,op(l)):(h.next=v.next,v.next=h),l.interleaved=h,xi(o,m)}function xi(o,l){o.lanes|=l;var h=o.alternate;for(h!==null&&(h.lanes|=l),h=o,o=o.return;o!==null;)o.childLanes|=l,h=o.alternate,h!==null&&(h.childLanes|=l),h=o,o=o.return;return h.tag===3?h.stateNode:null}var rs=!1;function ap(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dv(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Ai(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function is(o,l,h){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(Ue&2)!==0){var v=m.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),m.pending=l,xi(o,h)}return v=m.interleaved,v===null?(l.next=l,op(m)):(l.next=v.next,v.next=l),m.interleaved=l,xi(o,h)}function Vu(o,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194240)!==0)){var m=l.lanes;m&=o.pendingLanes,h|=m,l.lanes=h,rl(o,h)}}function Iv(o,l){var h=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,h===m)){var v=null,S=null;if(h=h.firstBaseUpdate,h!==null){do{var _={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};S===null?v=S=_:S=S.next=_,h=h.next}while(h!==null);S===null?v=S=l:S=S.next=l}else v=S=l;h={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:S,shared:m.shared,effects:m.effects},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=l:o.next=l,h.lastBaseUpdate=l}function Uu(o,l,h,m){var v=o.updateQueue;rs=!1;var S=v.firstBaseUpdate,_=v.lastBaseUpdate,I=v.shared.pending;if(I!==null){v.shared.pending=null;var N=I,X=N.next;N.next=null,_===null?S=X:_.next=X,_=N;var J=o.alternate;J!==null&&(J=J.updateQueue,I=J.lastBaseUpdate,I!==_&&(I===null?J.firstBaseUpdate=X:I.next=X,J.lastBaseUpdate=N))}if(S!==null){var ee=v.baseState;_=0,J=X=N=null,I=S;do{var Z=I.lane,oe=I.eventTime;if((m&Z)===Z){J!==null&&(J=J.next={eventTime:oe,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var he=o,ge=I;switch(Z=l,oe=h,ge.tag){case 1:if(he=ge.payload,typeof he=="function"){ee=he.call(oe,ee,Z);break e}ee=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ge.payload,Z=typeof he=="function"?he.call(oe,ee,Z):he,Z==null)break e;ee=ne({},ee,Z);break e;case 2:rs=!0}}I.callback!==null&&I.lane!==0&&(o.flags|=64,Z=v.effects,Z===null?v.effects=[I]:Z.push(I))}else oe={eventTime:oe,lane:Z,tag:I.tag,payload:I.payload,callback:I.callback,next:null},J===null?(X=J=oe,N=ee):J=J.next=oe,_|=Z;if(I=I.next,I===null){if(I=v.shared.pending,I===null)break;Z=I,I=Z.next,Z.next=null,v.lastBaseUpdate=Z,v.shared.pending=null}}while(!0);if(J===null&&(N=ee),v.baseState=N,v.firstBaseUpdate=X,v.lastBaseUpdate=J,l=v.shared.interleaved,l!==null){v=l;do _|=v.lane,v=v.next;while(v!==l)}else S===null&&(v.shared.lanes=0);zs|=_,o.lanes=_,o.memoizedState=ee}}function Lv(o,l,h){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var m=o[l],v=m.callback;if(v!==null){if(m.callback=null,m=h,typeof v!="function")throw Error(t(191,v));v.call(m)}}}var Sl={},Gr=es(Sl),xl=es(Sl),Al=es(Sl);function js(o){if(o===Sl)throw Error(t(174));return o}function lp(o,l){switch(dt(Al,l),dt(xl,o),dt(Gr,Sl),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Xa(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=Xa(l,o)}gt(Gr),dt(Gr,l)}function Wo(){gt(Gr),gt(xl),gt(Al)}function Fv(o){js(Al.current);var l=js(Gr.current),h=Xa(l,o.type);l!==h&&(dt(xl,o),dt(Gr,h))}function cp(o){xl.current===o&&(gt(Gr),gt(xl))}var xt=es(0);function Hu(o){for(var l=o;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var up=[];function dp(){for(var o=0;o<up.length;o++)up[o]._workInProgressVersionPrimary=null;up.length=0}var Wu=R.ReactCurrentDispatcher,hp=R.ReactCurrentBatchConfig,$s=0,At=null,zt=null,Kt=null,Gu=!1,Cl=!1,kl=0,qT=0;function hn(){throw Error(t(321))}function fp(o,l){if(l===null)return!1;for(var h=0;h<l.length&&h<o.length;h++)if(!kr(o[h],l[h]))return!1;return!0}function pp(o,l,h,m,v,S){if($s=S,At=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Wu.current=o===null||o.memoizedState===null?eE:tE,o=h(m,v),Cl){S=0;do{if(Cl=!1,kl=0,25<=S)throw Error(t(301));S+=1,Kt=zt=null,l.updateQueue=null,Wu.current=nE,o=h(m,v)}while(Cl)}if(Wu.current=Yu,l=zt!==null&&zt.next!==null,$s=0,Kt=zt=At=null,Gu=!1,l)throw Error(t(300));return o}function mp(){var o=kl!==0;return kl=0,o}function Xr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?At.memoizedState=Kt=o:Kt=Kt.next=o,Kt}function or(){if(zt===null){var o=At.alternate;o=o!==null?o.memoizedState:null}else o=zt.next;var l=Kt===null?At.memoizedState:Kt.next;if(l!==null)Kt=l,zt=o;else{if(o===null)throw Error(t(310));zt=o,o={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Kt===null?At.memoizedState=Kt=o:Kt=Kt.next=o}return Kt}function Tl(o,l){return typeof l=="function"?l(o):l}function gp(o){var l=or(),h=l.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=o;var m=zt,v=m.baseQueue,S=h.pending;if(S!==null){if(v!==null){var _=v.next;v.next=S.next,S.next=_}m.baseQueue=v=S,h.pending=null}if(v!==null){S=v.next,m=m.baseState;var I=_=null,N=null,X=S;do{var J=X.lane;if(($s&J)===J)N!==null&&(N=N.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),m=X.hasEagerState?X.eagerState:o(m,X.action);else{var ee={lane:J,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};N===null?(I=N=ee,_=m):N=N.next=ee,At.lanes|=J,zs|=J}X=X.next}while(X!==null&&X!==S);N===null?_=m:N.next=I,kr(m,l.memoizedState)||(Mn=!0),l.memoizedState=m,l.baseState=_,l.baseQueue=N,h.lastRenderedState=m}if(o=h.interleaved,o!==null){v=o;do S=v.lane,At.lanes|=S,zs|=S,v=v.next;while(v!==o)}else v===null&&(h.lanes=0);return[l.memoizedState,h.dispatch]}function yp(o){var l=or(),h=l.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=o;var m=h.dispatch,v=h.pending,S=l.memoizedState;if(v!==null){h.pending=null;var _=v=v.next;do S=o(S,_.action),_=_.next;while(_!==v);kr(S,l.memoizedState)||(Mn=!0),l.memoizedState=S,l.baseQueue===null&&(l.baseState=S),h.lastRenderedState=S}return[S,m]}function Nv(){}function Ov(o,l){var h=At,m=or(),v=l(),S=!kr(m.memoizedState,v);if(S&&(m.memoizedState=v,Mn=!0),m=m.queue,vp($v.bind(null,h,m,o),[o]),m.getSnapshot!==l||S||Kt!==null&&Kt.memoizedState.tag&1){if(h.flags|=2048,El(9,jv.bind(null,h,m,v,l),void 0,null),Yt===null)throw Error(t(349));($s&30)!==0||Bv(h,l,v)}return v}function Bv(o,l,h){o.flags|=16384,o={getSnapshot:l,value:h},l=At.updateQueue,l===null?(l={lastEffect:null,stores:null},At.updateQueue=l,l.stores=[o]):(h=l.stores,h===null?l.stores=[o]:h.push(o))}function jv(o,l,h,m){l.value=h,l.getSnapshot=m,zv(l)&&Vv(o)}function $v(o,l,h){return h(function(){zv(l)&&Vv(o)})}function zv(o){var l=o.getSnapshot;o=o.value;try{var h=l();return!kr(o,h)}catch{return!0}}function Vv(o){var l=xi(o,1);l!==null&&Rr(l,o,1,-1)}function Uv(o){var l=Xr();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tl,lastRenderedState:o},l.queue=o,o=o.dispatch=JT.bind(null,At,o),[l.memoizedState,o]}function El(o,l,h,m){return o={tag:o,create:l,destroy:h,deps:m,next:null},l=At.updateQueue,l===null?(l={lastEffect:null,stores:null},At.updateQueue=l,l.lastEffect=o.next=o):(h=l.lastEffect,h===null?l.lastEffect=o.next=o:(m=h.next,h.next=o,o.next=m,l.lastEffect=o)),o}function Hv(){return or().memoizedState}function Xu(o,l,h,m){var v=Xr();At.flags|=o,v.memoizedState=El(1|l,h,void 0,m===void 0?null:m)}function Ku(o,l,h,m){var v=or();m=m===void 0?null:m;var S=void 0;if(zt!==null){var _=zt.memoizedState;if(S=_.destroy,m!==null&&fp(m,_.deps)){v.memoizedState=El(l,h,S,m);return}}At.flags|=o,v.memoizedState=El(1|l,h,S,m)}function Wv(o,l){return Xu(8390656,8,o,l)}function vp(o,l){return Ku(2048,8,o,l)}function Gv(o,l){return Ku(4,2,o,l)}function Xv(o,l){return Ku(4,4,o,l)}function Kv(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function Yv(o,l,h){return h=h!=null?h.concat([o]):null,Ku(4,4,Kv.bind(null,l,o),h)}function bp(){}function qv(o,l){var h=or();l=l===void 0?null:l;var m=h.memoizedState;return m!==null&&l!==null&&fp(l,m[1])?m[0]:(h.memoizedState=[o,l],o)}function Qv(o,l){var h=or();l=l===void 0?null:l;var m=h.memoizedState;return m!==null&&l!==null&&fp(l,m[1])?m[0]:(o=o(),h.memoizedState=[o,l],o)}function Zv(o,l,h){return($s&21)===0?(o.baseState&&(o.baseState=!1,Mn=!0),o.memoizedState=h):(kr(h,l)||(h=vu(),At.lanes|=h,zs|=h,o.baseState=!0),l)}function QT(o,l){var h=He;He=h!==0&&4>h?h:4,o(!0);var m=hp.transition;hp.transition={};try{o(!1),l()}finally{He=h,hp.transition=m}}function Jv(){return or().memoizedState}function ZT(o,l,h){var m=ls(o);if(h={lane:m,action:h,hasEagerState:!1,eagerState:null,next:null},eb(o))tb(l,h);else if(h=Mv(o,l,h,m),h!==null){var v=wn();Rr(h,o,m,v),nb(h,l,m)}}function JT(o,l,h){var m=ls(o),v={lane:m,action:h,hasEagerState:!1,eagerState:null,next:null};if(eb(o))tb(l,v);else{var S=o.alternate;if(o.lanes===0&&(S===null||S.lanes===0)&&(S=l.lastRenderedReducer,S!==null))try{var _=l.lastRenderedState,I=S(_,h);if(v.hasEagerState=!0,v.eagerState=I,kr(I,_)){var N=l.interleaved;N===null?(v.next=v,op(l)):(v.next=N.next,N.next=v),l.interleaved=v;return}}catch{}h=Mv(o,l,v,m),h!==null&&(v=wn(),Rr(h,o,m,v),nb(h,l,m))}}function eb(o){var l=o.alternate;return o===At||l!==null&&l===At}function tb(o,l){Cl=Gu=!0;var h=o.pending;h===null?l.next=l:(l.next=h.next,h.next=l),o.pending=l}function nb(o,l,h){if((h&4194240)!==0){var m=l.lanes;m&=o.pendingLanes,h|=m,l.lanes=h,rl(o,h)}}var Yu={readContext:sr,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useInsertionEffect:hn,useLayoutEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useMutableSource:hn,useSyncExternalStore:hn,useId:hn,unstable_isNewReconciler:!1},eE={readContext:sr,useCallback:function(o,l){return Xr().memoizedState=[o,l===void 0?null:l],o},useContext:sr,useEffect:Wv,useImperativeHandle:function(o,l,h){return h=h!=null?h.concat([o]):null,Xu(4194308,4,Kv.bind(null,l,o),h)},useLayoutEffect:function(o,l){return Xu(4194308,4,o,l)},useInsertionEffect:function(o,l){return Xu(4,2,o,l)},useMemo:function(o,l){var h=Xr();return l=l===void 0?null:l,o=o(),h.memoizedState=[o,l],o},useReducer:function(o,l,h){var m=Xr();return l=h!==void 0?h(l):l,m.memoizedState=m.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},m.queue=o,o=o.dispatch=ZT.bind(null,At,o),[m.memoizedState,o]},useRef:function(o){var l=Xr();return o={current:o},l.memoizedState=o},useState:Uv,useDebugValue:bp,useDeferredValue:function(o){return Xr().memoizedState=o},useTransition:function(){var o=Uv(!1),l=o[0];return o=QT.bind(null,o[1]),Xr().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,h){var m=At,v=Xr();if(bt){if(h===void 0)throw Error(t(407));h=h()}else{if(h=l(),Yt===null)throw Error(t(349));($s&30)!==0||Bv(m,l,h)}v.memoizedState=h;var S={value:h,getSnapshot:l};return v.queue=S,Wv($v.bind(null,m,S,o),[o]),m.flags|=2048,El(9,jv.bind(null,m,S,h,l),void 0,null),h},useId:function(){var o=Xr(),l=Yt.identifierPrefix;if(bt){var h=Si,m=wi;h=(m&~(1<<32-zn(m)-1)).toString(32)+h,l=":"+l+"R"+h,h=kl++,0<h&&(l+="H"+h.toString(32)),l+=":"}else h=qT++,l=":"+l+"r"+h.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},tE={readContext:sr,useCallback:qv,useContext:sr,useEffect:vp,useImperativeHandle:Yv,useInsertionEffect:Gv,useLayoutEffect:Xv,useMemo:Qv,useReducer:gp,useRef:Hv,useState:function(){return gp(Tl)},useDebugValue:bp,useDeferredValue:function(o){var l=or();return Zv(l,zt.memoizedState,o)},useTransition:function(){var o=gp(Tl)[0],l=or().memoizedState;return[o,l]},useMutableSource:Nv,useSyncExternalStore:Ov,useId:Jv,unstable_isNewReconciler:!1},nE={readContext:sr,useCallback:qv,useContext:sr,useEffect:vp,useImperativeHandle:Yv,useInsertionEffect:Gv,useLayoutEffect:Xv,useMemo:Qv,useReducer:yp,useRef:Hv,useState:function(){return yp(Tl)},useDebugValue:bp,useDeferredValue:function(o){var l=or();return zt===null?l.memoizedState=o:Zv(l,zt.memoizedState,o)},useTransition:function(){var o=yp(Tl)[0],l=or().memoizedState;return[o,l]},useMutableSource:Nv,useSyncExternalStore:Ov,useId:Jv,unstable_isNewReconciler:!1};function Er(o,l){if(o&&o.defaultProps){l=ne({},l),o=o.defaultProps;for(var h in o)l[h]===void 0&&(l[h]=o[h]);return l}return l}function wp(o,l,h,m){l=o.memoizedState,h=h(m,l),h=h==null?l:ne({},l,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var qu={isMounted:function(o){return(o=o._reactInternals)?_n(o)===o:!1},enqueueSetState:function(o,l,h){o=o._reactInternals;var m=wn(),v=ls(o),S=Ai(m,v);S.payload=l,h!=null&&(S.callback=h),l=is(o,S,v),l!==null&&(Rr(l,o,v,m),Vu(l,o,v))},enqueueReplaceState:function(o,l,h){o=o._reactInternals;var m=wn(),v=ls(o),S=Ai(m,v);S.tag=1,S.payload=l,h!=null&&(S.callback=h),l=is(o,S,v),l!==null&&(Rr(l,o,v,m),Vu(l,o,v))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var h=wn(),m=ls(o),v=Ai(h,m);v.tag=2,l!=null&&(v.callback=l),l=is(o,v,m),l!==null&&(Rr(l,o,m,h),Vu(l,o,m))}};function rb(o,l,h,m,v,S,_){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,S,_):l.prototype&&l.prototype.isPureReactComponent?!fl(h,m)||!fl(v,S):!0}function ib(o,l,h){var m=!1,v=ts,S=l.contextType;return typeof S=="object"&&S!==null?S=sr(S):(v=Rn(l)?Fs:dn.current,m=l.contextTypes,S=(m=m!=null)?Bo(o,v):ts),l=new l(h,S),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=qu,o.stateNode=l,l._reactInternals=o,m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=v,o.__reactInternalMemoizedMaskedChildContext=S),l}function sb(o,l,h,m){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,m),l.state!==o&&qu.enqueueReplaceState(l,l.state,null)}function Sp(o,l,h,m){var v=o.stateNode;v.props=h,v.state=o.memoizedState,v.refs={},ap(o);var S=l.contextType;typeof S=="object"&&S!==null?v.context=sr(S):(S=Rn(l)?Fs:dn.current,v.context=Bo(o,S)),v.state=o.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(wp(o,l,S,h),v.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(l=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),l!==v.state&&qu.enqueueReplaceState(v,v.state,null),Uu(o,h,v,m),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308)}function Go(o,l){try{var h="",m=l;do h+=pe(m),m=m.return;while(m);var v=h}catch(S){v=`
Error generating stack: `+S.message+`
`+S.stack}return{value:o,source:l,stack:v,digest:null}}function xp(o,l,h){return{value:o,source:null,stack:h??null,digest:l??null}}function Ap(o,l){try{console.error(l.value)}catch(h){setTimeout(function(){throw h})}}var rE=typeof WeakMap=="function"?WeakMap:Map;function ob(o,l,h){h=Ai(-1,h),h.tag=3,h.payload={element:null};var m=l.value;return h.callback=function(){rd||(rd=!0,Bp=m),Ap(o,l)},h}function ab(o,l,h){h=Ai(-1,h),h.tag=3;var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var v=l.value;h.payload=function(){return m(v)},h.callback=function(){Ap(o,l)}}var S=o.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(h.callback=function(){Ap(o,l),typeof m!="function"&&(os===null?os=new Set([this]):os.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})}),h}function lb(o,l,h){var m=o.pingCache;if(m===null){m=o.pingCache=new rE;var v=new Set;m.set(l,v)}else v=m.get(l),v===void 0&&(v=new Set,m.set(l,v));v.has(h)||(v.add(h),o=yE.bind(null,o,l,h),l.then(o,o))}function cb(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function ub(o,l,h,m,v){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(l=Ai(-1,1),l.tag=2,is(h,l,1))),h.lanes|=1),o):(o.flags|=65536,o.lanes=v,o)}var iE=R.ReactCurrentOwner,Mn=!1;function bn(o,l,h,m){l.child=o===null?Rv(l,null,h,m):Vo(l,o.child,h,m)}function db(o,l,h,m,v){h=h.render;var S=l.ref;return Ho(l,v),m=pp(o,l,h,m,S,v),h=mp(),o!==null&&!Mn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~v,Ci(o,l,v)):(bt&&h&&Qf(l),l.flags|=1,bn(o,l,m,v),l.child)}function hb(o,l,h,m,v){if(o===null){var S=h.type;return typeof S=="function"&&!Wp(S)&&S.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(l.tag=15,l.type=S,fb(o,l,S,m,v)):(o=cd(h.type,null,m,l,l.mode,v),o.ref=l.ref,o.return=l,l.child=o)}if(S=o.child,(o.lanes&v)===0){var _=S.memoizedProps;if(h=h.compare,h=h!==null?h:fl,h(_,m)&&o.ref===l.ref)return Ci(o,l,v)}return l.flags|=1,o=us(S,m),o.ref=l.ref,o.return=l,l.child=o}function fb(o,l,h,m,v){if(o!==null){var S=o.memoizedProps;if(fl(S,m)&&o.ref===l.ref)if(Mn=!1,l.pendingProps=m=S,(o.lanes&v)!==0)(o.flags&131072)!==0&&(Mn=!0);else return l.lanes=o.lanes,Ci(o,l,v)}return Cp(o,l,h,m,v)}function pb(o,l,h){var m=l.pendingProps,v=m.children,S=o!==null?o.memoizedState:null;if(m.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(Ko,Hn),Hn|=h;else{if((h&1073741824)===0)return o=S!==null?S.baseLanes|h:h,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,dt(Ko,Hn),Hn|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=S!==null?S.baseLanes:h,dt(Ko,Hn),Hn|=m}else S!==null?(m=S.baseLanes|h,l.memoizedState=null):m=h,dt(Ko,Hn),Hn|=m;return bn(o,l,v,h),l.child}function mb(o,l){var h=l.ref;(o===null&&h!==null||o!==null&&o.ref!==h)&&(l.flags|=512,l.flags|=2097152)}function Cp(o,l,h,m,v){var S=Rn(h)?Fs:dn.current;return S=Bo(l,S),Ho(l,v),h=pp(o,l,h,m,S,v),m=mp(),o!==null&&!Mn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~v,Ci(o,l,v)):(bt&&m&&Qf(l),l.flags|=1,bn(o,l,h,v),l.child)}function gb(o,l,h,m,v){if(Rn(h)){var S=!0;Lu(l)}else S=!1;if(Ho(l,v),l.stateNode===null)Zu(o,l),ib(l,h,m),Sp(l,h,m,v),m=!0;else if(o===null){var _=l.stateNode,I=l.memoizedProps;_.props=I;var N=_.context,X=h.contextType;typeof X=="object"&&X!==null?X=sr(X):(X=Rn(h)?Fs:dn.current,X=Bo(l,X));var J=h.getDerivedStateFromProps,ee=typeof J=="function"||typeof _.getSnapshotBeforeUpdate=="function";ee||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==m||N!==X)&&sb(l,_,m,X),rs=!1;var Z=l.memoizedState;_.state=Z,Uu(l,m,_,v),N=l.memoizedState,I!==m||Z!==N||Pn.current||rs?(typeof J=="function"&&(wp(l,h,J,m),N=l.memoizedState),(I=rs||rb(l,h,I,m,Z,N,X))?(ee||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(l.flags|=4194308)):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=N),_.props=m,_.state=N,_.context=X,m=I):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{_=l.stateNode,Dv(o,l),I=l.memoizedProps,X=l.type===l.elementType?I:Er(l.type,I),_.props=X,ee=l.pendingProps,Z=_.context,N=h.contextType,typeof N=="object"&&N!==null?N=sr(N):(N=Rn(h)?Fs:dn.current,N=Bo(l,N));var oe=h.getDerivedStateFromProps;(J=typeof oe=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==ee||Z!==N)&&sb(l,_,m,N),rs=!1,Z=l.memoizedState,_.state=Z,Uu(l,m,_,v);var he=l.memoizedState;I!==ee||Z!==he||Pn.current||rs?(typeof oe=="function"&&(wp(l,h,oe,m),he=l.memoizedState),(X=rs||rb(l,h,X,m,Z,he,N)||!1)?(J||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(m,he,N),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(m,he,N)),typeof _.componentDidUpdate=="function"&&(l.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof _.componentDidUpdate!="function"||I===o.memoizedProps&&Z===o.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===o.memoizedProps&&Z===o.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=he),_.props=m,_.state=he,_.context=N,m=X):(typeof _.componentDidUpdate!="function"||I===o.memoizedProps&&Z===o.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===o.memoizedProps&&Z===o.memoizedState||(l.flags|=1024),m=!1)}return kp(o,l,h,m,S,v)}function kp(o,l,h,m,v,S){mb(o,l);var _=(l.flags&128)!==0;if(!m&&!_)return v&&Sv(l,h,!1),Ci(o,l,S);m=l.stateNode,iE.current=l;var I=_&&typeof h.getDerivedStateFromError!="function"?null:m.render();return l.flags|=1,o!==null&&_?(l.child=Vo(l,o.child,null,S),l.child=Vo(l,null,I,S)):bn(o,l,I,S),l.memoizedState=m.state,v&&Sv(l,h,!0),l.child}function yb(o){var l=o.stateNode;l.pendingContext?bv(o,l.pendingContext,l.pendingContext!==l.context):l.context&&bv(o,l.context,!1),lp(o,l.containerInfo)}function vb(o,l,h,m,v){return zo(),tp(v),l.flags|=256,bn(o,l,h,m),l.child}var Tp={dehydrated:null,treeContext:null,retryLane:0};function Ep(o){return{baseLanes:o,cachePool:null,transitions:null}}function bb(o,l,h){var m=l.pendingProps,v=xt.current,S=!1,_=(l.flags&128)!==0,I;if((I=_)||(I=o!==null&&o.memoizedState===null?!1:(v&2)!==0),I?(S=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(v|=1),dt(xt,v&1),o===null)return ep(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(_=m.children,o=m.fallback,S?(m=l.mode,S=l.child,_={mode:"hidden",children:_},(m&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=_):S=ud(_,m,0,null),o=Ws(o,m,h,null),S.return=l,o.return=l,S.sibling=o,l.child=S,l.child.memoizedState=Ep(h),l.memoizedState=Tp,o):_p(l,_));if(v=o.memoizedState,v!==null&&(I=v.dehydrated,I!==null))return sE(o,l,_,m,I,v,h);if(S){S=m.fallback,_=l.mode,v=o.child,I=v.sibling;var N={mode:"hidden",children:m.children};return(_&1)===0&&l.child!==v?(m=l.child,m.childLanes=0,m.pendingProps=N,l.deletions=null):(m=us(v,N),m.subtreeFlags=v.subtreeFlags&14680064),I!==null?S=us(I,S):(S=Ws(S,_,h,null),S.flags|=2),S.return=l,m.return=l,m.sibling=S,l.child=m,m=S,S=l.child,_=o.child.memoizedState,_=_===null?Ep(h):{baseLanes:_.baseLanes|h,cachePool:null,transitions:_.transitions},S.memoizedState=_,S.childLanes=o.childLanes&~h,l.memoizedState=Tp,m}return S=o.child,o=S.sibling,m=us(S,{mode:"visible",children:m.children}),(l.mode&1)===0&&(m.lanes=h),m.return=l,m.sibling=null,o!==null&&(h=l.deletions,h===null?(l.deletions=[o],l.flags|=16):h.push(o)),l.child=m,l.memoizedState=null,m}function _p(o,l){return l=ud({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function Qu(o,l,h,m){return m!==null&&tp(m),Vo(l,o.child,null,h),o=_p(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function sE(o,l,h,m,v,S,_){if(h)return l.flags&256?(l.flags&=-257,m=xp(Error(t(422))),Qu(o,l,_,m)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(S=m.fallback,v=l.mode,m=ud({mode:"visible",children:m.children},v,0,null),S=Ws(S,v,_,null),S.flags|=2,m.return=l,S.return=l,m.sibling=S,l.child=m,(l.mode&1)!==0&&Vo(l,o.child,null,_),l.child.memoizedState=Ep(_),l.memoizedState=Tp,S);if((l.mode&1)===0)return Qu(o,l,_,null);if(v.data==="$!"){if(m=v.nextSibling&&v.nextSibling.dataset,m)var I=m.dgst;return m=I,S=Error(t(419)),m=xp(S,m,void 0),Qu(o,l,_,m)}if(I=(_&o.childLanes)!==0,Mn||I){if(m=Yt,m!==null){switch(_&-_){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(m.suspendedLanes|_))!==0?0:v,v!==0&&v!==S.retryLane&&(S.retryLane=v,xi(o,v),Rr(m,o,v,-1))}return Hp(),m=xp(Error(t(421))),Qu(o,l,_,m)}return v.data==="$?"?(l.flags|=128,l.child=o.child,l=vE.bind(null,o),v._reactRetry=l,null):(o=S.treeContext,Un=Ji(v.nextSibling),Vn=l,bt=!0,Tr=null,o!==null&&(rr[ir++]=wi,rr[ir++]=Si,rr[ir++]=Ns,wi=o.id,Si=o.overflow,Ns=l),l=_p(l,m.children),l.flags|=4096,l)}function wb(o,l,h){o.lanes|=l;var m=o.alternate;m!==null&&(m.lanes|=l),sp(o.return,l,h)}function Pp(o,l,h,m,v){var S=o.memoizedState;S===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:h,tailMode:v}:(S.isBackwards=l,S.rendering=null,S.renderingStartTime=0,S.last=m,S.tail=h,S.tailMode=v)}function Sb(o,l,h){var m=l.pendingProps,v=m.revealOrder,S=m.tail;if(bn(o,l,m.children,h),m=xt.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&wb(o,h,l);else if(o.tag===19)wb(o,h,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}m&=1}if(dt(xt,m),(l.mode&1)===0)l.memoizedState=null;else switch(v){case"forwards":for(h=l.child,v=null;h!==null;)o=h.alternate,o!==null&&Hu(o)===null&&(v=h),h=h.sibling;h=v,h===null?(v=l.child,l.child=null):(v=h.sibling,h.sibling=null),Pp(l,!1,v,h,S);break;case"backwards":for(h=null,v=l.child,l.child=null;v!==null;){if(o=v.alternate,o!==null&&Hu(o)===null){l.child=v;break}o=v.sibling,v.sibling=h,h=v,v=o}Pp(l,!0,h,null,S);break;case"together":Pp(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Zu(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function Ci(o,l,h){if(o!==null&&(l.dependencies=o.dependencies),zs|=l.lanes,(h&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(t(153));if(l.child!==null){for(o=l.child,h=us(o,o.pendingProps),l.child=h,h.return=l;o.sibling!==null;)o=o.sibling,h=h.sibling=us(o,o.pendingProps),h.return=l;h.sibling=null}return l.child}function oE(o,l,h){switch(l.tag){case 3:yb(l),zo();break;case 5:Fv(l);break;case 1:Rn(l.type)&&Lu(l);break;case 4:lp(l,l.stateNode.containerInfo);break;case 10:var m=l.type._context,v=l.memoizedProps.value;dt($u,m._currentValue),m._currentValue=v;break;case 13:if(m=l.memoizedState,m!==null)return m.dehydrated!==null?(dt(xt,xt.current&1),l.flags|=128,null):(h&l.child.childLanes)!==0?bb(o,l,h):(dt(xt,xt.current&1),o=Ci(o,l,h),o!==null?o.sibling:null);dt(xt,xt.current&1);break;case 19:if(m=(h&l.childLanes)!==0,(o.flags&128)!==0){if(m)return Sb(o,l,h);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),dt(xt,xt.current),m)break;return null;case 22:case 23:return l.lanes=0,pb(o,l,h)}return Ci(o,l,h)}var xb,Rp,Ab,Cb;xb=function(o,l){for(var h=l.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Rp=function(){},Ab=function(o,l,h,m){var v=o.memoizedProps;if(v!==m){o=l.stateNode,js(Gr.current);var S=null;switch(h){case"input":v=ks(o,v),m=ks(o,m),S=[];break;case"select":v=ne({},v,{value:void 0}),m=ne({},m,{value:void 0}),S=[];break;case"textarea":v=Vi(o,v),m=Vi(o,m),S=[];break;default:typeof v.onClick!="function"&&typeof m.onClick=="function"&&(o.onclick=Mu)}Wi(h,m);var _;h=null;for(X in v)if(!m.hasOwnProperty(X)&&v.hasOwnProperty(X)&&v[X]!=null)if(X==="style"){var I=v[X];for(_ in I)I.hasOwnProperty(_)&&(h||(h={}),h[_]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(i.hasOwnProperty(X)?S||(S=[]):(S=S||[]).push(X,null));for(X in m){var N=m[X];if(I=v?.[X],m.hasOwnProperty(X)&&N!==I&&(N!=null||I!=null))if(X==="style")if(I){for(_ in I)!I.hasOwnProperty(_)||N&&N.hasOwnProperty(_)||(h||(h={}),h[_]="");for(_ in N)N.hasOwnProperty(_)&&I[_]!==N[_]&&(h||(h={}),h[_]=N[_])}else h||(S||(S=[]),S.push(X,h)),h=N;else X==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,I=I?I.__html:void 0,N!=null&&I!==N&&(S=S||[]).push(X,N)):X==="children"?typeof N!="string"&&typeof N!="number"||(S=S||[]).push(X,""+N):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(i.hasOwnProperty(X)?(N!=null&&X==="onScroll"&&mt("scroll",o),S||I===N||(S=[])):(S=S||[]).push(X,N))}h&&(S=S||[]).push("style",h);var X=S;(l.updateQueue=X)&&(l.flags|=4)}},Cb=function(o,l,h,m){h!==m&&(l.flags|=4)};function _l(o,l){if(!bt)switch(o.tailMode){case"hidden":l=o.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function fn(o){var l=o.alternate!==null&&o.alternate.child===o.child,h=0,m=0;if(l)for(var v=o.child;v!==null;)h|=v.lanes|v.childLanes,m|=v.subtreeFlags&14680064,m|=v.flags&14680064,v.return=o,v=v.sibling;else for(v=o.child;v!==null;)h|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=o,v=v.sibling;return o.subtreeFlags|=m,o.childLanes=h,l}function aE(o,l,h){var m=l.pendingProps;switch(Zf(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(l),null;case 1:return Rn(l.type)&&Iu(),fn(l),null;case 3:return m=l.stateNode,Wo(),gt(Pn),gt(dn),dp(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(Bu(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Tr!==null&&(zp(Tr),Tr=null))),Rp(o,l),fn(l),null;case 5:cp(l);var v=js(Al.current);if(h=l.type,o!==null&&l.stateNode!=null)Ab(o,l,h,m,v),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!m){if(l.stateNode===null)throw Error(t(166));return fn(l),null}if(o=js(Gr.current),Bu(l)){m=l.stateNode,h=l.type;var S=l.memoizedProps;switch(m[Wr]=l,m[vl]=S,o=(l.mode&1)!==0,h){case"dialog":mt("cancel",m),mt("close",m);break;case"iframe":case"object":case"embed":mt("load",m);break;case"video":case"audio":for(v=0;v<ml.length;v++)mt(ml[v],m);break;case"source":mt("error",m);break;case"img":case"image":case"link":mt("error",m),mt("load",m);break;case"details":mt("toggle",m);break;case"input":tu(m,S),mt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!S.multiple},mt("invalid",m);break;case"textarea":xr(m,S),mt("invalid",m)}Wi(h,S),v=null;for(var _ in S)if(S.hasOwnProperty(_)){var I=S[_];_==="children"?typeof I=="string"?m.textContent!==I&&(S.suppressHydrationWarning!==!0&&Ru(m.textContent,I,o),v=["children",I]):typeof I=="number"&&m.textContent!==""+I&&(S.suppressHydrationWarning!==!0&&Ru(m.textContent,I,o),v=["children",""+I]):i.hasOwnProperty(_)&&I!=null&&_==="onScroll"&&mt("scroll",m)}switch(h){case"input":Sr(m),ru(m,S,!0);break;case"textarea":Sr(m),Ga(m);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(m.onclick=Mu)}m=v,l.updateQueue=m,m!==null&&(l.flags|=4)}else{_=v.nodeType===9?v:v.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=iu(h)),o==="http://www.w3.org/1999/xhtml"?h==="script"?(o=_.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof m.is=="string"?o=_.createElement(h,{is:m.is}):(o=_.createElement(h),h==="select"&&(_=o,m.multiple?_.multiple=!0:m.size&&(_.size=m.size))):o=_.createElementNS(o,h),o[Wr]=l,o[vl]=m,xb(o,l,!1,!1),l.stateNode=o;e:{switch(_=Ya(h,m),h){case"dialog":mt("cancel",o),mt("close",o),v=m;break;case"iframe":case"object":case"embed":mt("load",o),v=m;break;case"video":case"audio":for(v=0;v<ml.length;v++)mt(ml[v],o);v=m;break;case"source":mt("error",o),v=m;break;case"img":case"image":case"link":mt("error",o),mt("load",o),v=m;break;case"details":mt("toggle",o),v=m;break;case"input":tu(o,m),v=ks(o,m),mt("invalid",o);break;case"option":v=m;break;case"select":o._wrapperState={wasMultiple:!!m.multiple},v=ne({},m,{value:void 0}),mt("invalid",o);break;case"textarea":xr(o,m),v=Vi(o,m),mt("invalid",o);break;default:v=m}Wi(h,v),I=v;for(S in I)if(I.hasOwnProperty(S)){var N=I[S];S==="style"?au(o,N):S==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&Ka(o,N)):S==="children"?typeof N=="string"?(h!=="textarea"||N!=="")&&Ui(o,N):typeof N=="number"&&Ui(o,""+N):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(i.hasOwnProperty(S)?N!=null&&S==="onScroll"&&mt("scroll",o):N!=null&&k(o,S,N,_))}switch(h){case"input":Sr(o),ru(o,m,!1);break;case"textarea":Sr(o),Ga(o);break;case"option":m.value!=null&&o.setAttribute("value",""+_e(m.value));break;case"select":o.multiple=!!m.multiple,S=m.value,S!=null?zr(o,!!m.multiple,S,!1):m.defaultValue!=null&&zr(o,!!m.multiple,m.defaultValue,!0);break;default:typeof v.onClick=="function"&&(o.onclick=Mu)}switch(h){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return fn(l),null;case 6:if(o&&l.stateNode!=null)Cb(o,l,o.memoizedProps,m);else{if(typeof m!="string"&&l.stateNode===null)throw Error(t(166));if(h=js(Al.current),js(Gr.current),Bu(l)){if(m=l.stateNode,h=l.memoizedProps,m[Wr]=l,(S=m.nodeValue!==h)&&(o=Vn,o!==null))switch(o.tag){case 3:Ru(m.nodeValue,h,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Ru(m.nodeValue,h,(o.mode&1)!==0)}S&&(l.flags|=4)}else m=(h.nodeType===9?h:h.ownerDocument).createTextNode(m),m[Wr]=l,l.stateNode=m}return fn(l),null;case 13:if(gt(xt),m=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(bt&&Un!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Ev(),zo(),l.flags|=98560,S=!1;else if(S=Bu(l),m!==null&&m.dehydrated!==null){if(o===null){if(!S)throw Error(t(318));if(S=l.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(t(317));S[Wr]=l}else zo(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;fn(l),S=!1}else Tr!==null&&(zp(Tr),Tr=null),S=!0;if(!S)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=h,l):(m=m!==null,m!==(o!==null&&o.memoizedState!==null)&&m&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(xt.current&1)!==0?Vt===0&&(Vt=3):Hp())),l.updateQueue!==null&&(l.flags|=4),fn(l),null);case 4:return Wo(),Rp(o,l),o===null&&gl(l.stateNode.containerInfo),fn(l),null;case 10:return ip(l.type._context),fn(l),null;case 17:return Rn(l.type)&&Iu(),fn(l),null;case 19:if(gt(xt),S=l.memoizedState,S===null)return fn(l),null;if(m=(l.flags&128)!==0,_=S.rendering,_===null)if(m)_l(S,!1);else{if(Vt!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(_=Hu(o),_!==null){for(l.flags|=128,_l(S,!1),m=_.updateQueue,m!==null&&(l.updateQueue=m,l.flags|=4),l.subtreeFlags=0,m=h,h=l.child;h!==null;)S=h,o=m,S.flags&=14680066,_=S.alternate,_===null?(S.childLanes=0,S.lanes=o,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=_.childLanes,S.lanes=_.lanes,S.child=_.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=_.memoizedProps,S.memoizedState=_.memoizedState,S.updateQueue=_.updateQueue,S.type=_.type,o=_.dependencies,S.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),h=h.sibling;return dt(xt,xt.current&1|2),l.child}o=o.sibling}S.tail!==null&&pt()>Yo&&(l.flags|=128,m=!0,_l(S,!1),l.lanes=4194304)}else{if(!m)if(o=Hu(_),o!==null){if(l.flags|=128,m=!0,h=o.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),_l(S,!0),S.tail===null&&S.tailMode==="hidden"&&!_.alternate&&!bt)return fn(l),null}else 2*pt()-S.renderingStartTime>Yo&&h!==1073741824&&(l.flags|=128,m=!0,_l(S,!1),l.lanes=4194304);S.isBackwards?(_.sibling=l.child,l.child=_):(h=S.last,h!==null?h.sibling=_:l.child=_,S.last=_)}return S.tail!==null?(l=S.tail,S.rendering=l,S.tail=l.sibling,S.renderingStartTime=pt(),l.sibling=null,h=xt.current,dt(xt,m?h&1|2:h&1),l):(fn(l),null);case 22:case 23:return Up(),m=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==m&&(l.flags|=8192),m&&(l.mode&1)!==0?(Hn&1073741824)!==0&&(fn(l),l.subtreeFlags&6&&(l.flags|=8192)):fn(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function lE(o,l){switch(Zf(l),l.tag){case 1:return Rn(l.type)&&Iu(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Wo(),gt(Pn),gt(dn),dp(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return cp(l),null;case 13:if(gt(xt),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(t(340));zo()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return gt(xt),null;case 4:return Wo(),null;case 10:return ip(l.type._context),null;case 22:case 23:return Up(),null;case 24:return null;default:return null}}var Ju=!1,pn=!1,cE=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Xo(o,l){var h=o.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(m){_t(o,l,m)}else h.current=null}function Mp(o,l,h){try{h()}catch(m){_t(o,l,m)}}var kb=!1;function uE(o,l){if(Uf=D,o=rv(),Ff(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var m=h.getSelection&&h.getSelection();if(m&&m.rangeCount!==0){h=m.anchorNode;var v=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{h.nodeType,S.nodeType}catch{h=null;break e}var _=0,I=-1,N=-1,X=0,J=0,ee=o,Z=null;t:for(;;){for(var oe;ee!==h||v!==0&&ee.nodeType!==3||(I=_+v),ee!==S||m!==0&&ee.nodeType!==3||(N=_+m),ee.nodeType===3&&(_+=ee.nodeValue.length),(oe=ee.firstChild)!==null;)Z=ee,ee=oe;for(;;){if(ee===o)break t;if(Z===h&&++X===v&&(I=_),Z===S&&++J===m&&(N=_),(oe=ee.nextSibling)!==null)break;ee=Z,Z=ee.parentNode}ee=oe}h=I===-1||N===-1?null:{start:I,end:N}}else h=null}h=h||{start:0,end:0}}else h=null;for(Hf={focusedElem:o,selectionRange:h},D=!1,ce=l;ce!==null;)if(l=ce,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,ce=o;else for(;ce!==null;){l=ce;try{var he=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var ge=he.memoizedProps,Dt=he.memoizedState,V=l.stateNode,B=V.getSnapshotBeforeUpdate(l.elementType===l.type?ge:Er(l.type,ge),Dt);V.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var H=l.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(te){_t(l,l.return,te)}if(o=l.sibling,o!==null){o.return=l.return,ce=o;break}ce=l.return}return he=kb,kb=!1,he}function Pl(o,l,h){var m=l.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var v=m=m.next;do{if((v.tag&o)===o){var S=v.destroy;v.destroy=void 0,S!==void 0&&Mp(l,h,S)}v=v.next}while(v!==m)}}function ed(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&o)===o){var m=h.create;h.destroy=m()}h=h.next}while(h!==l)}}function Dp(o){var l=o.ref;if(l!==null){var h=o.stateNode;o.tag,o=h,typeof l=="function"?l(o):l.current=o}}function Tb(o){var l=o.alternate;l!==null&&(o.alternate=null,Tb(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[Wr],delete l[vl],delete l[Kf],delete l[GT],delete l[XT])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Eb(o){return o.tag===5||o.tag===3||o.tag===4}function _b(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Eb(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Ip(o,l,h){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?h.nodeType===8?h.parentNode.insertBefore(o,l):h.insertBefore(o,l):(h.nodeType===8?(l=h.parentNode,l.insertBefore(o,h)):(l=h,l.appendChild(o)),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=Mu));else if(m!==4&&(o=o.child,o!==null))for(Ip(o,l,h),o=o.sibling;o!==null;)Ip(o,l,h),o=o.sibling}function Lp(o,l,h){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?h.insertBefore(o,l):h.appendChild(o);else if(m!==4&&(o=o.child,o!==null))for(Lp(o,l,h),o=o.sibling;o!==null;)Lp(o,l,h),o=o.sibling}var en=null,_r=!1;function ss(o,l,h){for(h=h.child;h!==null;)Pb(o,l,h),h=h.sibling}function Pb(o,l,h){if(Zn&&typeof Zn.onCommitFiberUnmount=="function")try{Zn.onCommitFiberUnmount(Ps,h)}catch{}switch(h.tag){case 5:pn||Xo(h,l);case 6:var m=en,v=_r;en=null,ss(o,l,h),en=m,_r=v,en!==null&&(_r?(o=en,h=h.stateNode,o.nodeType===8?o.parentNode.removeChild(h):o.removeChild(h)):en.removeChild(h.stateNode));break;case 18:en!==null&&(_r?(o=en,h=h.stateNode,o.nodeType===8?Xf(o.parentNode,h):o.nodeType===1&&Xf(o,h),Yi(o)):Xf(en,h.stateNode));break;case 4:m=en,v=_r,en=h.stateNode.containerInfo,_r=!0,ss(o,l,h),en=m,_r=v;break;case 0:case 11:case 14:case 15:if(!pn&&(m=h.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){v=m=m.next;do{var S=v,_=S.destroy;S=S.tag,_!==void 0&&((S&2)!==0||(S&4)!==0)&&Mp(h,l,_),v=v.next}while(v!==m)}ss(o,l,h);break;case 1:if(!pn&&(Xo(h,l),m=h.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=h.memoizedProps,m.state=h.memoizedState,m.componentWillUnmount()}catch(I){_t(h,l,I)}ss(o,l,h);break;case 21:ss(o,l,h);break;case 22:h.mode&1?(pn=(m=pn)||h.memoizedState!==null,ss(o,l,h),pn=m):ss(o,l,h);break;default:ss(o,l,h)}}function Rb(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var h=o.stateNode;h===null&&(h=o.stateNode=new cE),l.forEach(function(m){var v=bE.bind(null,o,m);h.has(m)||(h.add(m),m.then(v,v))})}}function Pr(o,l){var h=l.deletions;if(h!==null)for(var m=0;m<h.length;m++){var v=h[m];try{var S=o,_=l,I=_;e:for(;I!==null;){switch(I.tag){case 5:en=I.stateNode,_r=!1;break e;case 3:en=I.stateNode.containerInfo,_r=!0;break e;case 4:en=I.stateNode.containerInfo,_r=!0;break e}I=I.return}if(en===null)throw Error(t(160));Pb(S,_,v),en=null,_r=!1;var N=v.alternate;N!==null&&(N.return=null),v.return=null}catch(X){_t(v,l,X)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Mb(l,o),l=l.sibling}function Mb(o,l){var h=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Pr(l,o),Kr(o),m&4){try{Pl(3,o,o.return),ed(3,o)}catch(ge){_t(o,o.return,ge)}try{Pl(5,o,o.return)}catch(ge){_t(o,o.return,ge)}}break;case 1:Pr(l,o),Kr(o),m&512&&h!==null&&Xo(h,h.return);break;case 5:if(Pr(l,o),Kr(o),m&512&&h!==null&&Xo(h,h.return),o.flags&32){var v=o.stateNode;try{Ui(v,"")}catch(ge){_t(o,o.return,ge)}}if(m&4&&(v=o.stateNode,v!=null)){var S=o.memoizedProps,_=h!==null?h.memoizedProps:S,I=o.type,N=o.updateQueue;if(o.updateQueue=null,N!==null)try{I==="input"&&S.type==="radio"&&S.name!=null&&nu(v,S),Ya(I,_);var X=Ya(I,S);for(_=0;_<N.length;_+=2){var J=N[_],ee=N[_+1];J==="style"?au(v,ee):J==="dangerouslySetInnerHTML"?Ka(v,ee):J==="children"?Ui(v,ee):k(v,J,ee,X)}switch(I){case"input":Ua(v,S);break;case"textarea":Wa(v,S);break;case"select":var Z=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!S.multiple;var oe=S.value;oe!=null?zr(v,!!S.multiple,oe,!1):Z!==!!S.multiple&&(S.defaultValue!=null?zr(v,!!S.multiple,S.defaultValue,!0):zr(v,!!S.multiple,S.multiple?[]:"",!1))}v[vl]=S}catch(ge){_t(o,o.return,ge)}}break;case 6:if(Pr(l,o),Kr(o),m&4){if(o.stateNode===null)throw Error(t(162));v=o.stateNode,S=o.memoizedProps;try{v.nodeValue=S}catch(ge){_t(o,o.return,ge)}}break;case 3:if(Pr(l,o),Kr(o),m&4&&h!==null&&h.memoizedState.isDehydrated)try{Yi(l.containerInfo)}catch(ge){_t(o,o.return,ge)}break;case 4:Pr(l,o),Kr(o);break;case 13:Pr(l,o),Kr(o),v=o.child,v.flags&8192&&(S=v.memoizedState!==null,v.stateNode.isHidden=S,!S||v.alternate!==null&&v.alternate.memoizedState!==null||(Op=pt())),m&4&&Rb(o);break;case 22:if(J=h!==null&&h.memoizedState!==null,o.mode&1?(pn=(X=pn)||J,Pr(l,o),pn=X):Pr(l,o),Kr(o),m&8192){if(X=o.memoizedState!==null,(o.stateNode.isHidden=X)&&!J&&(o.mode&1)!==0)for(ce=o,J=o.child;J!==null;){for(ee=ce=J;ce!==null;){switch(Z=ce,oe=Z.child,Z.tag){case 0:case 11:case 14:case 15:Pl(4,Z,Z.return);break;case 1:Xo(Z,Z.return);var he=Z.stateNode;if(typeof he.componentWillUnmount=="function"){m=Z,h=Z.return;try{l=m,he.props=l.memoizedProps,he.state=l.memoizedState,he.componentWillUnmount()}catch(ge){_t(m,h,ge)}}break;case 5:Xo(Z,Z.return);break;case 22:if(Z.memoizedState!==null){Lb(ee);continue}}oe!==null?(oe.return=Z,ce=oe):Lb(ee)}J=J.sibling}e:for(J=null,ee=o;;){if(ee.tag===5){if(J===null){J=ee;try{v=ee.stateNode,X?(S=v.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(I=ee.stateNode,N=ee.memoizedProps.style,_=N!=null&&N.hasOwnProperty("display")?N.display:null,I.style.display=ou("display",_))}catch(ge){_t(o,o.return,ge)}}}else if(ee.tag===6){if(J===null)try{ee.stateNode.nodeValue=X?"":ee.memoizedProps}catch(ge){_t(o,o.return,ge)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===o)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===o)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===o)break e;J===ee&&(J=null),ee=ee.return}J===ee&&(J=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:Pr(l,o),Kr(o),m&4&&Rb(o);break;case 21:break;default:Pr(l,o),Kr(o)}}function Kr(o){var l=o.flags;if(l&2){try{e:{for(var h=o.return;h!==null;){if(Eb(h)){var m=h;break e}h=h.return}throw Error(t(160))}switch(m.tag){case 5:var v=m.stateNode;m.flags&32&&(Ui(v,""),m.flags&=-33);var S=_b(o);Lp(o,S,v);break;case 3:case 4:var _=m.stateNode.containerInfo,I=_b(o);Ip(o,I,_);break;default:throw Error(t(161))}}catch(N){_t(o,o.return,N)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function dE(o,l,h){ce=o,Db(o)}function Db(o,l,h){for(var m=(o.mode&1)!==0;ce!==null;){var v=ce,S=v.child;if(v.tag===22&&m){var _=v.memoizedState!==null||Ju;if(!_){var I=v.alternate,N=I!==null&&I.memoizedState!==null||pn;I=Ju;var X=pn;if(Ju=_,(pn=N)&&!X)for(ce=v;ce!==null;)_=ce,N=_.child,_.tag===22&&_.memoizedState!==null?Fb(v):N!==null?(N.return=_,ce=N):Fb(v);for(;S!==null;)ce=S,Db(S),S=S.sibling;ce=v,Ju=I,pn=X}Ib(o)}else(v.subtreeFlags&8772)!==0&&S!==null?(S.return=v,ce=S):Ib(o)}}function Ib(o){for(;ce!==null;){var l=ce;if((l.flags&8772)!==0){var h=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:pn||ed(5,l);break;case 1:var m=l.stateNode;if(l.flags&4&&!pn)if(h===null)m.componentDidMount();else{var v=l.elementType===l.type?h.memoizedProps:Er(l.type,h.memoizedProps);m.componentDidUpdate(v,h.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var S=l.updateQueue;S!==null&&Lv(l,S,m);break;case 3:var _=l.updateQueue;if(_!==null){if(h=null,l.child!==null)switch(l.child.tag){case 5:h=l.child.stateNode;break;case 1:h=l.child.stateNode}Lv(l,_,h)}break;case 5:var I=l.stateNode;if(h===null&&l.flags&4){h=I;var N=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&h.focus();break;case"img":N.src&&(h.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var X=l.alternate;if(X!==null){var J=X.memoizedState;if(J!==null){var ee=J.dehydrated;ee!==null&&Yi(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}pn||l.flags&512&&Dp(l)}catch(Z){_t(l,l.return,Z)}}if(l===o){ce=null;break}if(h=l.sibling,h!==null){h.return=l.return,ce=h;break}ce=l.return}}function Lb(o){for(;ce!==null;){var l=ce;if(l===o){ce=null;break}var h=l.sibling;if(h!==null){h.return=l.return,ce=h;break}ce=l.return}}function Fb(o){for(;ce!==null;){var l=ce;try{switch(l.tag){case 0:case 11:case 15:var h=l.return;try{ed(4,l)}catch(N){_t(l,h,N)}break;case 1:var m=l.stateNode;if(typeof m.componentDidMount=="function"){var v=l.return;try{m.componentDidMount()}catch(N){_t(l,v,N)}}var S=l.return;try{Dp(l)}catch(N){_t(l,S,N)}break;case 5:var _=l.return;try{Dp(l)}catch(N){_t(l,_,N)}}}catch(N){_t(l,l.return,N)}if(l===o){ce=null;break}var I=l.sibling;if(I!==null){I.return=l.return,ce=I;break}ce=l.return}}var hE=Math.ceil,td=R.ReactCurrentDispatcher,Fp=R.ReactCurrentOwner,ar=R.ReactCurrentBatchConfig,Ue=0,Yt=null,Ft=null,tn=0,Hn=0,Ko=es(0),Vt=0,Rl=null,zs=0,nd=0,Np=0,Ml=null,Dn=null,Op=0,Yo=1/0,ki=null,rd=!1,Bp=null,os=null,id=!1,as=null,sd=0,Dl=0,jp=null,od=-1,ad=0;function wn(){return(Ue&6)!==0?pt():od!==-1?od:od=pt()}function ls(o){return(o.mode&1)===0?1:(Ue&2)!==0&&tn!==0?tn&-tn:YT.transition!==null?(ad===0&&(ad=vu()),ad):(o=He,o!==0||(o=window.event,o=o===void 0?16:ct(o.type)),o)}function Rr(o,l,h,m){if(50<Dl)throw Dl=0,jp=null,Error(t(185));Ms(o,h,m),((Ue&2)===0||o!==Yt)&&(o===Yt&&((Ue&2)===0&&(nd|=h),Vt===4&&cs(o,tn)),In(o,m),h===1&&Ue===0&&(l.mode&1)===0&&(Yo=pt()+500,Fu&&ns()))}function In(o,l){var h=o.callbackNode;tl(o,l);var m=Co(o,o===Yt?tn:0);if(m===0)h!==null&&bo(h),o.callbackNode=null,o.callbackPriority=0;else if(l=m&-m,o.callbackPriority!==l){if(h!=null&&bo(h),l===1)o.tag===0?KT(Ob.bind(null,o)):xv(Ob.bind(null,o)),HT(function(){(Ue&6)===0&&ns()}),h=null;else{switch(bu(m)){case 1:h=Xi;break;case 4:h=el;break;case 16:h=So;break;case 536870912:h=yu;break;default:h=So}h=Wb(h,Nb.bind(null,o))}o.callbackPriority=l,o.callbackNode=h}}function Nb(o,l){if(od=-1,ad=0,(Ue&6)!==0)throw Error(t(327));var h=o.callbackNode;if(qo()&&o.callbackNode!==h)return null;var m=Co(o,o===Yt?tn:0);if(m===0)return null;if((m&30)!==0||(m&o.expiredLanes)!==0||l)l=ld(o,m);else{l=m;var v=Ue;Ue|=2;var S=jb();(Yt!==o||tn!==l)&&(ki=null,Yo=pt()+500,Us(o,l));do try{mE();break}catch(I){Bb(o,I)}while(!0);rp(),td.current=S,Ue=v,Ft!==null?l=0:(Yt=null,tn=0,l=Vt)}if(l!==0){if(l===2&&(v=nl(o),v!==0&&(m=v,l=$p(o,v))),l===1)throw h=Rl,Us(o,0),cs(o,m),In(o,pt()),h;if(l===6)cs(o,m);else{if(v=o.current.alternate,(m&30)===0&&!fE(v)&&(l=ld(o,m),l===2&&(S=nl(o),S!==0&&(m=S,l=$p(o,S))),l===1))throw h=Rl,Us(o,0),cs(o,m),In(o,pt()),h;switch(o.finishedWork=v,o.finishedLanes=m,l){case 0:case 1:throw Error(t(345));case 2:Hs(o,Dn,ki);break;case 3:if(cs(o,m),(m&130023424)===m&&(l=Op+500-pt(),10<l)){if(Co(o,0)!==0)break;if(v=o.suspendedLanes,(v&m)!==m){wn(),o.pingedLanes|=o.suspendedLanes&v;break}o.timeoutHandle=Gf(Hs.bind(null,o,Dn,ki),l);break}Hs(o,Dn,ki);break;case 4:if(cs(o,m),(m&4194240)===m)break;for(l=o.eventTimes,v=-1;0<m;){var _=31-zn(m);S=1<<_,_=l[_],_>v&&(v=_),m&=~S}if(m=v,m=pt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*hE(m/1960))-m,10<m){o.timeoutHandle=Gf(Hs.bind(null,o,Dn,ki),m);break}Hs(o,Dn,ki);break;case 5:Hs(o,Dn,ki);break;default:throw Error(t(329))}}}return In(o,pt()),o.callbackNode===h?Nb.bind(null,o):null}function $p(o,l){var h=Ml;return o.current.memoizedState.isDehydrated&&(Us(o,l).flags|=256),o=ld(o,l),o!==2&&(l=Dn,Dn=h,l!==null&&zp(l)),o}function zp(o){Dn===null?Dn=o:Dn.push.apply(Dn,o)}function fE(o){for(var l=o;;){if(l.flags&16384){var h=l.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var m=0;m<h.length;m++){var v=h[m],S=v.getSnapshot;v=v.value;try{if(!kr(S(),v))return!1}catch{return!1}}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function cs(o,l){for(l&=~Np,l&=~nd,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var h=31-zn(l),m=1<<h;o[h]=-1,l&=~m}}function Ob(o){if((Ue&6)!==0)throw Error(t(327));qo();var l=Co(o,0);if((l&1)===0)return In(o,pt()),null;var h=ld(o,l);if(o.tag!==0&&h===2){var m=nl(o);m!==0&&(l=m,h=$p(o,m))}if(h===1)throw h=Rl,Us(o,0),cs(o,l),In(o,pt()),h;if(h===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,Hs(o,Dn,ki),In(o,pt()),null}function Vp(o,l){var h=Ue;Ue|=1;try{return o(l)}finally{Ue=h,Ue===0&&(Yo=pt()+500,Fu&&ns())}}function Vs(o){as!==null&&as.tag===0&&(Ue&6)===0&&qo();var l=Ue;Ue|=1;var h=ar.transition,m=He;try{if(ar.transition=null,He=1,o)return o()}finally{He=m,ar.transition=h,Ue=l,(Ue&6)===0&&ns()}}function Up(){Hn=Ko.current,gt(Ko)}function Us(o,l){o.finishedWork=null,o.finishedLanes=0;var h=o.timeoutHandle;if(h!==-1&&(o.timeoutHandle=-1,UT(h)),Ft!==null)for(h=Ft.return;h!==null;){var m=h;switch(Zf(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Iu();break;case 3:Wo(),gt(Pn),gt(dn),dp();break;case 5:cp(m);break;case 4:Wo();break;case 13:gt(xt);break;case 19:gt(xt);break;case 10:ip(m.type._context);break;case 22:case 23:Up()}h=h.return}if(Yt=o,Ft=o=us(o.current,null),tn=Hn=l,Vt=0,Rl=null,Np=nd=zs=0,Dn=Ml=null,Bs!==null){for(l=0;l<Bs.length;l++)if(h=Bs[l],m=h.interleaved,m!==null){h.interleaved=null;var v=m.next,S=h.pending;if(S!==null){var _=S.next;S.next=v,m.next=_}h.pending=m}Bs=null}return o}function Bb(o,l){do{var h=Ft;try{if(rp(),Wu.current=Yu,Gu){for(var m=At.memoizedState;m!==null;){var v=m.queue;v!==null&&(v.pending=null),m=m.next}Gu=!1}if($s=0,Kt=zt=At=null,Cl=!1,kl=0,Fp.current=null,h===null||h.return===null){Vt=1,Rl=l,Ft=null;break}e:{var S=o,_=h.return,I=h,N=l;if(l=tn,I.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var X=N,J=I,ee=J.tag;if((J.mode&1)===0&&(ee===0||ee===11||ee===15)){var Z=J.alternate;Z?(J.updateQueue=Z.updateQueue,J.memoizedState=Z.memoizedState,J.lanes=Z.lanes):(J.updateQueue=null,J.memoizedState=null)}var oe=cb(_);if(oe!==null){oe.flags&=-257,ub(oe,_,I,S,l),oe.mode&1&&lb(S,X,l),l=oe,N=X;var he=l.updateQueue;if(he===null){var ge=new Set;ge.add(N),l.updateQueue=ge}else he.add(N);break e}else{if((l&1)===0){lb(S,X,l),Hp();break e}N=Error(t(426))}}else if(bt&&I.mode&1){var Dt=cb(_);if(Dt!==null){(Dt.flags&65536)===0&&(Dt.flags|=256),ub(Dt,_,I,S,l),tp(Go(N,I));break e}}S=N=Go(N,I),Vt!==4&&(Vt=2),Ml===null?Ml=[S]:Ml.push(S),S=_;do{switch(S.tag){case 3:S.flags|=65536,l&=-l,S.lanes|=l;var V=ob(S,N,l);Iv(S,V);break e;case 1:I=N;var B=S.type,H=S.stateNode;if((S.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(os===null||!os.has(H)))){S.flags|=65536,l&=-l,S.lanes|=l;var te=ab(S,I,l);Iv(S,te);break e}}S=S.return}while(S!==null)}zb(h)}catch(ye){l=ye,Ft===h&&h!==null&&(Ft=h=h.return);continue}break}while(!0)}function jb(){var o=td.current;return td.current=Yu,o===null?Yu:o}function Hp(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Yt===null||(zs&268435455)===0&&(nd&268435455)===0||cs(Yt,tn)}function ld(o,l){var h=Ue;Ue|=2;var m=jb();(Yt!==o||tn!==l)&&(ki=null,Us(o,l));do try{pE();break}catch(v){Bb(o,v)}while(!0);if(rp(),Ue=h,td.current=m,Ft!==null)throw Error(t(261));return Yt=null,tn=0,Vt}function pE(){for(;Ft!==null;)$b(Ft)}function mE(){for(;Ft!==null&&!yf();)$b(Ft)}function $b(o){var l=Hb(o.alternate,o,Hn);o.memoizedProps=o.pendingProps,l===null?zb(o):Ft=l,Fp.current=null}function zb(o){var l=o;do{var h=l.alternate;if(o=l.return,(l.flags&32768)===0){if(h=aE(h,l,Hn),h!==null){Ft=h;return}}else{if(h=lE(h,l),h!==null){h.flags&=32767,Ft=h;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Vt=6,Ft=null;return}}if(l=l.sibling,l!==null){Ft=l;return}Ft=l=o}while(l!==null);Vt===0&&(Vt=5)}function Hs(o,l,h){var m=He,v=ar.transition;try{ar.transition=null,He=1,gE(o,l,h,m)}finally{ar.transition=v,He=m}return null}function gE(o,l,h,m){do qo();while(as!==null);if((Ue&6)!==0)throw Error(t(327));h=o.finishedWork;var v=o.finishedLanes;if(h===null)return null;if(o.finishedWork=null,o.finishedLanes=0,h===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var S=h.lanes|h.childLanes;if(Cf(o,S),o===Yt&&(Ft=Yt=null,tn=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||id||(id=!0,Wb(So,function(){return qo(),null})),S=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||S){S=ar.transition,ar.transition=null;var _=He;He=1;var I=Ue;Ue|=4,Fp.current=null,uE(o,h),Mb(h,o),NT(Hf),D=!!Uf,Hf=Uf=null,o.current=h,dE(h),wo(),Ue=I,He=_,ar.transition=S}else o.current=h;if(id&&(id=!1,as=o,sd=v),S=o.pendingLanes,S===0&&(os=null),wf(h.stateNode),In(o,pt()),l!==null)for(m=o.onRecoverableError,h=0;h<l.length;h++)v=l[h],m(v.value,{componentStack:v.stack,digest:v.digest});if(rd)throw rd=!1,o=Bp,Bp=null,o;return(sd&1)!==0&&o.tag!==0&&qo(),S=o.pendingLanes,(S&1)!==0?o===jp?Dl++:(Dl=0,jp=o):Dl=0,ns(),null}function qo(){if(as!==null){var o=bu(sd),l=ar.transition,h=He;try{if(ar.transition=null,He=16>o?16:o,as===null)var m=!1;else{if(o=as,as=null,sd=0,(Ue&6)!==0)throw Error(t(331));var v=Ue;for(Ue|=4,ce=o.current;ce!==null;){var S=ce,_=S.child;if((ce.flags&16)!==0){var I=S.deletions;if(I!==null){for(var N=0;N<I.length;N++){var X=I[N];for(ce=X;ce!==null;){var J=ce;switch(J.tag){case 0:case 11:case 15:Pl(8,J,S)}var ee=J.child;if(ee!==null)ee.return=J,ce=ee;else for(;ce!==null;){J=ce;var Z=J.sibling,oe=J.return;if(Tb(J),J===X){ce=null;break}if(Z!==null){Z.return=oe,ce=Z;break}ce=oe}}}var he=S.alternate;if(he!==null){var ge=he.child;if(ge!==null){he.child=null;do{var Dt=ge.sibling;ge.sibling=null,ge=Dt}while(ge!==null)}}ce=S}}if((S.subtreeFlags&2064)!==0&&_!==null)_.return=S,ce=_;else e:for(;ce!==null;){if(S=ce,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:Pl(9,S,S.return)}var V=S.sibling;if(V!==null){V.return=S.return,ce=V;break e}ce=S.return}}var B=o.current;for(ce=B;ce!==null;){_=ce;var H=_.child;if((_.subtreeFlags&2064)!==0&&H!==null)H.return=_,ce=H;else e:for(_=B;ce!==null;){if(I=ce,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:ed(9,I)}}catch(ye){_t(I,I.return,ye)}if(I===_){ce=null;break e}var te=I.sibling;if(te!==null){te.return=I.return,ce=te;break e}ce=I.return}}if(Ue=v,ns(),Zn&&typeof Zn.onPostCommitFiberRoot=="function")try{Zn.onPostCommitFiberRoot(Ps,o)}catch{}m=!0}return m}finally{He=h,ar.transition=l}}return!1}function Vb(o,l,h){l=Go(h,l),l=ob(o,l,1),o=is(o,l,1),l=wn(),o!==null&&(Ms(o,1,l),In(o,l))}function _t(o,l,h){if(o.tag===3)Vb(o,o,h);else for(;l!==null;){if(l.tag===3){Vb(l,o,h);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(os===null||!os.has(m))){o=Go(h,o),o=ab(l,o,1),l=is(l,o,1),o=wn(),l!==null&&(Ms(l,1,o),In(l,o));break}}l=l.return}}function yE(o,l,h){var m=o.pingCache;m!==null&&m.delete(l),l=wn(),o.pingedLanes|=o.suspendedLanes&h,Yt===o&&(tn&h)===h&&(Vt===4||Vt===3&&(tn&130023424)===tn&&500>pt()-Op?Us(o,0):Np|=h),In(o,l)}function Ub(o,l){l===0&&((o.mode&1)===0?l=1:(l=Ao,Ao<<=1,(Ao&130023424)===0&&(Ao=4194304)));var h=wn();o=xi(o,l),o!==null&&(Ms(o,l,h),In(o,h))}function vE(o){var l=o.memoizedState,h=0;l!==null&&(h=l.retryLane),Ub(o,h)}function bE(o,l){var h=0;switch(o.tag){case 13:var m=o.stateNode,v=o.memoizedState;v!==null&&(h=v.retryLane);break;case 19:m=o.stateNode;break;default:throw Error(t(314))}m!==null&&m.delete(l),Ub(o,h)}var Hb;Hb=function(o,l,h){if(o!==null)if(o.memoizedProps!==l.pendingProps||Pn.current)Mn=!0;else{if((o.lanes&h)===0&&(l.flags&128)===0)return Mn=!1,oE(o,l,h);Mn=(o.flags&131072)!==0}else Mn=!1,bt&&(l.flags&1048576)!==0&&Av(l,Ou,l.index);switch(l.lanes=0,l.tag){case 2:var m=l.type;Zu(o,l),o=l.pendingProps;var v=Bo(l,dn.current);Ho(l,h),v=pp(null,l,m,o,v,h);var S=mp();return l.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Rn(m)?(S=!0,Lu(l)):S=!1,l.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,ap(l),v.updater=qu,l.stateNode=v,v._reactInternals=l,Sp(l,m,o,h),l=kp(null,l,m,!0,S,h)):(l.tag=0,bt&&S&&Qf(l),bn(null,l,v,h),l=l.child),l;case 16:m=l.elementType;e:{switch(Zu(o,l),o=l.pendingProps,v=m._init,m=v(m._payload),l.type=m,v=l.tag=SE(m),o=Er(m,o),v){case 0:l=Cp(null,l,m,o,h);break e;case 1:l=gb(null,l,m,o,h);break e;case 11:l=db(null,l,m,o,h);break e;case 14:l=hb(null,l,m,Er(m.type,o),h);break e}throw Error(t(306,m,""))}return l;case 0:return m=l.type,v=l.pendingProps,v=l.elementType===m?v:Er(m,v),Cp(o,l,m,v,h);case 1:return m=l.type,v=l.pendingProps,v=l.elementType===m?v:Er(m,v),gb(o,l,m,v,h);case 3:e:{if(yb(l),o===null)throw Error(t(387));m=l.pendingProps,S=l.memoizedState,v=S.element,Dv(o,l),Uu(l,m,null,h);var _=l.memoizedState;if(m=_.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},l.updateQueue.baseState=S,l.memoizedState=S,l.flags&256){v=Go(Error(t(423)),l),l=vb(o,l,m,h,v);break e}else if(m!==v){v=Go(Error(t(424)),l),l=vb(o,l,m,h,v);break e}else for(Un=Ji(l.stateNode.containerInfo.firstChild),Vn=l,bt=!0,Tr=null,h=Rv(l,null,m,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(zo(),m===v){l=Ci(o,l,h);break e}bn(o,l,m,h)}l=l.child}return l;case 5:return Fv(l),o===null&&ep(l),m=l.type,v=l.pendingProps,S=o!==null?o.memoizedProps:null,_=v.children,Wf(m,v)?_=null:S!==null&&Wf(m,S)&&(l.flags|=32),mb(o,l),bn(o,l,_,h),l.child;case 6:return o===null&&ep(l),null;case 13:return bb(o,l,h);case 4:return lp(l,l.stateNode.containerInfo),m=l.pendingProps,o===null?l.child=Vo(l,null,m,h):bn(o,l,m,h),l.child;case 11:return m=l.type,v=l.pendingProps,v=l.elementType===m?v:Er(m,v),db(o,l,m,v,h);case 7:return bn(o,l,l.pendingProps,h),l.child;case 8:return bn(o,l,l.pendingProps.children,h),l.child;case 12:return bn(o,l,l.pendingProps.children,h),l.child;case 10:e:{if(m=l.type._context,v=l.pendingProps,S=l.memoizedProps,_=v.value,dt($u,m._currentValue),m._currentValue=_,S!==null)if(kr(S.value,_)){if(S.children===v.children&&!Pn.current){l=Ci(o,l,h);break e}}else for(S=l.child,S!==null&&(S.return=l);S!==null;){var I=S.dependencies;if(I!==null){_=S.child;for(var N=I.firstContext;N!==null;){if(N.context===m){if(S.tag===1){N=Ai(-1,h&-h),N.tag=2;var X=S.updateQueue;if(X!==null){X=X.shared;var J=X.pending;J===null?N.next=N:(N.next=J.next,J.next=N),X.pending=N}}S.lanes|=h,N=S.alternate,N!==null&&(N.lanes|=h),sp(S.return,h,l),I.lanes|=h;break}N=N.next}}else if(S.tag===10)_=S.type===l.type?null:S.child;else if(S.tag===18){if(_=S.return,_===null)throw Error(t(341));_.lanes|=h,I=_.alternate,I!==null&&(I.lanes|=h),sp(_,h,l),_=S.sibling}else _=S.child;if(_!==null)_.return=S;else for(_=S;_!==null;){if(_===l){_=null;break}if(S=_.sibling,S!==null){S.return=_.return,_=S;break}_=_.return}S=_}bn(o,l,v.children,h),l=l.child}return l;case 9:return v=l.type,m=l.pendingProps.children,Ho(l,h),v=sr(v),m=m(v),l.flags|=1,bn(o,l,m,h),l.child;case 14:return m=l.type,v=Er(m,l.pendingProps),v=Er(m.type,v),hb(o,l,m,v,h);case 15:return fb(o,l,l.type,l.pendingProps,h);case 17:return m=l.type,v=l.pendingProps,v=l.elementType===m?v:Er(m,v),Zu(o,l),l.tag=1,Rn(m)?(o=!0,Lu(l)):o=!1,Ho(l,h),ib(l,m,v),Sp(l,m,v,h),kp(null,l,m,!0,o,h);case 19:return Sb(o,l,h);case 22:return pb(o,l,h)}throw Error(t(156,l.tag))};function Wb(o,l){return gu(o,l)}function wE(o,l,h,m){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(o,l,h,m){return new wE(o,l,h,m)}function Wp(o){return o=o.prototype,!(!o||!o.isReactComponent)}function SE(o){if(typeof o=="function")return Wp(o)?1:0;if(o!=null){if(o=o.$$typeof,o===be)return 11;if(o===De)return 14}return 2}function us(o,l){var h=o.alternate;return h===null?(h=lr(o.tag,l,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=l,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&14680064,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,l=o.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h}function cd(o,l,h,m,v,S){var _=2;if(m=o,typeof o=="function")Wp(o)&&(_=1);else if(typeof o=="string")_=5;else e:switch(o){case L:return Ws(h.children,v,S,l);case F:_=8,v|=8;break;case z:return o=lr(12,h,l,v|2),o.elementType=z,o.lanes=S,o;case xe:return o=lr(13,h,l,v),o.elementType=xe,o.lanes=S,o;case ve:return o=lr(19,h,l,v),o.elementType=ve,o.lanes=S,o;case G:return ud(h,v,S,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case q:_=10;break e;case U:_=9;break e;case be:_=11;break e;case De:_=14;break e;case re:_=16,m=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return l=lr(_,h,l,v),l.elementType=o,l.type=m,l.lanes=S,l}function Ws(o,l,h,m){return o=lr(7,o,m,l),o.lanes=h,o}function ud(o,l,h,m){return o=lr(22,o,m,l),o.elementType=G,o.lanes=h,o.stateNode={isHidden:!1},o}function Gp(o,l,h){return o=lr(6,o,null,l),o.lanes=h,o}function Xp(o,l,h){return l=lr(4,o.children!==null?o.children:[],o.key,l),l.lanes=h,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function xE(o,l,h,m,v){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=To(0),this.expirationTimes=To(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=To(0),this.identifierPrefix=m,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Kp(o,l,h,m,v,S,_,I,N){return o=new xE(o,l,h,I,N),l===1?(l=1,S===!0&&(l|=8)):l=0,S=lr(3,null,null,l),o.current=S,S.stateNode=o,S.memoizedState={element:m,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},ap(S),o}function AE(o,l,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:m==null?null:""+m,children:o,containerInfo:l,implementation:h}}function Gb(o){if(!o)return ts;o=o._reactInternals;e:{if(_n(o)!==o||o.tag!==1)throw Error(t(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Rn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(o.tag===1){var h=o.type;if(Rn(h))return wv(o,h,l)}return l}function Xb(o,l,h,m,v,S,_,I,N){return o=Kp(h,m,!0,o,v,S,_,I,N),o.context=Gb(null),h=o.current,m=wn(),v=ls(h),S=Ai(m,v),S.callback=l??null,is(h,S,v),o.current.lanes=v,Ms(o,v,m),In(o,m),o}function dd(o,l,h,m){var v=l.current,S=wn(),_=ls(v);return h=Gb(h),l.context===null?l.context=h:l.pendingContext=h,l=Ai(S,_),l.payload={element:o},m=m===void 0?null:m,m!==null&&(l.callback=m),o=is(v,l,_),o!==null&&(Rr(o,v,_,S),Vu(o,v,_)),_}function hd(o){return o=o.current,o.child?(o.child.tag===5,o.child.stateNode):null}function Kb(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<l?h:l}}function Yp(o,l){Kb(o,l),(o=o.alternate)&&Kb(o,l)}function CE(){return null}var Yb=typeof reportError=="function"?reportError:function(o){console.error(o)};function qp(o){this._internalRoot=o}fd.prototype.render=qp.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(t(409));dd(o,l,null,null)},fd.prototype.unmount=qp.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;Vs(function(){dd(null,o,null,null)}),l[vi]=null}};function fd(o){this._internalRoot=o}fd.prototype.unstable_scheduleHydration=function(o){if(o){var l=Su();o={blockedOn:null,target:o,priority:l};for(var h=0;h<nr.length&&l!==0&&l<nr[h].priority;h++);nr.splice(h,0,o),h===0&&ol(o)}};function Qp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function pd(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function qb(){}function kE(o,l,h,m,v){if(v){if(typeof m=="function"){var S=m;m=function(){var X=hd(_);S.call(X)}}var _=Xb(l,m,o,0,null,!1,!1,"",qb);return o._reactRootContainer=_,o[vi]=_.current,gl(o.nodeType===8?o.parentNode:o),Vs(),_}for(;v=o.lastChild;)o.removeChild(v);if(typeof m=="function"){var I=m;m=function(){var X=hd(N);I.call(X)}}var N=Kp(o,0,!1,null,null,!1,!1,"",qb);return o._reactRootContainer=N,o[vi]=N.current,gl(o.nodeType===8?o.parentNode:o),Vs(function(){dd(l,N,h,m)}),N}function md(o,l,h,m,v){var S=h._reactRootContainer;if(S){var _=S;if(typeof v=="function"){var I=v;v=function(){var N=hd(_);I.call(N)}}dd(l,_,o,v)}else _=kE(h,l,o,v,m);return hd(_)}wu=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var h=Rs(l.pendingLanes);h!==0&&(rl(l,h|1),In(l,pt()),(Ue&6)===0&&(Yo=pt()+500,ns()))}break;case 13:Vs(function(){var m=xi(o,1);if(m!==null){var v=wn();Rr(m,o,1,v)}}),Yp(o,1)}},il=function(o){if(o.tag===13){var l=xi(o,134217728);if(l!==null){var h=wn();Rr(l,o,134217728,h)}Yp(o,134217728)}},Eo=function(o){if(o.tag===13){var l=ls(o),h=xi(o,l);if(h!==null){var m=wn();Rr(h,o,l,m)}Yp(o,l)}},Su=function(){return He},xu=function(o,l){var h=He;try{return He=o,l()}finally{He=h}},yo=function(o,l,h){switch(l){case"input":if(Ua(o,h),l=h.name,h.type==="radio"&&l!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<h.length;l++){var m=h[l];if(m!==o&&m.form===o.form){var v=Du(m);if(!v)throw Error(t(90));fi(m),Ua(m,v)}}}break;case"textarea":Wa(o,h);break;case"select":l=h.value,l!=null&&zr(o,!!h.multiple,l,!1)}},uu=Vp,du=Vs;var TE={usingClientEntryPoint:!1,Events:[bl,No,Du,lu,cu,Vp]},Il={findFiberByHostInstance:Ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},EE={bundleType:Il.bundleType,version:Il.version,rendererPackageName:Il.rendererPackageName,rendererConfig:Il.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=pu(o),o===null?null:o.stateNode},findFiberByHostInstance:Il.findFiberByHostInstance||CE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gd.isDisabled&&gd.supportsFiber)try{Ps=gd.inject(EE),Zn=gd}catch{}}return Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TE,Fn.createPortal=function(o,l){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qp(l))throw Error(t(200));return AE(o,l,null,h)},Fn.createRoot=function(o,l){if(!Qp(o))throw Error(t(299));var h=!1,m="",v=Yb;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onRecoverableError!==void 0&&(v=l.onRecoverableError)),l=Kp(o,1,!1,null,null,h,!1,m,v),o[vi]=l.current,gl(o.nodeType===8?o.parentNode:o),new qp(l)},Fn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=pu(l),o=o===null?null:o.stateNode,o},Fn.flushSync=function(o){return Vs(o)},Fn.hydrate=function(o,l,h){if(!pd(l))throw Error(t(200));return md(null,o,l,!0,h)},Fn.hydrateRoot=function(o,l,h){if(!Qp(o))throw Error(t(405));var m=h!=null&&h.hydratedSources||null,v=!1,S="",_=Yb;if(h!=null&&(h.unstable_strictMode===!0&&(v=!0),h.identifierPrefix!==void 0&&(S=h.identifierPrefix),h.onRecoverableError!==void 0&&(_=h.onRecoverableError)),l=Xb(l,null,o,1,h??null,v,!1,S,_),o[vi]=l.current,gl(o),m)for(o=0;o<m.length;o++)h=m[o],v=h._getVersion,v=v(h._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[h,v]:l.mutableSourceEagerHydrationData.push(h,v);return new fd(l)},Fn.render=function(o,l,h){if(!pd(l))throw Error(t(200));return md(null,o,l,!1,h)},Fn.unmountComponentAtNode=function(o){if(!pd(o))throw Error(t(40));return o._reactRootContainer?(Vs(function(){md(null,null,o,!1,function(){o._reactRootContainer=null,o[vi]=null})}),!0):!1},Fn.unstable_batchedUpdates=Vp,Fn.unstable_renderSubtreeIntoContainer=function(o,l,h,m){if(!pd(h))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return md(o,l,h,!1,m)},Fn.version="18.3.1-next-f1338f8080-20240426",Fn}var aw;function n1(){if(aw)return tm.exports;aw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),tm.exports=FE(),tm.exports}var lw;function NE(){if(lw)return vd;lw=1;var n=n1();return vd.createRoot=n.createRoot,vd.hydrateRoot=n.hydrateRoot,vd}var OE=NE();const BE=Fh(OE);var cw="popstate";function jE(n={}){function e(r,i){let{pathname:s,search:a,hash:c}=r.location;return cg("",{pathname:s,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:wc(i)}return zE(e,t,null,n)}function Tt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ui(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $E(){return Math.random().toString(36).substring(2,10)}function uw(n,e){return{usr:n.state,key:n.key,idx:e}}function cg(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Oa(e):e,state:t,key:e&&e.key||r||$E()}}function wc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Oa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function zE(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,c="POP",u=null,d=f();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function f(){return(a.state||{idx:null}).idx}function p(){c="POP";let x=f(),A=x==null?null:x-d;d=x,u&&u({action:c,location:b.location,delta:A})}function g(x,A){c="PUSH";let T=cg(b.location,x,A);d=f()+1;let k=uw(T,d),R=b.createHref(T);try{a.pushState(k,"",R)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(R)}s&&u&&u({action:c,location:b.location,delta:1})}function y(x,A){c="REPLACE";let T=cg(b.location,x,A);d=f();let k=uw(T,d),R=b.createHref(T);a.replaceState(k,"",R),s&&u&&u({action:c,location:b.location,delta:0})}function w(x){return VE(x)}let b={get action(){return c},get location(){return n(i,a)},listen(x){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(cw,p),u=x,()=>{i.removeEventListener(cw,p),u=null}},createHref(x){return e(i,x)},createURL:w,encodeLocation(x){let A=w(x);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:g,replace:y,go(x){return a.go(x)}};return b}function VE(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Tt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:wc(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function r1(n,e,t="/"){return UE(n,e,t,!1)}function UE(n,e,t,r){let i=typeof e=="string"?Oa(e):e,s=ji(i.pathname||"/",t);if(s==null)return null;let a=i1(n);HE(a);let c=null;for(let u=0;c==null&&u<a.length;++u){let d=t_(s);c=JE(a[u],d,r)}return c}function i1(n,e=[],t=[],r="",i=!1){let s=(a,c,u=i,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&u)return;Tt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let p=Ni([r,f.relativePath]),g=t.concat(f);a.children&&a.children.length>0&&(Tt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),i1(a.children,e,g,p,u)),!(a.path==null&&!a.index)&&e.push({path:p,score:QE(p,a.index),routesMeta:g})};return n.forEach((a,c)=>{if(a.path===""||!a.path?.includes("?"))s(a,c);else for(let u of s1(a.path))s(a,c,!0,u)}),e}function s1(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=s1(r.join("/")),c=[];return c.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&c.push(...a),c.map(u=>n.startsWith("/")&&u===""?"/":u)}function HE(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:ZE(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var WE=/^:[\w-]+$/,GE=3,XE=2,KE=1,YE=10,qE=-2,dw=n=>n==="*";function QE(n,e){let t=n.split("/"),r=t.length;return t.some(dw)&&(r+=qE),e&&(r+=XE),t.filter(i=>!dw(i)).reduce((i,s)=>i+(WE.test(s)?GE:s===""?KE:YE),r)}function ZE(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function JE(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",a=[];for(let c=0;c<r.length;++c){let u=r[c],d=c===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=yh({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),g=u.route;if(!p&&d&&t&&!r[r.length-1].route.index&&(p=yh({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),a.push({params:i,pathname:Ni([s,p.pathname]),pathnameBase:s_(Ni([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=Ni([s,p.pathnameBase]))}return a}function yh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=e_(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((d,{paramName:f,isOptional:p},g)=>{if(f==="*"){let w=c[g]||"";a=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const y=c[g];return p&&!y?d[f]=void 0:d[f]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:n}}function e_(n,e=!1,t=!0){ui(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function t_(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ui(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ji(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var n_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function r_(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Oa(n):n,s;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?s=hw(t.substring(1),"/"):s=hw(t,e)):s=e,{pathname:s,search:o_(r),hash:a_(i)}}function hw(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function im(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function i_(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function o1(n){let e=i_(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function a1(n,e,t,r=!1){let i;typeof n=="string"?i=Oa(n):(i={...n},Tt(!i.pathname||!i.pathname.includes("?"),im("?","pathname","search",i)),Tt(!i.pathname||!i.pathname.includes("#"),im("#","pathname","hash",i)),Tt(!i.search||!i.search.includes("#"),im("#","search","hash",i)));let s=n===""||i.pathname==="",a=s?"/":i.pathname,c;if(a==null)c=t;else{let p=e.length-1;if(!r&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}c=p>=0?e[p]:"/"}let u=r_(i,c),d=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}var Ni=n=>n.join("/").replace(/\/\/+/g,"/"),s_=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),o_=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,a_=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,l_=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function c_(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function u_(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var l1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function c1(n,e){let t=n;if(typeof t!="string"||!n_.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let r=t,i=!1;if(l1)try{let s=new URL(window.location.href),a=t.startsWith("//")?new URL(s.protocol+t):new URL(t),c=ji(a.pathname,e);a.origin===s.origin&&c!=null?t=c+a.search+a.hash:i=!0}catch{ui(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var u1=["POST","PUT","PATCH","DELETE"];new Set(u1);var d_=["GET",...u1];new Set(d_);var Ba=E.createContext(null);Ba.displayName="DataRouter";var Nh=E.createContext(null);Nh.displayName="DataRouterState";var h_=E.createContext(!1),d1=E.createContext({isTransitioning:!1});d1.displayName="ViewTransition";var f_=E.createContext(new Map);f_.displayName="Fetchers";var p_=E.createContext(null);p_.displayName="Await";var wr=E.createContext(null);wr.displayName="Navigation";var Bc=E.createContext(null);Bc.displayName="Location";var Br=E.createContext({outlet:null,matches:[],isDataRoute:!1});Br.displayName="Route";var py=E.createContext(null);py.displayName="RouteError";var h1="REACT_ROUTER_ERROR",m_="REDIRECT",g_="ROUTE_ERROR_RESPONSE";function y_(n){if(n.startsWith(`${h1}:${m_}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function v_(n){if(n.startsWith(`${h1}:${g_}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new l_(e.status,e.statusText,e.data)}catch{}}function b_(n,{relative:e}={}){Tt(jc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=E.useContext(wr),{hash:i,pathname:s,search:a}=$c(n,{relative:e}),c=s;return t!=="/"&&(c=s==="/"?t:Ni([t,s])),r.createHref({pathname:c,search:a,hash:i})}function jc(){return E.useContext(Bc)!=null}function ho(){return Tt(jc(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Bc).location}var f1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function p1(n){E.useContext(wr).static||E.useLayoutEffect(n)}function w_(){let{isDataRoute:n}=E.useContext(Br);return n?N_():S_()}function S_(){Tt(jc(),"useNavigate() may be used only in the context of a <Router> component.");let n=E.useContext(Ba),{basename:e,navigator:t}=E.useContext(wr),{matches:r}=E.useContext(Br),{pathname:i}=ho(),s=JSON.stringify(o1(r)),a=E.useRef(!1);return p1(()=>{a.current=!0}),E.useCallback((u,d={})=>{if(ui(a.current,f1),!a.current)return;if(typeof u=="number"){t.go(u);return}let f=a1(u,JSON.parse(s),i,d.relative==="path");n==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ni([e,f.pathname])),(d.replace?t.replace:t.push)(f,d.state,d)},[e,t,s,i,n])}var x_=E.createContext(null);function A_(n){let e=E.useContext(Br).outlet;return E.useMemo(()=>e&&E.createElement(x_.Provider,{value:n},e),[e,n])}function C_(){let{matches:n}=E.useContext(Br),e=n[n.length-1];return e?e.params:{}}function $c(n,{relative:e}={}){let{matches:t}=E.useContext(Br),{pathname:r}=ho(),i=JSON.stringify(o1(t));return E.useMemo(()=>a1(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function k_(n,e){return m1(n,e)}function m1(n,e,t,r,i){Tt(jc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=E.useContext(wr),{matches:a}=E.useContext(Br),c=a[a.length-1],u=c?c.params:{},d=c?c.pathname:"/",f=c?c.pathnameBase:"/",p=c&&c.route;{let T=p&&p.path||"";y1(d,!p||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let g=ho(),y;if(e){let T=typeof e=="string"?Oa(e):e;Tt(f==="/"||T.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${T.pathname}" was given in the \`location\` prop.`),y=T}else y=g;let w=y.pathname||"/",b=w;if(f!=="/"){let T=f.replace(/^\//,"").split("/");b="/"+w.replace(/^\//,"").split("/").slice(T.length).join("/")}let x=r1(n,{pathname:b});ui(p||x!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),ui(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=R_(x&&x.map(T=>Object.assign({},T,{params:Object.assign({},u,T.params),pathname:Ni([f,s.encodeLocation?s.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?f:Ni([f,s.encodeLocation?s.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),a,t,r,i);return e&&A?E.createElement(Bc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},A):A}function T_(){let n=F_(),e=c_(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:s},"ErrorBoundary")," or"," ",E.createElement("code",{style:s},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),t?E.createElement("pre",{style:i},t):null,a)}var E_=E.createElement(T_,null),g1=class extends E.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=v_(n.digest);t&&(n=t)}let e=n!==void 0?E.createElement(Br.Provider,{value:this.props.routeContext},E.createElement(py.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?E.createElement(__,{error:n},e):e}};g1.contextType=h_;var sm=new WeakMap;function __({children:n,error:e}){let{basename:t}=E.useContext(wr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=y_(e.digest);if(r){let i=sm.get(e);if(i)throw i;let s=c1(r.location,t);if(l1&&!sm.get(e))if(s.isExternal||r.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:r.replace}));throw sm.set(e,a),a}return E.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return n}function P_({routeContext:n,match:e,children:t}){let r=E.useContext(Ba);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(Br.Provider,{value:n},t)}function R_(n,e=[],t=null,r=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t?.errors;if(a!=null){let f=s.findIndex(p=>p.route.id&&a?.[p.route.id]!==void 0);Tt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let c=!1,u=-1;if(t)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=f),p.route.id){let{loaderData:g,errors:y}=t,w=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||w){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}let d=t&&r?(f,p)=>{r(f,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:u_(t.matches),errorInfo:p})}:void 0;return s.reduceRight((f,p,g)=>{let y,w=!1,b=null,x=null;t&&(y=a&&p.route.id?a[p.route.id]:void 0,b=p.route.errorElement||E_,c&&(u<0&&g===0?(y1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,x=null):u===g&&(w=!0,x=p.route.hydrateFallbackElement||null)));let A=e.concat(s.slice(0,g+1)),T=()=>{let k;return y?k=b:w?k=x:p.route.Component?k=E.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=f,E.createElement(P_,{match:p,routeContext:{outlet:f,matches:A,isDataRoute:t!=null},children:k})};return t&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?E.createElement(g1,{location:t.location,revalidation:t.revalidation,component:b,error:y,children:T(),routeContext:{outlet:null,matches:A,isDataRoute:!0},onError:d}):T()},null)}function my(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function M_(n){let e=E.useContext(Ba);return Tt(e,my(n)),e}function D_(n){let e=E.useContext(Nh);return Tt(e,my(n)),e}function I_(n){let e=E.useContext(Br);return Tt(e,my(n)),e}function gy(n){let e=I_(n),t=e.matches[e.matches.length-1];return Tt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function L_(){return gy("useRouteId")}function F_(){let n=E.useContext(py),e=D_("useRouteError"),t=gy("useRouteError");return n!==void 0?n:e.errors?.[t]}function N_(){let{router:n}=M_("useNavigate"),e=gy("useNavigate"),t=E.useRef(!1);return p1(()=>{t.current=!0}),E.useCallback(async(i,s={})=>{ui(t.current,f1),t.current&&(typeof i=="number"?await n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var fw={};function y1(n,e,t){!e&&!fw[n]&&(fw[n]=!0,ui(!1,t))}E.memo(O_);function O_({routes:n,future:e,state:t,onError:r}){return m1(n,void 0,t,r,e)}function B_(n){return A_(n.context)}function na(n){Tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function j_({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:a}){Tt(!jc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:c,navigator:i,static:s,unstable_useTransitions:a,future:{}}),[c,i,s,a]);typeof t=="string"&&(t=Oa(t));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:y="default"}=t,w=E.useMemo(()=>{let b=ji(d,c);return b==null?null:{location:{pathname:b,search:f,hash:p,state:g,key:y},navigationType:r}},[c,d,f,p,g,y,r]);return ui(w!=null,`<Router basename="${c}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:E.createElement(wr.Provider,{value:u},E.createElement(Bc.Provider,{children:e,value:w}))}function $_({children:n,location:e}){return k_(ug(n),e)}function ug(n,e=[]){let t=[];return E.Children.forEach(n,(r,i)=>{if(!E.isValidElement(r))return;let s=[...e,i];if(r.type===E.Fragment){t.push.apply(t,ug(r.props.children,s));return}Tt(r.type===na,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Tt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=ug(r.props.children,s)),t.push(a)}),t}var Gd="get",Xd="application/x-www-form-urlencoded";function Oh(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function z_(n){return Oh(n)&&n.tagName.toLowerCase()==="button"}function V_(n){return Oh(n)&&n.tagName.toLowerCase()==="form"}function U_(n){return Oh(n)&&n.tagName.toLowerCase()==="input"}function H_(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function W_(n,e){return n.button===0&&(!e||e==="_self")&&!H_(n)}var bd=null;function G_(){if(bd===null)try{new FormData(document.createElement("form"),0),bd=!1}catch{bd=!0}return bd}var X_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function om(n){return n!=null&&!X_.has(n)?(ui(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xd}"`),null):n}function K_(n,e){let t,r,i,s,a;if(V_(n)){let c=n.getAttribute("action");r=c?ji(c,e):null,t=n.getAttribute("method")||Gd,i=om(n.getAttribute("enctype"))||Xd,s=new FormData(n)}else if(z_(n)||U_(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=n.getAttribute("formaction")||c.getAttribute("action");if(r=u?ji(u,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Gd,i=om(n.getAttribute("formenctype"))||om(c.getAttribute("enctype"))||Xd,s=new FormData(c,n),!G_()){let{name:d,type:f,value:p}=n;if(f==="image"){let g=d?`${d}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else d&&s.append(d,p)}}else{if(Oh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Gd,r=null,i=Xd,a=n}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function yy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Y_(n,e,t,r){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:e&&ji(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function q_(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Q_(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Z_(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await q_(s,t);return a.links?a.links():[]}return[]}));return nP(r.flat(1).filter(Q_).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function pw(n,e,t,r,i,s){let a=(u,d)=>t[d]?u.route.id!==t[d].route.id:!0,c=(u,d)=>t[d].pathname!==u.pathname||t[d].route.path?.endsWith("*")&&t[d].params["*"]!==u.params["*"];return s==="assets"?e.filter((u,d)=>a(u,d)||c(u,d)):s==="data"?e.filter((u,d)=>{let f=r.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(a(u,d)||c(u,d))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function J_(n,e,{includeHydrateFallback:t}={}){return eP(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function eP(n){return[...new Set(n)]}function tP(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function nP(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(tP(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}function v1(){let n=E.useContext(Ba);return yy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function rP(){let n=E.useContext(Nh);return yy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var vy=E.createContext(void 0);vy.displayName="FrameworkContext";function b1(){let n=E.useContext(vy);return yy(n,"You must render this element inside a <HydratedRouter> element"),n}function iP(n,e){let t=E.useContext(vy),[r,i]=E.useState(!1),[s,a]=E.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:d,onMouseLeave:f,onTouchStart:p}=e,g=E.useRef(null);E.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let b=A=>{A.forEach(T=>{a(T.isIntersecting)})},x=new IntersectionObserver(b,{threshold:.5});return g.current&&x.observe(g.current),()=>{x.disconnect()}}},[n]),E.useEffect(()=>{if(r){let b=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(b)}}},[r]);let y=()=>{i(!0)},w=()=>{i(!1),a(!1)};return t?n!=="intent"?[s,g,{}]:[s,g,{onFocus:Fl(c,y),onBlur:Fl(u,w),onMouseEnter:Fl(d,y),onMouseLeave:Fl(f,w),onTouchStart:Fl(p,y)}]:[!1,g,{}]}function Fl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function sP({page:n,...e}){let{router:t}=v1(),r=E.useMemo(()=>r1(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?E.createElement(aP,{page:n,matches:r,...e}):null}function oP(n){let{manifest:e,routeModules:t}=b1(),[r,i]=E.useState([]);return E.useEffect(()=>{let s=!1;return Z_(n,e,t).then(a=>{s||i(a)}),()=>{s=!0}},[n,e,t]),r}function aP({page:n,matches:e,...t}){let r=ho(),{future:i,manifest:s,routeModules:a}=b1(),{basename:c}=v1(),{loaderData:u,matches:d}=rP(),f=E.useMemo(()=>pw(n,e,d,s,r,"data"),[n,e,d,s,r]),p=E.useMemo(()=>pw(n,e,d,s,r,"assets"),[n,e,d,s,r]),g=E.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let b=new Set,x=!1;if(e.forEach(T=>{let k=s.routes[T.route.id];!k||!k.hasLoader||(!f.some(R=>R.route.id===T.route.id)&&T.route.id in u&&a[T.route.id]?.shouldRevalidate||k.hasClientLoader?x=!0:b.add(T.route.id))}),b.size===0)return[];let A=Y_(n,c,i.unstable_trailingSlashAwareDataRequests,"data");return x&&b.size>0&&A.searchParams.set("_routes",e.filter(T=>b.has(T.route.id)).map(T=>T.route.id).join(",")),[A.pathname+A.search]},[c,i.unstable_trailingSlashAwareDataRequests,u,r,s,f,e,n,a]),y=E.useMemo(()=>J_(p,s),[p,s]),w=oP(p);return E.createElement(E.Fragment,null,g.map(b=>E.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),y.map(b=>E.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),w.map(({key:b,link:x})=>E.createElement("link",{key:b,nonce:t.nonce,...x,crossOrigin:x.crossOrigin??t.crossOrigin})))}function lP(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var cP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cP&&(window.__reactRouterVersion="7.13.0")}catch{}function uP({basename:n,children:e,unstable_useTransitions:t,window:r}){let i=E.useRef();i.current==null&&(i.current=jE({window:r,v5Compat:!0}));let s=i.current,[a,c]=E.useState({action:s.action,location:s.location}),u=E.useCallback(d=>{t===!1?c(d):E.startTransition(()=>c(d))},[t]);return E.useLayoutEffect(()=>s.listen(u),[s,u]),E.createElement(j_,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s,unstable_useTransitions:t})}var w1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,S1=E.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:c,target:u,to:d,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:g,...y},w){let{basename:b,unstable_useTransitions:x}=E.useContext(wr),A=typeof d=="string"&&w1.test(d),T=c1(d,b);d=T.to;let k=b_(d,{relative:i}),[R,P,M]=iP(r,y),L=fP(d,{replace:a,state:c,target:u,preventScrollReset:f,relative:i,viewTransition:p,unstable_defaultShouldRevalidate:g,unstable_useTransitions:x});function F(q){e&&e(q),q.defaultPrevented||L(q)}let z=E.createElement("a",{...y,...M,href:T.absoluteURL||k,onClick:T.isExternal||s?e:F,ref:lP(w,P),target:u,"data-discover":!A&&t==="render"?"true":void 0});return R&&!A?E.createElement(E.Fragment,null,z,E.createElement(sP,{page:k})):z});S1.displayName="Link";var Kd=E.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:c,children:u,...d},f){let p=$c(a,{relative:d.relative}),g=ho(),y=E.useContext(Nh),{navigator:w,basename:b}=E.useContext(wr),x=y!=null&&vP(p)&&c===!0,A=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,T=g.pathname,k=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(T=T.toLowerCase(),k=k?k.toLowerCase():null,A=A.toLowerCase()),k&&b&&(k=ji(k,b)||k);const R=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let P=T===A||!i&&T.startsWith(A)&&T.charAt(R)==="/",M=k!=null&&(k===A||!i&&k.startsWith(A)&&k.charAt(A.length)==="/"),L={isActive:P,isPending:M,isTransitioning:x},F=P?e:void 0,z;typeof r=="function"?z=r(L):z=[r,P?"active":null,M?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let q=typeof s=="function"?s(L):s;return E.createElement(S1,{...d,"aria-current":F,className:z,ref:f,style:q,to:a,viewTransition:c},typeof u=="function"?u(L):u)});Kd.displayName="NavLink";var dP=E.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:a=Gd,action:c,onSubmit:u,relative:d,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:g,...y},w)=>{let{unstable_useTransitions:b}=E.useContext(wr),x=gP(),A=yP(c,{relative:d}),T=a.toLowerCase()==="get"?"get":"post",k=typeof c=="string"&&w1.test(c),R=P=>{if(u&&u(P),P.defaultPrevented)return;P.preventDefault();let M=P.nativeEvent.submitter,L=M?.getAttribute("formmethod")||a,F=()=>x(M||P.currentTarget,{fetcherKey:e,method:L,navigate:t,replace:i,state:s,relative:d,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:g});b&&t!==!1?E.startTransition(()=>F()):F()};return E.createElement("form",{ref:w,method:T,action:A,onSubmit:r?u:R,...y,"data-discover":!k&&n==="render"?"true":void 0})});dP.displayName="Form";function hP(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x1(n){let e=E.useContext(Ba);return Tt(e,hP(n)),e}function fP(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:a,unstable_defaultShouldRevalidate:c,unstable_useTransitions:u}={}){let d=w_(),f=ho(),p=$c(n,{relative:s});return E.useCallback(g=>{if(W_(g,e)){g.preventDefault();let y=t!==void 0?t:wc(f)===wc(p),w=()=>d(n,{replace:y,state:r,preventScrollReset:i,relative:s,viewTransition:a,unstable_defaultShouldRevalidate:c});u?E.startTransition(()=>w()):w()}},[f,d,p,t,r,e,n,i,s,a,c,u])}var pP=0,mP=()=>`__${String(++pP)}__`;function gP(){let{router:n}=x1("useSubmit"),{basename:e}=E.useContext(wr),t=L_(),r=n.fetch,i=n.navigate;return E.useCallback(async(s,a={})=>{let{action:c,method:u,encType:d,formData:f,body:p}=K_(s,e);if(a.navigate===!1){let g=a.fetcherKey||mP();await r(g,t,a.action||c,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||u,formEncType:a.encType||d,flushSync:a.flushSync})}else await i(a.action||c,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||u,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,i,e,t])}function yP(n,{relative:e}={}){let{basename:t}=E.useContext(wr),r=E.useContext(Br);Tt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...$c(n||".",{relative:e})},a=ho();if(n==null){s.search=a.search;let c=new URLSearchParams(s.search),u=c.getAll("index");if(u.some(f=>f==="")){c.delete("index"),u.filter(p=>p).forEach(p=>c.append("index",p));let f=c.toString();s.search=f?`?${f}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Ni([t,s.pathname])),wc(s)}function vP(n,{relative:e}={}){let t=E.useContext(d1);Tt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=x1("useViewTransitionState"),i=$c(n,{relative:e});if(!t.isTransitioning)return!1;let s=ji(t.currentLocation.pathname,r)||t.currentLocation.pathname,a=ji(t.nextLocation.pathname,r)||t.nextLocation.pathname;return yh(i.pathname,a)!=null||yh(i.pathname,s)!=null}var A1=n1();function bP(){return!!globalThis?.document}function wP(n,...e){if(n==null)throw new TypeError("Cannot convert undefined or null to object");const t={...n};for(const r of e)if(r!=null)for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(i in t&&delete t[i],t[i]=r[i]);return t}const mr=n=>n?"":void 0,am=n=>n?!0:void 0;function dg(n){return Array.isArray(n)}function Tn(n){const e=typeof n;return n!=null&&(e==="object"||e==="function")&&!dg(n)}function SP(n){const e=n==null?0:n.length;return e?n[e-1]:void 0}function xP(n){const e=parseFloat(n.toString()),t=n.toString().replace(String(e),"");return{unitless:!t,value:e,unit:t}}function hg(n){if(n==null)return n;const{unitless:e}=xP(n);return e||typeof n=="number"?`${n}px`:n}const C1=(n,e)=>parseInt(n[1],10)>parseInt(e[1],10)?1:-1,by=n=>Object.fromEntries(Object.entries(n).sort(C1));function mw(n){const e=by(n);return Object.assign(Object.values(e),e)}function AP(n){const e=Object.keys(by(n));return new Set(e)}function gw(n){if(!n)return n;n=hg(n)??n;const e=-.02;return typeof n=="number"?`${n+e}`:n.replace(/(\d+\.?\d*)/u,t=>`${parseFloat(t)+e}`)}function Xl(n,e){const t=["@media screen"];return n&&t.push("and",`(min-width: ${hg(n)})`),e&&t.push("and",`(max-width: ${hg(e)})`),t.join(" ")}function CP(n){if(!n)return null;n.base=n.base??"0px";const e=mw(n),t=Object.entries(n).sort(C1).map(([s,a],c,u)=>{let[,d]=u[c+1]??[];return d=parseFloat(d)>0?gw(d):void 0,{_minW:gw(a),breakpoint:s,minW:a,maxW:d,maxWQuery:Xl(null,d),minWQuery:Xl(a),minMaxQuery:Xl(a,d)}}),r=AP(n),i=Array.from(r.values());return{keys:r,normalized:e,isResponsive(s){const a=Object.keys(s);return a.length>0&&a.every(c=>r.has(c))},asObject:by(n),asArray:mw(n),details:t,get(s){return t.find(a=>a.breakpoint===s)},media:[null,...e.map(s=>Xl(s)).slice(1)],toArrayValue(s){if(!Tn(s))throw new Error("toArrayValue: value must be an object");const a=i.map(c=>s[c]??null);for(;SP(a)===null;)a.pop();return a},toObjectValue(s){if(!Array.isArray(s))throw new Error("toObjectValue: value must be an array");return s.reduce((a,c,u)=>{const d=i[u];return d!=null&&c!=null&&(a[d]=c),a},{})}}}function Ii(...n){return function(t){n.some(r=>(r?.(t),t?.defaultPrevented))}}function k1(n){return E.Children.toArray(n).filter(e=>E.isValidElement(e))}function T1(n){const e=Object.assign({},n);for(let t in e)e[t]===void 0&&delete e[t];return e}function kP(n,e){return`${n} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function yn(n={}){const{name:e,strict:t=!0,hookName:r="useContext",providerName:i="Provider",errorMessage:s,defaultValue:a}=n,c=E.createContext(a);c.displayName=e;function u(){const d=E.useContext(c);if(!d&&t){const f=new Error(s??kP(r,i));throw f.name="ContextError",Error.captureStackTrace?.(f,u),f}return d}return[c.Provider,u,c]}const ut=(...n)=>n.filter(Boolean).join(" ");function TP(n,e,t,r){const i=typeof e=="string"?e.split("."):[e];for(r=0;r<i.length&&n;r+=1)n=n[i[r]];return n===void 0?t:n}const EP=n=>{const e=new WeakMap;return(r,i,s,a)=>{if(typeof r>"u")return n(r,i,s);e.has(r)||e.set(r,new Map);const c=e.get(r);if(c.has(i))return c.get(i);const u=n(r,i,s,a);return c.set(i,u),u}},E1=EP(TP),_P=n=>n.default||n;function PP(n){const{wasSelected:e,enabled:t,isSelected:r,mode:i="unmount"}=n;return!!(!t||r||i==="keepMounted"&&e)}function _1(n,e=[]){const t=Object.assign({},n);for(const r of e)r in t&&delete t[r];return t}function RP(n,e){const t={};for(const r of e)r in n&&(t[r]=n[r]);return t}function MP(n,e){return Array.isArray(n)?n.map(t=>t===null?null:e(t)):Tn(n)?Object.keys(n).reduce((t,r)=>(t[r]=e(n[r]),t),{}):n!=null?e(n):null}const DP=n=>typeof n=="function";function oi(n,...e){return DP(n)?n(...e):n}function IP(n,e){const t={},r={};for(const[i,s]of Object.entries(n))e.includes(i)?t[i]=s:r[i]=s;return[t,r]}function LP(n,...e){const t=Object.getOwnPropertyDescriptors(n),r=Object.keys(t),i=a=>{const c={};for(let u=0;u<a.length;u++){const d=a[u];t[d]&&(Object.defineProperty(c,d,t[d]),delete t[d])}return c},s=a=>i(Array.isArray(a)?a:r.filter(a));return e.map(s).concat(i(r))}function yw(n,e,t={}){const{stop:r,getKey:i}=t;function s(a,c=[]){if(Tn(a)||Array.isArray(a)){const u={};for(const[d,f]of Object.entries(a)){const p=i?.(d)??d,g=[...c,p];if(r?.(a,g))return e(a,c);u[p]=s(f,g)}return u}return e(a,c)}return s(n)}var Kl={exports:{}};Kl.exports;var vw;function FP(){return vw||(vw=1,(function(n,e){var t=200,r="__lodash_hash_undefined__",i=800,s=16,a=9007199254740991,c="[object Arguments]",u="[object Array]",d="[object AsyncFunction]",f="[object Boolean]",p="[object Date]",g="[object Error]",y="[object Function]",w="[object GeneratorFunction]",b="[object Map]",x="[object Number]",A="[object Null]",T="[object Object]",k="[object Proxy]",R="[object RegExp]",P="[object Set]",M="[object String]",L="[object Undefined]",F="[object WeakMap]",z="[object ArrayBuffer]",q="[object DataView]",U="[object Float32Array]",be="[object Float64Array]",xe="[object Int8Array]",ve="[object Int16Array]",De="[object Int32Array]",re="[object Uint8Array]",G="[object Uint8ClampedArray]",Q="[object Uint16Array]",ie="[object Uint32Array]",ne=/[\\^$.*+?()[\]{}|]/g,O=/^\[object .+?Constructor\]$/,Y=/^(?:0|[1-9]\d*)$/,W={};W[U]=W[be]=W[xe]=W[ve]=W[De]=W[re]=W[G]=W[Q]=W[ie]=!0,W[c]=W[u]=W[z]=W[f]=W[q]=W[p]=W[g]=W[y]=W[b]=W[x]=W[T]=W[R]=W[P]=W[M]=W[F]=!1;var se=typeof yd=="object"&&yd&&yd.Object===Object&&yd,pe=typeof self=="object"&&self&&self.Object===Object&&self,de=se||pe||Function("return this")(),me=e&&!e.nodeType&&e,_e=me&&!0&&n&&!n.nodeType&&n,Ve=_e&&_e.exports===me,$t=Ve&&se.process,Sr=(function(){try{var D=_e&&_e.require&&_e.require("util").types;return D||$t&&$t.binding&&$t.binding("util")}catch{}})(),fi=Sr&&Sr.isTypedArray;function pi(D,$,K){switch(K.length){case 0:return D.call($);case 1:return D.call($,K[0]);case 2:return D.call($,K[0],K[1]);case 3:return D.call($,K[0],K[1],K[2])}return D.apply($,K)}function ks(D,$){for(var K=-1,le=Array(D);++K<D;)le[K]=$(K);return le}function tu(D){return function($){return D($)}}function nu(D,$){return D?.[$]}function Ua(D,$){return function(K){return D($(K))}}var ru=Array.prototype,Ha=Function.prototype,$r=Object.prototype,zr=de["__core-js_shared__"],Vi=Ha.toString,xr=$r.hasOwnProperty,Wa=(function(){var D=/[^.]+$/.exec(zr&&zr.keys&&zr.keys.IE_PROTO||"");return D?"Symbol(src)_1."+D:""})(),Ga=$r.toString,iu=Vi.call(Object),Xa=RegExp("^"+Vi.call(xr).replace(ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mi=Ve?de.Buffer:void 0,Ka=de.Symbol,Ui=de.Uint8Array;mi&&mi.allocUnsafe;var Hi=Ua(Object.getPrototypeOf,Object),su=Object.create,ou=$r.propertyIsEnumerable,au=ru.splice,gi=Ka?Ka.toStringTag:void 0,Wi=(function(){try{var D=tl(Object,"defineProperty");return D({},"",{}),D}catch{}})(),Ya=mi?mi.isBuffer:void 0,go=Math.max,qa=Date.now,yo=tl(de,"Map"),qn=tl(Object,"create"),Gi=(function(){function D(){}return function($){if(!Ur($))return{};if(su)return su($);D.prototype=$;var K=new D;return D.prototype=void 0,K}})();function Vr(D){var $=-1,K=D==null?0:D.length;for(this.clear();++$<K;){var le=D[$];this.set(le[0],le[1])}}function lu(){this.__data__=qn?qn(null):{},this.size=0}function cu(D){var $=this.has(D)&&delete this.__data__[D];return this.size-=$?1:0,$}function uu(D){var $=this.__data__;if(qn){var K=$[D];return K===r?void 0:K}return xr.call($,D)?$[D]:void 0}function du(D){var $=this.__data__;return qn?$[D]!==void 0:xr.call($,D)}function Qa(D,$){var K=this.__data__;return this.size+=this.has(D)?0:1,K[D]=qn&&$===void 0?r:$,this}Vr.prototype.clear=lu,Vr.prototype.delete=cu,Vr.prototype.get=uu,Vr.prototype.has=du,Vr.prototype.set=Qa;function Qn(D){var $=-1,K=D==null?0:D.length;for(this.clear();++$<K;){var le=D[$];this.set(le[0],le[1])}}function Ts(){this.__data__=[],this.size=0}function Za(D){var $=this.__data__,K=wo($,D);if(K<0)return!1;var le=$.length-1;return K==le?$.pop():au.call($,K,1),--this.size,!0}function Es(D){var $=this.__data__,K=wo($,D);return K<0?void 0:$[K][1]}function hf(D){return wo(this.__data__,D)>-1}function _s(D,$){var K=this.__data__,le=wo(K,D);return le<0?(++this.size,K.push([D,$])):K[le][1]=$,this}Qn.prototype.clear=Ts,Qn.prototype.delete=Za,Qn.prototype.get=Es,Qn.prototype.has=hf,Qn.prototype.set=_s;function Ar(D){var $=-1,K=D==null?0:D.length;for(this.clear();++$<K;){var le=D[$];this.set(le[0],le[1])}}function vo(){this.size=0,this.__data__={hash:new Vr,map:new(yo||Qn),string:new Vr}}function Ja(D){var $=ko(this,D).delete(D);return this.size-=$?1:0,$}function ff(D){return ko(this,D).get(D)}function pf(D){return ko(this,D).has(D)}function mf(D,$){var K=ko(this,D),le=K.size;return K.set(D,$),this.size+=K.size==le?0:1,this}Ar.prototype.clear=vo,Ar.prototype.delete=Ja,Ar.prototype.get=ff,Ar.prototype.has=pf,Ar.prototype.set=mf;function _n(D){var $=this.__data__=new Qn(D);this.size=$.size}function hu(){this.__data__=new Qn,this.size=0}function fu(D){var $=this.__data__,K=$.delete(D);return this.size=$.size,K}function gf(D){return this.__data__.get(D)}function pu(D){return this.__data__.has(D)}function mu(D,$){var K=this.__data__;if(K instanceof Qn){var le=K.__data__;if(!yo||le.length<t-1)return le.push([D,$]),this.size=++K.size,this;K=this.__data__=new Ar(le)}return K.set(D,$),this.size=K.size,this}_n.prototype.clear=hu,_n.prototype.delete=fu,_n.prototype.get=gf,_n.prototype.has=pu,_n.prototype.set=mu;function gu(D,$){var K=er(D),le=!K&&Jn(D),Le=!K&&!le&&Ki(D),Xe=!K&&!le&&!Le&&ol(D),ct=K||le||Le||Xe,Ie=ct?ks(D.length,String):[],ot=Ie.length;for(var ln in D)ct&&(ln=="length"||Le&&(ln=="offset"||ln=="parent")||Xe&&(ln=="buffer"||ln=="byteLength"||ln=="byteOffset")||To(ln,ot))||Ie.push(ln);return Ie}function bo(D,$,K){(K!==void 0&&!yi(D[$],K)||K===void 0&&!($ in D))&&pt(D,$,K)}function yf(D,$,K){var le=D[$];(!(xr.call(D,$)&&yi(le,K))||K===void 0&&!($ in D))&&pt(D,$,K)}function wo(D,$){for(var K=D.length;K--;)if(yi(D[K][0],$))return K;return-1}function pt(D,$,K){$=="__proto__"&&Wi?Wi(D,$,{configurable:!0,enumerable:!0,value:K,writable:!0}):D[$]=K}var vf=Co();function Xi(D){return D==null?D===void 0?L:A:gi&&gi in Object(D)?nl(D):wu(D)}function el(D){return Cr(D)&&Xi(D)==c}function So(D){if(!Ur(D)||rl(D))return!1;var $=nr(D)?Xa:O;return $.test(sl(D))}function bf(D){return Cr(D)&&Au(D.length)&&!!W[Xi(D)]}function yu(D){if(!Ur(D))return bu(D);var $=He(D),K=[];for(var le in D)le=="constructor"&&($||!xr.call(D,le))||K.push(le);return K}function Ps(D,$,K,le,Le){D!==$&&vf($,function(Xe,ct){if(Le||(Le=new _n),Ur(Xe))Zn(D,$,ct,K,Ps,le,Le);else{var Ie=le?le(Eo(D,ct),Xe,ct+"",D,$,Le):void 0;Ie===void 0&&(Ie=Xe),bo(D,ct,Ie)}},al)}function Zn(D,$,K,le,Le,Xe,ct){var Ie=Eo(D,K),ot=Eo($,K),ln=ct.get(ot);if(ln){bo(D,K,ln);return}var cn=Xe?Xe(Ie,ot,K+"",D,$,ct):void 0,Hr=cn===void 0;if(Hr){var Qi=er(ot),Po=!Qi&&Ki(ot),un=!Qi&&!Po&&ol(ot);cn=ot,Qi||Po||un?er(Ie)?cn=Ie:Ds(Ie)?cn=xo(Ie):Po?(Hr=!1,cn=Sf(ot)):un?(Hr=!1,cn=Af(ot)):cn=[]:kf(ot)||Jn(ot)?(cn=Ie,Jn(Ie)?cn=_o(Ie):(!Ur(Ie)||nr(Ie))&&(cn=vu(ot))):Hr=!1}Hr&&(ct.set(ot,cn),Le(cn,ot,le,Xe,ct),ct.delete(ot)),bo(D,K,cn)}function wf(D,$){return Su(il(D,$,Yi),D+"")}var zn=Wi?function(D,$){return Wi(D,"toString",{configurable:!0,enumerable:!1,value:Is($),writable:!0})}:Yi;function Sf(D,$){return D.slice()}function xf(D){var $=new D.constructor(D.byteLength);return new Ui($).set(new Ui(D)),$}function Af(D,$){var K=xf(D.buffer);return new D.constructor(K,D.byteOffset,D.length)}function xo(D,$){var K=-1,le=D.length;for($||($=Array(le));++K<le;)$[K]=D[K];return $}function Ao(D,$,K,le){var Le=!K;K||(K={});for(var Xe=-1,ct=$.length;++Xe<ct;){var Ie=$[Xe],ot=void 0;ot===void 0&&(ot=D[Ie]),Le?pt(K,Ie,ot):yf(K,Ie,ot)}return K}function Rs(D){return wf(function($,K){var le=-1,Le=K.length,Xe=Le>1?K[Le-1]:void 0,ct=Le>2?K[2]:void 0;for(Xe=D.length>3&&typeof Xe=="function"?(Le--,Xe):void 0,ct&&Ms(K[0],K[1],ct)&&(Xe=Le<3?void 0:Xe,Le=1),$=Object($);++le<Le;){var Ie=K[le];Ie&&D($,Ie,le,Xe)}return $})}function Co(D){return function($,K,le){for(var Le=-1,Xe=Object($),ct=le($),Ie=ct.length;Ie--;){var ot=ct[++Le];if(K(Xe[ot],ot,Xe)===!1)break}return $}}function ko(D,$){var K=D.__data__;return Cf($)?K[typeof $=="string"?"string":"hash"]:K.map}function tl(D,$){var K=nu(D,$);return So(K)?K:void 0}function nl(D){var $=xr.call(D,gi),K=D[gi];try{D[gi]=void 0;var le=!0}catch{}var Le=Ga.call(D);return le&&($?D[gi]=K:delete D[gi]),Le}function vu(D){return typeof D.constructor=="function"&&!He(D)?Gi(Hi(D)):{}}function To(D,$){var K=typeof D;return $=$??a,!!$&&(K=="number"||K!="symbol"&&Y.test(D))&&D>-1&&D%1==0&&D<$}function Ms(D,$,K){if(!Ur(K))return!1;var le=typeof $;return(le=="number"?tr(K)&&To($,K.length):le=="string"&&$ in K)?yi(K[$],D):!1}function Cf(D){var $=typeof D;return $=="string"||$=="number"||$=="symbol"||$=="boolean"?D!=="__proto__":D===null}function rl(D){return!!Wa&&Wa in D}function He(D){var $=D&&D.constructor,K=typeof $=="function"&&$.prototype||$r;return D===K}function bu(D){var $=[];if(D!=null)for(var K in Object(D))$.push(K);return $}function wu(D){return Ga.call(D)}function il(D,$,K){return $=go($===void 0?D.length-1:$,0),function(){for(var le=arguments,Le=-1,Xe=go(le.length-$,0),ct=Array(Xe);++Le<Xe;)ct[Le]=le[$+Le];Le=-1;for(var Ie=Array($+1);++Le<$;)Ie[Le]=le[Le];return Ie[$]=K(ct),pi(D,this,Ie)}}function Eo(D,$){if(!($==="constructor"&&typeof D[$]=="function")&&$!="__proto__")return D[$]}var Su=xu(zn);function xu(D){var $=0,K=0;return function(){var le=qa(),Le=s-(le-K);if(K=le,Le>0){if(++$>=i)return arguments[0]}else $=0;return D.apply(void 0,arguments)}}function sl(D){if(D!=null){try{return Vi.call(D)}catch{}try{return D+""}catch{}}return""}function yi(D,$){return D===$||D!==D&&$!==$}var Jn=el((function(){return arguments})())?el:function(D){return Cr(D)&&xr.call(D,"callee")&&!ou.call(D,"callee")},er=Array.isArray;function tr(D){return D!=null&&Au(D.length)&&!nr(D)}function Ds(D){return Cr(D)&&tr(D)}var Ki=Ya||qi;function nr(D){if(!Ur(D))return!1;var $=Xi(D);return $==y||$==w||$==d||$==k}function Au(D){return typeof D=="number"&&D>-1&&D%1==0&&D<=a}function Ur(D){var $=typeof D;return D!=null&&($=="object"||$=="function")}function Cr(D){return D!=null&&typeof D=="object"}function kf(D){if(!Cr(D)||Xi(D)!=T)return!1;var $=Hi(D);if($===null)return!0;var K=xr.call($,"constructor")&&$.constructor;return typeof K=="function"&&K instanceof K&&Vi.call(K)==iu}var ol=fi?tu(fi):bf;function _o(D){return Ao(D,al(D))}function al(D){return tr(D)?gu(D):yu(D)}var Tf=Rs(function(D,$,K,le){Ps(D,$,K,le)});function Is(D){return function(){return D}}function Yi(D){return D}function qi(){return!1}n.exports=Tf})(Kl,Kl.exports)),Kl.exports}var NP=FP();const gr=Fh(NP);function Yd(n,e=[]){const t=E.useRef(n);return E.useEffect(()=>{t.current=n}),E.useCallback((...r)=>t.current?.(...r),e)}function OP(n){const{value:e,defaultValue:t,onChange:r,shouldUpdate:i=(g,y)=>g!==y}=n,s=Yd(r),a=Yd(i),[c,u]=E.useState(t),d=e!==void 0,f=d?e:c,p=Yd(g=>{const w=typeof g=="function"?g(f):g;a(f,w)&&(d||u(w),s(w))},[d,s,f,a]);return[f,p]}const fg=globalThis?.document?E.useLayoutEffect:E.useEffect,bw=(n,e)=>{const t=E.useRef(!1),r=E.useRef(!1);E.useEffect(()=>{if(t.current&&r.current)return n();r.current=!0},e),E.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[])};function BP(n,e){if(n!=null){if(typeof n=="function"){n(e);return}try{n.current=e}catch{throw new Error(`Cannot assign value '${e}' to ref '${n}'`)}}}function bs(...n){return e=>{n.forEach(t=>{BP(t,e)})}}function jP(...n){return E.useMemo(()=>bs(...n),n)}function $P(n,e){const t=Yd(n);E.useEffect(()=>{if(e==null)return;let r=null;return r=window.setTimeout(()=>{t()},e),()=>{r&&window.clearTimeout(r)}},[e,t])}const Ut={open:(n,e)=>`${n}[data-open], ${n}[open], ${n}[data-state=open] ${e}`,closed:(n,e)=>`${n}[data-closed], ${n}[data-state=closed] ${e}`,hover:(n,e)=>`${n}:hover ${e}, ${n}[data-hover] ${e}`,focus:(n,e)=>`${n}:focus ${e}, ${n}[data-focus] ${e}`,focusVisible:(n,e)=>`${n}:focus-visible ${e}`,focusWithin:(n,e)=>`${n}:focus-within ${e}`,active:(n,e)=>`${n}:active ${e}, ${n}[data-active] ${e}`,disabled:(n,e)=>`${n}:disabled ${e}, ${n}[data-disabled] ${e}`,invalid:(n,e)=>`${n}:invalid ${e}, ${n}[data-invalid] ${e}`,checked:(n,e)=>`${n}:checked ${e}, ${n}[data-checked] ${e}`,placeholderShown:(n,e)=>`${n}:placeholder-shown ${e}`},Qr=n=>P1(e=>n(e,"&"),"[role=group]","[data-group]",".group"),Ti=n=>P1(e=>n(e,"~ &"),"[data-peer]",".peer"),P1=(n,...e)=>e.map(n).join(", "),Bh={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within, &[data-focus-within]",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty, &[data-empty]",_expanded:"&[aria-expanded=true], &[data-expanded], &[data-state=expanded]",_checked:"&[aria-checked=true], &[data-checked], &[data-state=checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate], &[data-state=indeterminate]",_groupOpen:Qr(Ut.open),_groupClosed:Qr(Ut.closed),_groupHover:Qr(Ut.hover),_peerHover:Ti(Ut.hover),_groupFocus:Qr(Ut.focus),_peerFocus:Ti(Ut.focus),_groupFocusVisible:Qr(Ut.focusVisible),_peerFocusVisible:Ti(Ut.focusVisible),_groupActive:Qr(Ut.active),_peerActive:Ti(Ut.active),_groupDisabled:Qr(Ut.disabled),_peerDisabled:Ti(Ut.disabled),_groupInvalid:Qr(Ut.invalid),_peerInvalid:Ti(Ut.invalid),_groupChecked:Qr(Ut.checked),_peerChecked:Ti(Ut.checked),_groupFocusWithin:Qr(Ut.focusWithin),_peerFocusWithin:Ti(Ut.focusWithin),_peerPlaceholderShown:Ti(Ut.placeholderShown),_placeholder:"&::placeholder, &[data-placeholder]",_placeholderShown:"&:placeholder-shown, &[data-placeholder-shown]",_fullScreen:"&:fullscreen, &[data-fullscreen]",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]",_open:"&[data-open], &[open], &[data-state=open]",_closed:"&[data-closed], &[data-state=closed]",_complete:"&[data-complete]",_incomplete:"&[data-incomplete]",_current:"&[data-current]"},R1=Object.keys(Bh),zP=n=>/!(important)?$/.test(n),ww=n=>typeof n=="string"?n.replace(/!(important)?$/,"").trim():n,VP=(n,e)=>t=>{const r=String(e),i=zP(r),s=ww(r),a=n?`${n}.${s}`:s;let c=Tn(t.__cssMap)&&a in t.__cssMap?t.__cssMap[a].varRef:e;return c=ww(c),i?`${c} !important`:c};function wy(n){const{scale:e,transform:t,compose:r}=n;return(s,a)=>{const c=VP(e,s)(a);let u=t?.(c,a)??c;return r&&(u=r(u,a)),u}}const wd=(...n)=>e=>n.reduce((t,r)=>r(t),e);function cr(n,e){return t=>{const r={property:t,scale:n};return r.transform=wy({scale:n,transform:e}),r}}const UP=({rtl:n,ltr:e})=>t=>t.direction==="rtl"?n:e;function HP(n){const{property:e,scale:t,transform:r}=n;return{scale:t,property:UP(e),transform:t?wy({scale:t,compose:r}):r}}const M1=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function WP(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...M1].join(" ")}function GP(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...M1].join(" ")}const XP={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},KP={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function YP(n){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":n,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}const qP={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},pg={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},QP=new Set(Object.values(pg)),mg=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),ZP=n=>n.trim();function JP(n,e){if(n==null||mg.has(n))return n;if(!(gg(n)||mg.has(n)))return`url('${n}')`;const i=/(^[a-z-A-Z]+)\((.*)\)/g.exec(n),s=i?.[1],a=i?.[2];if(!s||!a)return n;const c=s.includes("-gradient")?s:`${s}-gradient`,[u,...d]=a.split(",").map(ZP).filter(Boolean);if(d?.length===0)return n;const f=u in pg?pg[u]:u;d.unshift(f);const p=d.map(g=>{if(QP.has(g))return g;const y=g.indexOf(" "),[w,b]=y!==-1?[g.substr(0,y),g.substr(y+1)]:[g],x=gg(b)?b:b&&b.split(" "),A=`colors.${w}`,T=A in e.__cssMap?e.__cssMap[A].varRef:w;return x?[T,...Array.isArray(x)?x:[x]].join(" "):T});return`${c}(${p.join(", ")})`}const gg=n=>typeof n=="string"&&n.includes("(")&&n.includes(")"),e2=(n,e)=>JP(n,e??{});function t2(n){return/^var\(--.+\)$/.test(n)}const n2=n=>{const e=parseFloat(n.toString()),t=n.toString().replace(String(e),"");return{unitless:!t,value:e,unit:t}},Zr=n=>e=>`${n}(${e})`,je={filter(n){return n!=="auto"?n:XP},backdropFilter(n){return n!=="auto"?n:KP},ring(n){return YP(je.px(n))},bgClip(n){return n==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:n}},transform(n){return n==="auto"?WP():n==="auto-gpu"?GP():n},vh(n){return n==="$100vh"?"var(--chakra-vh)":n},px(n){if(n==null)return n;const{unitless:e}=n2(n);return e||typeof n=="number"?`${n}px`:n},fraction(n){return typeof n!="number"||n>1?n:`${n*100}%`},float(n,e){const t={left:"right",right:"left"};return e.direction==="rtl"?t[n]:n},degree(n){if(t2(n)||n==null)return n;const e=typeof n=="string"&&!n.endsWith("deg");return typeof n=="number"||e?`${n}deg`:n},gradient:e2,blur:Zr("blur"),opacity:Zr("opacity"),brightness:Zr("brightness"),contrast:Zr("contrast"),dropShadow:Zr("drop-shadow"),grayscale:Zr("grayscale"),hueRotate:n=>Zr("hue-rotate")(je.degree(n)),invert:Zr("invert"),saturate:Zr("saturate"),sepia:Zr("sepia"),bgImage(n){return n==null||gg(n)||mg.has(n)?n:`url(${n})`},outline(n){const e=String(n)==="0"||String(n)==="none";return n!==null&&e?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:n}},flexDirection(n){const{space:e,divide:t}=qP[n]??{},r={flexDirection:n};return e&&(r[e]=1),t&&(r[t]=1),r}},j={borderWidths:cr("borderWidths"),borderStyles:cr("borderStyles"),colors:cr("colors"),borders:cr("borders"),gradients:cr("gradients",je.gradient),radii:cr("radii",je.px),space:cr("space",wd(je.vh,je.px)),spaceT:cr("space",wd(je.vh,je.px)),degreeT(n){return{property:n,transform:je.degree}},prop(n,e,t){return{property:n,scale:e,...e&&{transform:wy({scale:e,transform:t})}}},propT(n,e){return{property:n,transform:e}},sizes:cr("sizes",wd(je.vh,je.px)),sizesT:cr("sizes",wd(je.vh,je.fraction)),shadows:cr("shadows"),logical:HP,blur:cr("blur",je.blur)},qd={background:j.colors("background"),backgroundColor:j.colors("backgroundColor"),backgroundImage:j.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:je.bgClip},bgSize:j.prop("backgroundSize"),bgPosition:j.prop("backgroundPosition"),bg:j.colors("background"),bgColor:j.colors("backgroundColor"),bgPos:j.prop("backgroundPosition"),bgRepeat:j.prop("backgroundRepeat"),bgAttachment:j.prop("backgroundAttachment"),bgGradient:j.gradients("backgroundImage"),bgClip:{transform:je.bgClip}};Object.assign(qd,{bgImage:qd.backgroundImage,bgImg:qd.backgroundImage});const Ke={border:j.borders("border"),borderWidth:j.borderWidths("borderWidth"),borderStyle:j.borderStyles("borderStyle"),borderColor:j.colors("borderColor"),borderRadius:j.radii("borderRadius"),borderTop:j.borders("borderTop"),borderBlockStart:j.borders("borderBlockStart"),borderTopLeftRadius:j.radii("borderTopLeftRadius"),borderStartStartRadius:j.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:j.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:j.radii("borderTopRightRadius"),borderStartEndRadius:j.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:j.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:j.borders("borderRight"),borderInlineEnd:j.borders("borderInlineEnd"),borderBottom:j.borders("borderBottom"),borderBlockEnd:j.borders("borderBlockEnd"),borderBottomLeftRadius:j.radii("borderBottomLeftRadius"),borderBottomRightRadius:j.radii("borderBottomRightRadius"),borderLeft:j.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:j.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:j.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:j.borders(["borderLeft","borderRight"]),borderInline:j.borders("borderInline"),borderY:j.borders(["borderTop","borderBottom"]),borderBlock:j.borders("borderBlock"),borderTopWidth:j.borderWidths("borderTopWidth"),borderBlockStartWidth:j.borderWidths("borderBlockStartWidth"),borderTopColor:j.colors("borderTopColor"),borderBlockStartColor:j.colors("borderBlockStartColor"),borderTopStyle:j.borderStyles("borderTopStyle"),borderBlockStartStyle:j.borderStyles("borderBlockStartStyle"),borderBottomWidth:j.borderWidths("borderBottomWidth"),borderBlockEndWidth:j.borderWidths("borderBlockEndWidth"),borderBottomColor:j.colors("borderBottomColor"),borderBlockEndColor:j.colors("borderBlockEndColor"),borderBottomStyle:j.borderStyles("borderBottomStyle"),borderBlockEndStyle:j.borderStyles("borderBlockEndStyle"),borderLeftWidth:j.borderWidths("borderLeftWidth"),borderInlineStartWidth:j.borderWidths("borderInlineStartWidth"),borderLeftColor:j.colors("borderLeftColor"),borderInlineStartColor:j.colors("borderInlineStartColor"),borderLeftStyle:j.borderStyles("borderLeftStyle"),borderInlineStartStyle:j.borderStyles("borderInlineStartStyle"),borderRightWidth:j.borderWidths("borderRightWidth"),borderInlineEndWidth:j.borderWidths("borderInlineEndWidth"),borderRightColor:j.colors("borderRightColor"),borderInlineEndColor:j.colors("borderInlineEndColor"),borderRightStyle:j.borderStyles("borderRightStyle"),borderInlineEndStyle:j.borderStyles("borderInlineEndStyle"),borderTopRadius:j.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:j.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:j.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:j.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(Ke,{rounded:Ke.borderRadius,roundedTop:Ke.borderTopRadius,roundedTopLeft:Ke.borderTopLeftRadius,roundedTopRight:Ke.borderTopRightRadius,roundedTopStart:Ke.borderStartStartRadius,roundedTopEnd:Ke.borderStartEndRadius,roundedBottom:Ke.borderBottomRadius,roundedBottomLeft:Ke.borderBottomLeftRadius,roundedBottomRight:Ke.borderBottomRightRadius,roundedBottomStart:Ke.borderEndStartRadius,roundedBottomEnd:Ke.borderEndEndRadius,roundedLeft:Ke.borderLeftRadius,roundedRight:Ke.borderRightRadius,roundedStart:Ke.borderInlineStartRadius,roundedEnd:Ke.borderInlineEndRadius,borderStart:Ke.borderInlineStart,borderEnd:Ke.borderInlineEnd,borderTopStartRadius:Ke.borderStartStartRadius,borderTopEndRadius:Ke.borderStartEndRadius,borderBottomStartRadius:Ke.borderEndStartRadius,borderBottomEndRadius:Ke.borderEndEndRadius,borderStartRadius:Ke.borderInlineStartRadius,borderEndRadius:Ke.borderInlineEndRadius,borderStartWidth:Ke.borderInlineStartWidth,borderEndWidth:Ke.borderInlineEndWidth,borderStartColor:Ke.borderInlineStartColor,borderEndColor:Ke.borderInlineEndColor,borderStartStyle:Ke.borderInlineStartStyle,borderEndStyle:Ke.borderInlineEndStyle});const r2={color:j.colors("color"),textColor:j.colors("color"),fill:j.colors("fill"),stroke:j.colors("stroke"),accentColor:j.colors("accentColor"),textFillColor:j.colors("textFillColor")},vh={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:je.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:j.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:j.space("gap"),rowGap:j.space("rowGap"),columnGap:j.space("columnGap")};Object.assign(vh,{flexDir:vh.flexDirection});const hr={width:j.sizesT("width"),inlineSize:j.sizesT("inlineSize"),height:j.sizes("height"),blockSize:j.sizes("blockSize"),boxSize:j.sizes(["width","height"]),minWidth:j.sizes("minWidth"),minInlineSize:j.sizes("minInlineSize"),minHeight:j.sizes("minHeight"),minBlockSize:j.sizes("minBlockSize"),maxWidth:j.sizes("maxWidth"),maxInlineSize:j.sizes("maxInlineSize"),maxHeight:j.sizes("maxHeight"),maxBlockSize:j.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(n,e)=>({[`@media screen and (min-width: ${e.__breakpoints?.get(n)?.minW??n})`]:{display:"none"}})},hideBelow:{scale:"breakpoints",transform:(n,e)=>({[`@media screen and (max-width: ${e.__breakpoints?.get(n)?._minW??n})`]:{display:"none"}})},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:j.propT("float",je.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(hr,{w:hr.width,h:hr.height,minW:hr.minWidth,maxW:hr.maxWidth,minH:hr.minHeight,maxH:hr.maxHeight,overscroll:hr.overscrollBehavior,overscrollX:hr.overscrollBehaviorX,overscrollY:hr.overscrollBehaviorY});const i2={filter:{transform:je.filter},blur:j.blur("--chakra-blur"),brightness:j.propT("--chakra-brightness",je.brightness),contrast:j.propT("--chakra-contrast",je.contrast),hueRotate:j.propT("--chakra-hue-rotate",je.hueRotate),invert:j.propT("--chakra-invert",je.invert),saturate:j.propT("--chakra-saturate",je.saturate),dropShadow:j.propT("--chakra-drop-shadow",je.dropShadow),backdropFilter:{transform:je.backdropFilter},backdropBlur:j.blur("--chakra-backdrop-blur"),backdropBrightness:j.propT("--chakra-backdrop-brightness",je.brightness),backdropContrast:j.propT("--chakra-backdrop-contrast",je.contrast),backdropHueRotate:j.propT("--chakra-backdrop-hue-rotate",je.hueRotate),backdropInvert:j.propT("--chakra-backdrop-invert",je.invert),backdropSaturate:j.propT("--chakra-backdrop-saturate",je.saturate)},s2={ring:{transform:je.ring},ringColor:j.colors("--chakra-ring-color"),ringOffset:j.prop("--chakra-ring-offset-width"),ringOffsetColor:j.colors("--chakra-ring-offset-color"),ringInset:j.prop("--chakra-ring-inset")},o2={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:je.outline},outlineOffset:!0,outlineColor:j.colors("outlineColor")},D1={gridGap:j.space("gridGap"),gridColumnGap:j.space("gridColumnGap"),gridRowGap:j.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0};function a2(n,e,t,r){const i=typeof e=="string"?e.split("."):[e];for(r=0;r<i.length&&n;r+=1)n=n[i[r]];return n===void 0?t:n}const l2=n=>{const e=new WeakMap;return(r,i,s,a)=>{if(typeof r>"u")return n(r,i,s);e.has(r)||e.set(r,new Map);const c=e.get(r);if(c.has(i))return c.get(i);const u=n(r,i,s,a);return c.set(i,u),u}},c2=l2(a2),u2={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},d2={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},lm=(n,e,t)=>{const r={},i=c2(n,e,{});for(const s in i)s in t&&t[s]!=null||(r[s]=i[s]);return r},h2={srOnly:{transform(n){return n===!0?u2:n==="focusable"?d2:{}}},layerStyle:{processResult:!0,transform:(n,e,t)=>lm(e,`layerStyles.${n}`,t)},textStyle:{processResult:!0,transform:(n,e,t)=>lm(e,`textStyles.${n}`,t)},apply:{processResult:!0,transform:(n,e,t)=>lm(e,n,t)}},ac={position:!0,pos:j.prop("position"),zIndex:j.prop("zIndex","zIndices"),inset:j.spaceT("inset"),insetX:j.spaceT(["left","right"]),insetInline:j.spaceT("insetInline"),insetY:j.spaceT(["top","bottom"]),insetBlock:j.spaceT("insetBlock"),top:j.spaceT("top"),insetBlockStart:j.spaceT("insetBlockStart"),bottom:j.spaceT("bottom"),insetBlockEnd:j.spaceT("insetBlockEnd"),left:j.spaceT("left"),insetInlineStart:j.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:j.spaceT("right"),insetInlineEnd:j.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(ac,{insetStart:ac.insetInlineStart,insetEnd:ac.insetInlineEnd});const yg={boxShadow:j.shadows("boxShadow"),mixBlendMode:!0,blendMode:j.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:j.prop("backgroundBlendMode"),opacity:!0};Object.assign(yg,{shadow:yg.boxShadow});const yt={margin:j.spaceT("margin"),marginTop:j.spaceT("marginTop"),marginBlockStart:j.spaceT("marginBlockStart"),marginRight:j.spaceT("marginRight"),marginInlineEnd:j.spaceT("marginInlineEnd"),marginBottom:j.spaceT("marginBottom"),marginBlockEnd:j.spaceT("marginBlockEnd"),marginLeft:j.spaceT("marginLeft"),marginInlineStart:j.spaceT("marginInlineStart"),marginX:j.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:j.spaceT("marginInline"),marginY:j.spaceT(["marginTop","marginBottom"]),marginBlock:j.spaceT("marginBlock"),padding:j.space("padding"),paddingTop:j.space("paddingTop"),paddingBlockStart:j.space("paddingBlockStart"),paddingRight:j.space("paddingRight"),paddingBottom:j.space("paddingBottom"),paddingBlockEnd:j.space("paddingBlockEnd"),paddingLeft:j.space("paddingLeft"),paddingInlineStart:j.space("paddingInlineStart"),paddingInlineEnd:j.space("paddingInlineEnd"),paddingX:j.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:j.space("paddingInline"),paddingY:j.space(["paddingTop","paddingBottom"]),paddingBlock:j.space("paddingBlock")};Object.assign(yt,{m:yt.margin,mt:yt.marginTop,mr:yt.marginRight,me:yt.marginInlineEnd,marginEnd:yt.marginInlineEnd,mb:yt.marginBottom,ml:yt.marginLeft,ms:yt.marginInlineStart,marginStart:yt.marginInlineStart,mx:yt.marginX,my:yt.marginY,p:yt.padding,pt:yt.paddingTop,py:yt.paddingY,px:yt.paddingX,pb:yt.paddingBottom,pl:yt.paddingLeft,ps:yt.paddingInlineStart,paddingStart:yt.paddingInlineStart,pr:yt.paddingRight,pe:yt.paddingInlineEnd,paddingEnd:yt.paddingInlineEnd});const f2={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:j.spaceT("scrollMargin"),scrollMarginTop:j.spaceT("scrollMarginTop"),scrollMarginBottom:j.spaceT("scrollMarginBottom"),scrollMarginLeft:j.spaceT("scrollMarginLeft"),scrollMarginRight:j.spaceT("scrollMarginRight"),scrollMarginX:j.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:j.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:j.spaceT("scrollPadding"),scrollPaddingTop:j.spaceT("scrollPaddingTop"),scrollPaddingBottom:j.spaceT("scrollPaddingBottom"),scrollPaddingLeft:j.spaceT("scrollPaddingLeft"),scrollPaddingRight:j.spaceT("scrollPaddingRight"),scrollPaddingX:j.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:j.spaceT(["scrollPaddingTop","scrollPaddingBottom"])},p2={fontFamily:j.prop("fontFamily","fonts"),fontSize:j.prop("fontSize","fontSizes",je.px),fontWeight:j.prop("fontWeight","fontWeights"),lineHeight:j.prop("lineHeight","lineHeights"),letterSpacing:j.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(n){if(n===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},m2={textDecorationColor:j.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:j.shadows("textShadow")},g2={clipPath:!0,transform:j.propT("transform",je.transform),transformOrigin:!0,translateX:j.spaceT("--chakra-translate-x"),translateY:j.spaceT("--chakra-translate-y"),skewX:j.degreeT("--chakra-skew-x"),skewY:j.degreeT("--chakra-skew-y"),scaleX:j.prop("--chakra-scale-x"),scaleY:j.prop("--chakra-scale-y"),scale:j.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:j.degreeT("--chakra-rotate")},y2={listStyleType:!0,listStylePosition:!0,listStylePos:j.prop("listStylePosition"),listStyleImage:!0,listStyleImg:j.prop("listStyleImage")},v2={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:j.prop("transitionDuration","transition.duration"),transitionProperty:j.prop("transitionProperty","transition.property"),transitionTimingFunction:j.prop("transitionTimingFunction","transition.easing")},Sy=gr({},qd,Ke,r2,vh,hr,i2,s2,o2,D1,h2,ac,yg,yt,f2,p2,m2,g2,y2,v2),b2=Object.assign({},yt,hr,vh,D1,ac),w2=Object.keys(b2),S2=[...Object.keys(Sy),...R1],x2={...Sy,...Bh},A2=n=>n in x2,C2=n=>e=>{if(!e.__breakpoints)return n;const{isResponsive:t,toArrayValue:r,media:i}=e.__breakpoints,s={};for(const a in n){let c=oi(n[a],e);if(c==null)continue;if(c=Tn(c)&&t(c)?r(c):c,!Array.isArray(c)){s[a]=c;continue}const u=c.slice(0,i.length).length;for(let d=0;d<u;d+=1){const f=i?.[d];if(!f){s[a]=c[d];continue}s[f]=s[f]||{},c[d]!=null&&(s[f][a]=c[d])}}return s};function k2(n){const e=[];let t="",r=!1;for(let i=0;i<n.length;i++){const s=n[i];s==="("?(r=!0,t+=s):s===")"?(r=!1,t+=s):s===","&&!r?(e.push(t),t=""):t+=s}return t=t.trim(),t&&e.push(t),e}function T2(n){return/^var\(--.+\)$/.test(n)}const E2=(n,e)=>n.startsWith("--")&&typeof e=="string"&&!T2(e),_2=(n,e)=>{if(e==null)return e;const t=a=>n.__cssMap?.[a]?.varRef,r=a=>t(a)??a,[i,s]=k2(e);return e=t(i)??r(s)??r(e),e};function P2(n){const{configs:e={},pseudos:t={},theme:r}=n,i=(s,a=!1)=>{const c=oi(s,r),u=C2(c)(r);let d={};for(let f in u){const p=u[f];let g=oi(p,r);f in t&&(f=t[f]),E2(f,g)&&(g=_2(r,g));let y=e[f];if(y===!0&&(y={property:f}),Tn(g)){d[f]=d[f]??{},d[f]=gr({},d[f],i(g,!0));continue}let w=y?.transform?.(g,r,c)??g;w=y?.processResult?i(w,!0):w;const b=oi(y?.property,r);if(!a&&y?.static){const x=oi(y.static,r);d=gr({},d,x)}if(b&&Array.isArray(b)){for(const x of b)d[x]=w;continue}if(b){b==="&"&&Tn(w)?d=gr({},d,w):d[b]=w;continue}if(Tn(w)){d=gr({},d,w);continue}d[f]=w}return d};return i}const I1=n=>e=>P2({theme:e,pseudos:Bh,configs:Sy})(n);function ft(n){return{definePartsStyle(e){return e},defineMultiStyleConfig(e){return{parts:n,...e}}}}function R2(n,e){if(Array.isArray(n))return n;if(Tn(n))return e(n);if(n!=null)return[n]}function M2(n,e){for(let t=e+1;t<n.length;t++)if(n[t]!=null)return t;return-1}function D2(n){const e=n.__breakpoints;return function(r,i,s,a){if(!e)return;const c={},u=R2(s,e.toArrayValue);if(!u)return c;const d=u.length,f=d===1,p=!!r.parts;for(let g=0;g<d;g++){const y=e.details[g],w=e.details[M2(u,g)],b=Xl(y.minW,w?._minW),x=oi(r[i]?.[u[g]],a);if(x){if(p){r.parts?.forEach(A=>{gr(c,{[A]:f?x[A]:{[b]:x[A]}})});continue}if(!p){f?gr(c,x):c[b]=x;continue}c[b]=x}}return c}}function I2(n){return e=>{const{variant:t,size:r,theme:i}=e,s=D2(i);return gr({},oi(n.baseStyle??{},e),s(n,"sizes",r,e),s(n,"variants",t,e))}}function vn(n){return _1(n,["styleConfig","size","variant","colorScheme"])}function L1(n){return Tn(n)&&n.reference?n.reference:String(n)}const jh=(n,...e)=>e.map(L1).join(` ${n} `).replace(/calc/g,""),Sw=(...n)=>`calc(${jh("+",...n)})`,xw=(...n)=>`calc(${jh("-",...n)})`,vg=(...n)=>`calc(${jh("*",...n)})`,Aw=(...n)=>`calc(${jh("/",...n)})`,Cw=n=>{const e=L1(n);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:vg(e,-1)},Ri=Object.assign(n=>({add:(...e)=>Ri(Sw(n,...e)),subtract:(...e)=>Ri(xw(n,...e)),multiply:(...e)=>Ri(vg(n,...e)),divide:(...e)=>Ri(Aw(n,...e)),negate:()=>Ri(Cw(n)),toString:()=>n.toString()}),{add:Sw,subtract:xw,multiply:vg,divide:Aw,negate:Cw});function L2(n,e="-"){return n.replace(/\s+/g,e)}function F2(n){const e=L2(n.toString());return O2(N2(e))}function N2(n){return n.includes("\\.")?n:!Number.isInteger(parseFloat(n.toString()))?n.replace(".","\\."):n}function O2(n){return n.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function B2(n,e=""){return[e,n].filter(Boolean).join("-")}function j2(n,e){return`var(${n}${e?`, ${e}`:""})`}function $2(n,e=""){return F2(`--${B2(n,e)}`)}function Te(n,e,t){const r=$2(n,t);return{variable:r,reference:j2(r,e)}}function z2(n,e){const t={};for(const r of e){if(Array.isArray(r)){const[i,s]=r;t[i]=Te(`${n}-${i}`,s);continue}t[r]=Te(`${n}-${r}`)}return t}const V2=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function U2(n){return RP(n,V2)}function H2(n){return n.semanticTokens}function W2(n){const{__cssMap:e,__cssVars:t,__breakpoints:r,...i}=n;return i}function G2(n){const e=U2(n),t=H2(n),r=s=>R1.includes(s)||s==="default",i={};return yw(e,(s,a)=>{s!=null&&(i[a.join(".")]={isSemantic:!1,value:s})}),yw(t,(s,a)=>{s!=null&&(i[a.join(".")]={isSemantic:!0,value:s})},{stop:s=>Object.keys(s).every(r)}),i}function kw(n,e){return Te(String(n).replace(/\./g,"-"),void 0,e)}function X2(n){const e=G2(n),t=n.config?.cssVarPrefix;let r={};const i={};function s(a,c){const d=[String(a).split(".")[0],c].join(".");if(!e[d])return c;const{reference:p}=kw(d,t);return p}for(const[a,c]of Object.entries(e)){const{isSemantic:u,value:d}=c,{variable:f,reference:p}=kw(a,t);if(!u){if(a.startsWith("space")){const y=a.split("."),[w,...b]=y,x=`${w}.-${b.join(".")}`,A=Ri.negate(d),T=Ri.negate(p);i[x]={value:A,var:f,varRef:T}}r[f]=d,i[a]={value:d,var:f,varRef:p};continue}const g=Tn(d)?d:{default:d};r=gr(r,Object.entries(g).reduce((y,[w,b])=>{if(!b)return y;const x=s(a,`${b}`);if(w==="default")return y[f]=x,y;const A=Bh?.[w]??w;return y[A]={[f]:x},y},{})),i[a]={value:p,var:f,varRef:p}}return{cssVars:r,cssMap:i}}function K2(n){const e=W2(n),{cssMap:t,cssVars:r}=X2(e);return Object.assign(e,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...r},__cssMap:t,__breakpoints:CP(e.breakpoints)}),e}function rt(n,e={}){let t=!1;function r(){if(!t){t=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function i(...f){r();for(const p of f)e[p]=u(p);return rt(n,e)}function s(...f){for(const p of f)p in e||(e[p]=u(p));return rt(n,e)}function a(){return Object.fromEntries(Object.entries(e).map(([p,g])=>[p,g.selector]))}function c(){return Object.fromEntries(Object.entries(e).map(([p,g])=>[p,g.className]))}function u(f){const y=`chakra-${(["container","root"].includes(f??"")?[n]:[n,f]).filter(Boolean).join("__")}`;return{className:y,selector:`.${y}`,toString:()=>f}}return{parts:i,toPart:u,extend:s,selectors:a,classnames:c,get keys(){return Object.keys(e)},__type:{}}}const Y2=rt("accordion").parts("root","container","button","panel","icon"),q2=rt("alert").parts("title","description","container","icon","spinner"),Q2=rt("avatar").parts("label","badge","container","excessLabel","group"),Z2=rt("breadcrumb").parts("link","item","container","separator");rt("button").parts();const J2=rt("checkbox").parts("control","icon","container","label");rt("progress").parts("track","filledTrack","label");const eR=rt("drawer").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),tR=rt("editable").parts("preview","input","textarea"),nR=rt("form").parts("container","requiredIndicator","helperText"),rR=rt("formError").parts("text","icon"),iR=rt("input").parts("addon","field","element","group"),sR=rt("list").parts("container","item","icon"),oR=rt("menu").parts("button","list","item","groupTitle","icon","command","divider"),aR=rt("modal").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),lR=rt("numberinput").parts("root","field","stepperGroup","stepper");rt("pininput").parts("field");const cR=rt("popover").parts("content","header","body","footer","popper","arrow","closeButton"),uR=rt("progress").parts("label","filledTrack","track"),dR=rt("radio").parts("container","control","label"),hR=rt("select").parts("field","icon"),fR=rt("slider").parts("container","track","thumb","filledTrack","mark"),pR=rt("stat").parts("container","label","helpText","number","icon"),mR=rt("switch").parts("container","track","thumb","label"),gR=rt("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),yR=rt("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),vR=rt("tag").parts("container","label","closeButton"),bR=rt("card").parts("container","header","body","footer");rt("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");const{definePartsStyle:wR,defineMultiStyleConfig:SR}=ft(Y2.keys),xR={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},AR={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},CR={pt:"2",px:"4",pb:"5"},kR={fontSize:"1.25em"},TR=wR({container:xR,button:AR,panel:CR,icon:kR}),ER=SR({baseStyle:TR});function Ys(n,e,t){return Math.min(Math.max(n,t),e)}class _R extends Error{constructor(e){super(`Failed to parse color: "${e}"`)}}var Yl=_R;function xy(n){if(typeof n!="string")throw new Yl(n);if(n.trim().toLowerCase()==="transparent")return[0,0,0,0];let e=n.trim();e=NR.test(n)?MR(n):n;const t=DR.exec(e);if(t){const a=Array.from(t).slice(1);return[...a.slice(0,3).map(c=>parseInt(Sc(c,2),16)),parseInt(Sc(a[3]||"f",2),16)/255]}const r=IR.exec(e);if(r){const a=Array.from(r).slice(1);return[...a.slice(0,3).map(c=>parseInt(c,16)),parseInt(a[3]||"ff",16)/255]}const i=LR.exec(e);if(i){const a=Array.from(i).slice(1);return[...a.slice(0,3).map(c=>parseInt(c,10)),parseFloat(a[3]||"1")]}const s=FR.exec(e);if(s){const[a,c,u,d]=Array.from(s).slice(1).map(parseFloat);if(Ys(0,100,c)!==c)throw new Yl(n);if(Ys(0,100,u)!==u)throw new Yl(n);return[...OR(a,c,u),Number.isNaN(d)?1:d]}throw new Yl(n)}function PR(n){let e=5381,t=n.length;for(;t;)e=e*33^n.charCodeAt(--t);return(e>>>0)%2341}const Tw=n=>parseInt(n.replace(/_/g,""),36),RR="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((n,e)=>{const t=Tw(e.substring(0,3)),r=Tw(e.substring(3)).toString(16);let i="";for(let s=0;s<6-r.length;s++)i+="0";return n[t]=`${i}${r}`,n},{});function MR(n){const e=n.toLowerCase().trim(),t=RR[PR(e)];if(!t)throw new Yl(n);return`#${t}`}const Sc=(n,e)=>Array.from(Array(e)).map(()=>n).join(""),DR=new RegExp(`^#${Sc("([a-f0-9])",3)}([a-f0-9])?$`,"i"),IR=new RegExp(`^#${Sc("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),LR=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${Sc(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),FR=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,NR=/^[a-z]+$/i,Ew=n=>Math.round(n*255),OR=(n,e,t)=>{let r=t/100;if(e===0)return[r,r,r].map(Ew);const i=(n%360+360)%360/60,s=(1-Math.abs(2*r-1))*(e/100),a=s*(1-Math.abs(i%2-1));let c=0,u=0,d=0;i>=0&&i<1?(c=s,u=a):i>=1&&i<2?(c=a,u=s):i>=2&&i<3?(u=s,d=a):i>=3&&i<4?(u=a,d=s):i>=4&&i<5?(c=a,d=s):i>=5&&i<6&&(c=s,d=a);const f=r-s/2,p=c+f,g=u+f,y=d+f;return[p,g,y].map(Ew)};function BR(n,e,t,r){return`rgba(${Ys(0,255,n).toFixed()}, ${Ys(0,255,e).toFixed()}, ${Ys(0,255,t).toFixed()}, ${parseFloat(Ys(0,1,r).toFixed(3))})`}function jR(n,e){const[t,r,i,s]=xy(n);return BR(t,r,i,s-e)}function $R(n){const[e,t,r,i]=xy(n);let s=a=>{const c=Ys(0,255,a).toString(16);return c.length===1?`0${c}`:c};return`#${s(e)}${s(t)}${s(r)}${i<1?s(Math.round(i*255)):""}`}const zR=n=>Object.keys(n).length===0;function VR(n,e,t,r,i){for(e=e.split?e.split("."):e,r=0;r<e.length;r++)n=n?n[e[r]]:i;return n===i?t:n}const xn=(n,e,t)=>{const r=VR(n,`colors.${e}`,e);try{return $R(r),r}catch{return"#000000"}},UR=n=>{const[e,t,r]=xy(n);return(e*299+t*587+r*114)/1e3},HR=n=>e=>{const t=xn(e,n);return UR(t)<128?"dark":"light"},WR=n=>e=>HR(n)(e)==="dark",Ra=(n,e)=>t=>{const r=xn(t,n);return jR(r,1-e)};function _w(n="1rem",e="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${e} 25%,
    transparent 25%,
    transparent 50%,
    ${e} 50%,
    ${e} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${n} ${n}`}}const GR=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function XR(n){const e=GR();return!n||zR(n)?e:n.string&&n.colors?YR(n.string,n.colors):n.string&&!n.colors?KR(n.string):n.colors&&!n.string?qR(n.colors):e}function KR(n){let e=0;if(n.length===0)return e.toString();for(let r=0;r<n.length;r+=1)e=n.charCodeAt(r)+((e<<5)-e),e=e&e;let t="#";for(let r=0;r<3;r+=1){const i=e>>r*8&255;t+=`00${i.toString(16)}`.substr(-2)}return t}function YR(n,e){let t=0;if(n.length===0)return e[0];for(let r=0;r<n.length;r+=1)t=n.charCodeAt(r)+((t<<5)-t),t=t&t;return t=(t%e.length+e.length)%e.length,e[t]}function qR(n){return n[Math.floor(Math.random()*n.length)]}function ke(n,e){return t=>t.colorMode==="dark"?e:n}function Ay(n){const{orientation:e,vertical:t,horizontal:r}=n;return e?e==="vertical"?t:r:{}}function F1(n){return Tn(n)&&n.reference?n.reference:String(n)}const $h=(n,...e)=>e.map(F1).join(` ${n} `).replace(/calc/g,""),Pw=(...n)=>`calc(${$h("+",...n)})`,Rw=(...n)=>`calc(${$h("-",...n)})`,bg=(...n)=>`calc(${$h("*",...n)})`,Mw=(...n)=>`calc(${$h("/",...n)})`,Dw=n=>{const e=F1(n);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:bg(e,-1)},Mi=Object.assign(n=>({add:(...e)=>Mi(Pw(n,...e)),subtract:(...e)=>Mi(Rw(n,...e)),multiply:(...e)=>Mi(bg(n,...e)),divide:(...e)=>Mi(Mw(n,...e)),negate:()=>Mi(Dw(n)),toString:()=>n.toString()}),{add:Pw,subtract:Rw,multiply:bg,divide:Mw,negate:Dw});function QR(n){return!Number.isInteger(parseFloat(n.toString()))}function ZR(n,e="-"){return n.replace(/\s+/g,e)}function N1(n){const e=ZR(n.toString());return e.includes("\\.")?n:QR(n)?e.replace(".","\\."):n}function JR(n,e=""){return[e,N1(n)].filter(Boolean).join("-")}function eM(n,e){return`var(${N1(n)}${e?`, ${e}`:""})`}function tM(n,e=""){return`--${JR(n,e)}`}function Xt(n,e){const t=tM(n,e?.prefix);return{variable:t,reference:eM(t,nM(e?.fallback))}}function nM(n){return n?.reference}const{definePartsStyle:zc,defineMultiStyleConfig:rM}=ft(q2.keys),Kn=Te("alert-fg"),$i=Te("alert-bg"),iM=zc({container:{bg:$i.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:Kn.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:Kn.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function Cy(n){const{theme:e,colorScheme:t}=n,r=Ra(`${t}.200`,.16)(e);return{light:`colors.${t}.100`,dark:r}}const sM=zc(n=>{const{colorScheme:e}=n,t=Cy(n);return{container:{[Kn.variable]:`colors.${e}.600`,[$i.variable]:t.light,_dark:{[Kn.variable]:`colors.${e}.200`,[$i.variable]:t.dark}}}}),oM=zc(n=>{const{colorScheme:e}=n,t=Cy(n);return{container:{[Kn.variable]:`colors.${e}.600`,[$i.variable]:t.light,_dark:{[Kn.variable]:`colors.${e}.200`,[$i.variable]:t.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:Kn.reference}}}),aM=zc(n=>{const{colorScheme:e}=n,t=Cy(n);return{container:{[Kn.variable]:`colors.${e}.600`,[$i.variable]:t.light,_dark:{[Kn.variable]:`colors.${e}.200`,[$i.variable]:t.dark},pt:"2",borderTopWidth:"4px",borderTopColor:Kn.reference}}}),lM=zc(n=>{const{colorScheme:e}=n;return{container:{[Kn.variable]:"colors.white",[$i.variable]:`colors.${e}.600`,_dark:{[Kn.variable]:"colors.gray.900",[$i.variable]:`colors.${e}.200`},color:Kn.reference}}}),cM={subtle:sM,"left-accent":oM,"top-accent":aM,solid:lM},uM=rM({baseStyle:iM,variants:cM,defaultProps:{variant:"subtle",colorScheme:"blue"}}),O1={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},dM={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},hM={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},B1={...O1,...dM,container:hM},fM=n=>typeof n=="function";function En(n,...e){return fM(n)?n(...e):n}const{definePartsStyle:j1,defineMultiStyleConfig:pM}=ft(Q2.keys),ba=Te("avatar-border-color"),lc=Te("avatar-bg"),xc=Te("avatar-font-size"),Ma=Te("avatar-size"),mM={borderRadius:"full",border:"0.2em solid",borderColor:ba.reference,[ba.variable]:"white",_dark:{[ba.variable]:"colors.gray.800"}},gM={bg:lc.reference,fontSize:xc.reference,width:Ma.reference,height:Ma.reference,lineHeight:"1",[lc.variable]:"colors.gray.200",_dark:{[lc.variable]:"colors.whiteAlpha.400"}},yM=n=>{const{name:e,theme:t}=n,r=e?XR({string:e}):"colors.gray.400",i=WR(r)(t);let s="white";return i||(s="gray.800"),{bg:lc.reference,fontSize:xc.reference,color:s,borderColor:ba.reference,verticalAlign:"top",width:Ma.reference,height:Ma.reference,"&:not([data-loaded])":{[lc.variable]:r},[ba.variable]:"colors.white",_dark:{[ba.variable]:"colors.gray.800"}}},vM={fontSize:xc.reference,lineHeight:"1"},bM=j1(n=>({badge:En(mM,n),excessLabel:En(gM,n),container:En(yM,n),label:vM}));function hs(n){const e=n!=="100%"?B1[n]:void 0;return j1({container:{[Ma.variable]:e??n,[xc.variable]:`calc(${e??n} / 2.5)`},excessLabel:{[Ma.variable]:e??n,[xc.variable]:`calc(${e??n} / 2.5)`}})}const wM={"2xs":hs(4),xs:hs(6),sm:hs(8),md:hs(12),lg:hs(16),xl:hs(24),"2xl":hs(32),full:hs("100%")},SM=pM({baseStyle:bM,sizes:wM,defaultProps:{size:"md"}}),Lt=z2("badge",["bg","color","shadow"]),xM={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:Lt.bg.reference,color:Lt.color.reference,boxShadow:Lt.shadow.reference},AM=n=>{const{colorScheme:e,theme:t}=n,r=Ra(`${e}.500`,.6)(t);return{[Lt.bg.variable]:`colors.${e}.500`,[Lt.color.variable]:"colors.white",_dark:{[Lt.bg.variable]:r,[Lt.color.variable]:"colors.whiteAlpha.800"}}},CM=n=>{const{colorScheme:e,theme:t}=n,r=Ra(`${e}.200`,.16)(t);return{[Lt.bg.variable]:`colors.${e}.100`,[Lt.color.variable]:`colors.${e}.800`,_dark:{[Lt.bg.variable]:r,[Lt.color.variable]:`colors.${e}.200`}}},kM=n=>{const{colorScheme:e,theme:t}=n,r=Ra(`${e}.200`,.8)(t);return{[Lt.color.variable]:`colors.${e}.500`,_dark:{[Lt.color.variable]:r},[Lt.shadow.variable]:`inset 0 0 0px 1px ${Lt.color.reference}`}},TM={solid:AM,subtle:CM,outline:kM},cc={baseStyle:xM,variants:TM,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:EM,definePartsStyle:_M}=ft(Z2.keys),cm=Te("breadcrumb-link-decor"),PM={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:cm.reference,[cm.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[cm.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},RM=_M({link:PM}),MM=EM({baseStyle:RM}),DM={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},$1=n=>{const{colorScheme:e,theme:t}=n;if(e==="gray")return{color:ke("gray.800","whiteAlpha.900")(n),_hover:{bg:ke("gray.100","whiteAlpha.200")(n)},_active:{bg:ke("gray.200","whiteAlpha.300")(n)}};const r=Ra(`${e}.200`,.12)(t),i=Ra(`${e}.200`,.24)(t);return{color:ke(`${e}.600`,`${e}.200`)(n),bg:"transparent",_hover:{bg:ke(`${e}.50`,r)(n)},_active:{bg:ke(`${e}.100`,i)(n)}}},IM=n=>{const{colorScheme:e}=n,t=ke("gray.200","whiteAlpha.300")(n);return{border:"1px solid",borderColor:e==="gray"?t:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...En($1,n)}},LM={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},FM=n=>{const{colorScheme:e}=n;if(e==="gray"){const c=ke("gray.100","whiteAlpha.200")(n);return{bg:c,color:ke("gray.800","whiteAlpha.900")(n),_hover:{bg:ke("gray.200","whiteAlpha.300")(n),_disabled:{bg:c}},_active:{bg:ke("gray.300","whiteAlpha.400")(n)}}}const{bg:t=`${e}.500`,color:r="white",hoverBg:i=`${e}.600`,activeBg:s=`${e}.700`}=LM[e]??{},a=ke(t,`${e}.200`)(n);return{bg:a,color:ke(r,"gray.800")(n),_hover:{bg:ke(i,`${e}.300`)(n),_disabled:{bg:a}},_active:{bg:ke(s,`${e}.400`)(n)}}},NM=n=>{const{colorScheme:e}=n;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:ke(`${e}.500`,`${e}.200`)(n),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:ke(`${e}.700`,`${e}.500`)(n)}}},OM={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},BM={ghost:$1,outline:IM,solid:FM,link:NM,unstyled:OM},jM={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},$M={baseStyle:DM,variants:BM,sizes:jM,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:io,defineMultiStyleConfig:zM}=ft(bR.keys),bh=Te("card-bg"),Oi=Te("card-padding"),z1=Te("card-shadow"),Qd=Te("card-radius"),V1=Te("card-border-width","0"),U1=Te("card-border-color"),VM=io({container:{[bh.variable]:"colors.chakra-body-bg",backgroundColor:bh.reference,boxShadow:z1.reference,borderRadius:Qd.reference,color:"chakra-body-text",borderWidth:V1.reference,borderColor:U1.reference},body:{padding:Oi.reference,flex:"1 1 0%"},header:{padding:Oi.reference},footer:{padding:Oi.reference}}),UM={sm:io({container:{[Qd.variable]:"radii.base",[Oi.variable]:"space.3"}}),md:io({container:{[Qd.variable]:"radii.md",[Oi.variable]:"space.5"}}),lg:io({container:{[Qd.variable]:"radii.xl",[Oi.variable]:"space.7"}})},HM={elevated:io({container:{[z1.variable]:"shadows.base",_dark:{[bh.variable]:"colors.gray.700"}}}),outline:io({container:{[V1.variable]:"1px",[U1.variable]:"colors.chakra-border-color"}}),filled:io({container:{[bh.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[Oi.variable]:0},header:{[Oi.variable]:0},footer:{[Oi.variable]:0}}},WM=zM({baseStyle:VM,variants:HM,sizes:UM,defaultProps:{variant:"elevated",size:"md"}}),{definePartsStyle:Zd,defineMultiStyleConfig:GM}=ft(J2.keys),uc=Te("checkbox-size"),XM=n=>{const{colorScheme:e}=n;return{w:uc.reference,h:uc.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:ke(`${e}.500`,`${e}.200`)(n),borderColor:ke(`${e}.500`,`${e}.200`)(n),color:ke("white","gray.900")(n),_hover:{bg:ke(`${e}.600`,`${e}.300`)(n),borderColor:ke(`${e}.600`,`${e}.300`)(n)},_disabled:{borderColor:ke("gray.200","transparent")(n),bg:ke("gray.200","whiteAlpha.300")(n),color:ke("gray.500","whiteAlpha.500")(n)}},_indeterminate:{bg:ke(`${e}.500`,`${e}.200`)(n),borderColor:ke(`${e}.500`,`${e}.200`)(n),color:ke("white","gray.900")(n)},_disabled:{bg:ke("gray.100","whiteAlpha.100")(n),borderColor:ke("gray.100","transparent")(n)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:ke("red.500","red.300")(n)}}},KM={_disabled:{cursor:"not-allowed"}},YM={userSelect:"none",_disabled:{opacity:.4}},qM={transitionProperty:"transform",transitionDuration:"normal"},QM=Zd(n=>({icon:qM,container:KM,control:En(XM,n),label:YM})),ZM={sm:Zd({control:{[uc.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:Zd({control:{[uc.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:Zd({control:{[uc.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},wh=GM({baseStyle:QM,sizes:ZM,defaultProps:{size:"md",colorScheme:"blue"}}),dc=Xt("close-button-size"),Nl=Xt("close-button-bg"),JM={w:[dc.reference],h:[dc.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[Nl.variable]:"colors.blackAlpha.100",_dark:{[Nl.variable]:"colors.whiteAlpha.100"}},_active:{[Nl.variable]:"colors.blackAlpha.200",_dark:{[Nl.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:Nl.reference},eD={lg:{[dc.variable]:"sizes.10",fontSize:"md"},md:{[dc.variable]:"sizes.8",fontSize:"xs"},sm:{[dc.variable]:"sizes.6",fontSize:"2xs"}},tD={baseStyle:JM,sizes:eD,defaultProps:{size:"md"}},{variants:nD,defaultProps:rD}=cc,iD={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:Lt.bg.reference,color:Lt.color.reference,boxShadow:Lt.shadow.reference},sD={baseStyle:iD,variants:nD,defaultProps:rD},oD={w:"100%",mx:"auto",maxW:"prose",px:"4"},aD={baseStyle:oD},lD={opacity:.6,borderColor:"inherit"},cD={borderStyle:"solid"},uD={borderStyle:"dashed"},dD={solid:cD,dashed:uD},hD={baseStyle:lD,variants:dD,defaultProps:{variant:"solid"}},{definePartsStyle:wg,defineMultiStyleConfig:fD}=ft(eR.keys),um=Te("drawer-bg"),dm=Te("drawer-box-shadow");function Qo(n){return wg(n==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:n}})}const pD={bg:"blackAlpha.600",zIndex:"modal"},mD={display:"flex",zIndex:"modal",justifyContent:"center"},gD=n=>{const{isFullHeight:e}=n;return{...e&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[um.variable]:"colors.white",[dm.variable]:"shadows.lg",_dark:{[um.variable]:"colors.gray.700",[dm.variable]:"shadows.dark-lg"},bg:um.reference,boxShadow:dm.reference}},yD={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},vD={position:"absolute",top:"2",insetEnd:"3"},bD={px:"6",py:"2",flex:"1",overflow:"auto"},wD={px:"6",py:"4"},SD=wg(n=>({overlay:pD,dialogContainer:mD,dialog:En(gD,n),header:yD,closeButton:vD,body:bD,footer:wD})),xD={xs:Qo("xs"),sm:Qo("md"),md:Qo("lg"),lg:Qo("2xl"),xl:Qo("4xl"),full:Qo("full")},AD=fD({baseStyle:SD,sizes:xD,defaultProps:{size:"xs"}}),{definePartsStyle:CD,defineMultiStyleConfig:kD}=ft(tR.keys),TD={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},ED={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},_D={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},PD=CD({preview:TD,input:ED,textarea:_D}),RD=kD({baseStyle:PD}),{definePartsStyle:MD,defineMultiStyleConfig:DD}=ft(nR.keys),wa=Te("form-control-color"),ID={marginStart:"1",[wa.variable]:"colors.red.500",_dark:{[wa.variable]:"colors.red.300"},color:wa.reference},LD={mt:"2",[wa.variable]:"colors.gray.600",_dark:{[wa.variable]:"colors.whiteAlpha.600"},color:wa.reference,lineHeight:"normal",fontSize:"sm"},FD=MD({container:{width:"100%",position:"relative"},requiredIndicator:ID,helperText:LD}),ND=DD({baseStyle:FD}),{definePartsStyle:OD,defineMultiStyleConfig:BD}=ft(rR.keys),Sa=Te("form-error-color"),jD={[Sa.variable]:"colors.red.500",_dark:{[Sa.variable]:"colors.red.300"},color:Sa.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},$D={marginEnd:"0.5em",[Sa.variable]:"colors.red.500",_dark:{[Sa.variable]:"colors.red.300"},color:Sa.reference},zD=OD({text:jD,icon:$D}),VD=BD({baseStyle:zD}),UD={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},HD={baseStyle:UD},WD={fontFamily:"heading",fontWeight:"bold"},GD={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},XD={baseStyle:WD,sizes:GD,defaultProps:{size:"xl"}},{definePartsStyle:Li,defineMultiStyleConfig:KD}=ft(iR.keys),oa=Te("input-height"),aa=Te("input-font-size"),la=Te("input-padding"),ca=Te("input-border-radius"),YD=Li({addon:{height:oa.reference,fontSize:aa.reference,px:la.reference,borderRadius:ca.reference},field:{width:"100%",height:oa.reference,fontSize:aa.reference,px:la.reference,borderRadius:ca.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),fs={lg:{[aa.variable]:"fontSizes.lg",[la.variable]:"space.4",[ca.variable]:"radii.md",[oa.variable]:"sizes.12"},md:{[aa.variable]:"fontSizes.md",[la.variable]:"space.4",[ca.variable]:"radii.md",[oa.variable]:"sizes.10"},sm:{[aa.variable]:"fontSizes.sm",[la.variable]:"space.3",[ca.variable]:"radii.sm",[oa.variable]:"sizes.8"},xs:{[aa.variable]:"fontSizes.xs",[la.variable]:"space.2",[ca.variable]:"radii.sm",[oa.variable]:"sizes.6"}},qD={lg:Li({field:fs.lg,group:fs.lg}),md:Li({field:fs.md,group:fs.md}),sm:Li({field:fs.sm,group:fs.sm}),xs:Li({field:fs.xs,group:fs.xs})};function ky(n){const{focusBorderColor:e,errorBorderColor:t}=n;return{focusBorderColor:e||ke("blue.500","blue.300")(n),errorBorderColor:t||ke("red.500","red.300")(n)}}const QD=Li(n=>{const{theme:e}=n,{focusBorderColor:t,errorBorderColor:r}=ky(n);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:ke("gray.300","whiteAlpha.400")(n)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:xn(e,r),boxShadow:`0 0 0 1px ${xn(e,r)}`},_focusVisible:{zIndex:1,borderColor:xn(e,t),boxShadow:`0 0 0 1px ${xn(e,t)}`}},addon:{border:"1px solid",borderColor:ke("inherit","whiteAlpha.50")(n),bg:ke("gray.100","whiteAlpha.300")(n)}}}),ZD=Li(n=>{const{theme:e}=n,{focusBorderColor:t,errorBorderColor:r}=ky(n);return{field:{border:"2px solid",borderColor:"transparent",bg:ke("gray.100","whiteAlpha.50")(n),_hover:{bg:ke("gray.200","whiteAlpha.100")(n)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:xn(e,r)},_focusVisible:{bg:"transparent",borderColor:xn(e,t)}},addon:{border:"2px solid",borderColor:"transparent",bg:ke("gray.100","whiteAlpha.50")(n)}}}),JD=Li(n=>{const{theme:e}=n,{focusBorderColor:t,errorBorderColor:r}=ky(n);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:xn(e,r),boxShadow:`0px 1px 0px 0px ${xn(e,r)}`},_focusVisible:{borderColor:xn(e,t),boxShadow:`0px 1px 0px 0px ${xn(e,t)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),eI=Li({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),tI={outline:QD,filled:ZD,flushed:JD,unstyled:eI},tt=KD({baseStyle:YD,sizes:qD,variants:tI,defaultProps:{size:"md",variant:"outline"}}),hm=Te("kbd-bg"),nI={[hm.variable]:"colors.gray.100",_dark:{[hm.variable]:"colors.whiteAlpha.100"},bg:hm.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},rI={baseStyle:nI},iI={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},sI={baseStyle:iI},{defineMultiStyleConfig:oI,definePartsStyle:aI}=ft(sR.keys),lI={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},cI=aI({icon:lI}),uI=oI({baseStyle:cI}),{defineMultiStyleConfig:dI,definePartsStyle:hI}=ft(oR.keys),ni=Te("menu-bg"),fm=Te("menu-shadow"),fI={[ni.variable]:"#fff",[fm.variable]:"shadows.sm",_dark:{[ni.variable]:"colors.gray.700",[fm.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:"dropdown",borderRadius:"md",borderWidth:"1px",bg:ni.reference,boxShadow:fm.reference},pI={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[ni.variable]:"colors.gray.100",_dark:{[ni.variable]:"colors.whiteAlpha.100"}},_active:{[ni.variable]:"colors.gray.200",_dark:{[ni.variable]:"colors.whiteAlpha.200"}},_expanded:{[ni.variable]:"colors.gray.100",_dark:{[ni.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:ni.reference},mI={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},gI={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},yI={opacity:.6},vI={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},bI={transitionProperty:"common",transitionDuration:"normal"},wI=hI({button:bI,list:fI,item:pI,groupTitle:mI,icon:gI,command:yI,divider:vI}),SI=dI({baseStyle:wI}),{defineMultiStyleConfig:xI,definePartsStyle:Sg}=ft(aR.keys),pm=Te("modal-bg"),mm=Te("modal-shadow"),AI={bg:"blackAlpha.600",zIndex:"modal"},CI=n=>{const{isCentered:e,scrollBehavior:t}=n;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:e?"center":"flex-start",overflow:t==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},kI=n=>{const{isCentered:e,scrollBehavior:t}=n;return{borderRadius:"md",color:"inherit",my:e?"auto":"16",mx:e?"auto":void 0,zIndex:"modal",maxH:t==="inside"?"calc(100% - 7.5rem)":void 0,[pm.variable]:"colors.white",[mm.variable]:"shadows.lg",_dark:{[pm.variable]:"colors.gray.700",[mm.variable]:"shadows.dark-lg"},bg:pm.reference,boxShadow:mm.reference}},TI={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},EI={position:"absolute",top:"2",insetEnd:"3"},_I=n=>{const{scrollBehavior:e}=n;return{px:"6",py:"2",flex:"1",overflow:e==="inside"?"auto":void 0}},PI={px:"6",py:"4"},RI=Sg(n=>({overlay:AI,dialogContainer:En(CI,n),dialog:En(kI,n),header:TI,closeButton:EI,body:En(_I,n),footer:PI}));function Mr(n){return Sg(n==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:n}})}const MI={xs:Mr("xs"),sm:Mr("sm"),md:Mr("md"),lg:Mr("lg"),xl:Mr("xl"),"2xl":Mr("2xl"),"3xl":Mr("3xl"),"4xl":Mr("4xl"),"5xl":Mr("5xl"),"6xl":Mr("6xl"),full:Mr("full")},DI=xI({baseStyle:RI,sizes:MI,defaultProps:{size:"md"}}),H1={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},{defineMultiStyleConfig:II,definePartsStyle:W1}=ft(lR.keys),Ty=Xt("number-input-stepper-width"),G1=Xt("number-input-input-padding"),LI=Mi(Ty).add("0.5rem").toString(),gm=Xt("number-input-bg"),ym=Xt("number-input-color"),vm=Xt("number-input-border-color"),FI={[Ty.variable]:"sizes.6",[G1.variable]:LI},NI=n=>En(tt.baseStyle,n)?.field??{},OI={width:Ty.reference},BI={borderStart:"1px solid",borderStartColor:vm.reference,color:ym.reference,bg:gm.reference,[ym.variable]:"colors.chakra-body-text",[vm.variable]:"colors.chakra-border-color",_dark:{[ym.variable]:"colors.whiteAlpha.800",[vm.variable]:"colors.whiteAlpha.300"},_active:{[gm.variable]:"colors.gray.200",_dark:{[gm.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},jI=W1(n=>({root:FI,field:En(NI,n)??{},stepperGroup:OI,stepper:BI}));function Sd(n){const e=tt.sizes?.[n],t={lg:"md",md:"md",sm:"sm",xs:"sm"},r=e.field?.fontSize??"md",i=H1.fontSizes[r];return W1({field:{...e.field,paddingInlineEnd:G1.reference,verticalAlign:"top"},stepper:{fontSize:Mi(i).multiply(.75).toString(),_first:{borderTopEndRadius:t[n]},_last:{borderBottomEndRadius:t[n],mt:"-1px",borderTopWidth:1}}})}const $I={xs:Sd("xs"),sm:Sd("sm"),md:Sd("md"),lg:Sd("lg")},zI=II({baseStyle:jI,sizes:$I,variants:tt.variants,defaultProps:tt.defaultProps}),VI={...tt.baseStyle?.field,textAlign:"center"},UI={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},HI={outline:n=>En(tt.variants?.outline,n)?.field??{},flushed:n=>En(tt.variants?.flushed,n)?.field??{},filled:n=>En(tt.variants?.filled,n)?.field??{},unstyled:tt.variants?.unstyled.field??{}},WI={baseStyle:VI,sizes:UI,variants:HI,defaultProps:tt.defaultProps},{defineMultiStyleConfig:GI,definePartsStyle:XI}=ft(cR.keys),xd=Xt("popper-bg"),KI=Xt("popper-arrow-bg"),Iw=Xt("popper-arrow-shadow-color"),YI={zIndex:"popover"},qI={[xd.variable]:"colors.white",bg:xd.reference,[KI.variable]:xd.reference,[Iw.variable]:"colors.gray.200",_dark:{[xd.variable]:"colors.gray.700",[Iw.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},QI={px:3,py:2,borderBottomWidth:"1px"},ZI={px:3,py:2},JI={px:3,py:2,borderTopWidth:"1px"},eL={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},tL=XI({popper:YI,content:qI,header:QI,body:ZI,footer:JI,closeButton:eL}),nL=GI({baseStyle:tL}),{defineMultiStyleConfig:rL,definePartsStyle:ql}=ft(uR.keys),iL=n=>{const{colorScheme:e,theme:t,isIndeterminate:r,hasStripe:i}=n,s=ke(_w(),_w("1rem","rgba(0,0,0,0.1)"))(n),a=ke(`${e}.500`,`${e}.200`)(n),c=`linear-gradient(
    to right,
    transparent 0%,
    ${xn(t,a)} 50%,
    transparent 100%
  )`;return{...!r&&i&&s,...r?{bgImage:c}:{bgColor:a}}},sL={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},oL=n=>({bg:ke("gray.100","whiteAlpha.300")(n)}),aL=n=>({transitionProperty:"common",transitionDuration:"slow",...iL(n)}),lL=ql(n=>({label:sL,filledTrack:aL(n),track:oL(n)})),cL={xs:ql({track:{h:"1"}}),sm:ql({track:{h:"2"}}),md:ql({track:{h:"3"}}),lg:ql({track:{h:"4"}})},uL=rL({sizes:cL,baseStyle:lL,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:dL,definePartsStyle:Jd}=ft(dR.keys),hL=n=>{const e=En(wh.baseStyle,n)?.control;return{...e,borderRadius:"full",_checked:{...e?._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},fL=Jd(n=>({label:wh.baseStyle?.(n).label,container:wh.baseStyle?.(n).container,control:hL(n)})),pL={md:Jd({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:Jd({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:Jd({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},mL=dL({baseStyle:fL,sizes:pL,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:gL,definePartsStyle:yL}=ft(hR.keys),Ad=Te("select-bg"),vL={...tt.baseStyle?.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:Ad.reference,[Ad.variable]:"colors.white",_dark:{[Ad.variable]:"colors.gray.700"},"> option, > optgroup":{bg:Ad.reference}},bL={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},wL=yL({field:vL,icon:bL}),Cd={paddingInlineEnd:"8"},SL={lg:{...tt.sizes?.lg,field:{...tt.sizes?.lg.field,...Cd}},md:{...tt.sizes?.md,field:{...tt.sizes?.md.field,...Cd}},sm:{...tt.sizes?.sm,field:{...tt.sizes?.sm.field,...Cd}},xs:{...tt.sizes?.xs,field:{...tt.sizes?.xs.field,...Cd},icon:{insetEnd:"1"}}},xL=gL({baseStyle:wL,sizes:SL,variants:tt.variants,defaultProps:tt.defaultProps}),bm=Te("skeleton-start-color"),wm=Te("skeleton-end-color"),AL={[bm.variable]:"colors.gray.100",[wm.variable]:"colors.gray.400",_dark:{[bm.variable]:"colors.gray.800",[wm.variable]:"colors.gray.600"},background:bm.reference,borderColor:wm.reference,opacity:.7,borderRadius:"sm"},CL={baseStyle:AL},Sm=Te("skip-link-bg"),kL={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[Sm.variable]:"colors.white",_dark:{[Sm.variable]:"colors.gray.700"},bg:Sm.reference}},TL={baseStyle:kL},{defineMultiStyleConfig:EL,definePartsStyle:zh}=ft(fR.keys),lo=Te("slider-thumb-size"),Ac=Te("slider-track-size"),ms=Te("slider-bg"),_L=n=>{const{orientation:e}=n;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...Ay({orientation:e,vertical:{h:"100%",px:Ri(lo.reference).divide(2).toString()},horizontal:{w:"100%",py:Ri(lo.reference).divide(2).toString()}})}},PL=n=>({...Ay({orientation:n.orientation,horizontal:{h:Ac.reference},vertical:{w:Ac.reference}}),overflow:"hidden",borderRadius:"sm",[ms.variable]:"colors.gray.200",_dark:{[ms.variable]:"colors.whiteAlpha.200"},_disabled:{[ms.variable]:"colors.gray.300",_dark:{[ms.variable]:"colors.whiteAlpha.300"}},bg:ms.reference}),RL=n=>{const{orientation:e}=n;return{...Ay({orientation:e,vertical:{left:"50%"},horizontal:{top:"50%"}}),w:lo.reference,h:lo.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_active:{"--slider-thumb-scale":"1.15"},_disabled:{bg:"gray.300"}}},ML=n=>{const{colorScheme:e}=n;return{width:"inherit",height:"inherit",[ms.variable]:`colors.${e}.500`,_dark:{[ms.variable]:`colors.${e}.200`},bg:ms.reference}},DL=zh(n=>({container:_L(n),track:PL(n),thumb:RL(n),filledTrack:ML(n)})),IL=zh({container:{[lo.variable]:"sizes.4",[Ac.variable]:"sizes.1"}}),LL=zh({container:{[lo.variable]:"sizes.3.5",[Ac.variable]:"sizes.1"}}),FL=zh({container:{[lo.variable]:"sizes.2.5",[Ac.variable]:"sizes.0.5"}}),NL={lg:IL,md:LL,sm:FL},OL=EL({baseStyle:DL,sizes:NL,defaultProps:{size:"md",colorScheme:"blue"}}),Ks=Xt("spinner-size"),BL={width:[Ks.reference],height:[Ks.reference]},jL={xs:{[Ks.variable]:"sizes.3"},sm:{[Ks.variable]:"sizes.4"},md:{[Ks.variable]:"sizes.6"},lg:{[Ks.variable]:"sizes.8"},xl:{[Ks.variable]:"sizes.12"}},$L={baseStyle:BL,sizes:jL,defaultProps:{size:"md"}},{defineMultiStyleConfig:zL,definePartsStyle:X1}=ft(pR.keys),VL={fontWeight:"medium"},UL={opacity:.8,marginBottom:"2"},HL={verticalAlign:"baseline",fontWeight:"semibold"},WL={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},GL=X1({container:{},label:VL,helpText:UL,number:HL,icon:WL}),XL={md:X1({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},KL=zL({baseStyle:GL,sizes:XL,defaultProps:{size:"md"}}),{defineMultiStyleConfig:YL,definePartsStyle:Ql}=ft(["stepper","step","title","description","indicator","separator","icon","number"]),Di=Te("stepper-indicator-size"),ua=Te("stepper-icon-size"),da=Te("stepper-title-font-size"),Zl=Te("stepper-description-font-size"),Ol=Te("stepper-accent-color"),qL=Ql(({colorScheme:n})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[Ol.variable]:`colors.${n}.500`,_dark:{[Ol.variable]:`colors.${n}.200`}},title:{fontSize:da.reference,fontWeight:"medium"},description:{fontSize:Zl.reference,color:"chakra-subtle-text"},number:{fontSize:da.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:ua.reference,height:ua.reference},indicator:{flexShrink:0,borderRadius:"full",width:Di.reference,height:Di.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:Ol.reference},"&[data-status=complete]":{bg:Ol.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:Ol.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${Di.reference} - 8px)`,top:`calc(${Di.reference} + 4px)`,insetStart:`calc(${Di.reference} / 2 - 1px)`}}})),QL=YL({baseStyle:qL,sizes:{xs:Ql({stepper:{[Di.variable]:"sizes.4",[ua.variable]:"sizes.3",[da.variable]:"fontSizes.xs",[Zl.variable]:"fontSizes.xs"}}),sm:Ql({stepper:{[Di.variable]:"sizes.6",[ua.variable]:"sizes.4",[da.variable]:"fontSizes.sm",[Zl.variable]:"fontSizes.xs"}}),md:Ql({stepper:{[Di.variable]:"sizes.8",[ua.variable]:"sizes.5",[da.variable]:"fontSizes.md",[Zl.variable]:"fontSizes.sm"}}),lg:Ql({stepper:{[Di.variable]:"sizes.10",[ua.variable]:"sizes.6",[da.variable]:"fontSizes.lg",[Zl.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:ZL,definePartsStyle:eh}=ft(mR.keys),hc=Xt("switch-track-width"),so=Xt("switch-track-height"),xm=Xt("switch-track-diff"),JL=Mi.subtract(hc,so),xg=Xt("switch-thumb-x"),Bl=Xt("switch-bg"),eF=n=>{const{colorScheme:e}=n;return{borderRadius:"full",p:"0.5",width:[hc.reference],height:[so.reference],transitionProperty:"common",transitionDuration:"fast",[Bl.variable]:"colors.gray.300",_dark:{[Bl.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[Bl.variable]:`colors.${e}.500`,_dark:{[Bl.variable]:`colors.${e}.200`}},bg:Bl.reference}},tF={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[so.reference],height:[so.reference],_checked:{transform:`translateX(${xg.reference})`}},nF=eh(n=>({container:{[xm.variable]:JL,[xg.variable]:xm.reference,_rtl:{[xg.variable]:Mi(xm).negate().toString()}},track:eF(n),thumb:tF})),rF={sm:eh({container:{[hc.variable]:"1.375rem",[so.variable]:"sizes.3"}}),md:eh({container:{[hc.variable]:"1.875rem",[so.variable]:"sizes.4"}}),lg:eh({container:{[hc.variable]:"2.875rem",[so.variable]:"sizes.6"}})},iF=ZL({baseStyle:nF,sizes:rF,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:sF,definePartsStyle:xa}=ft(gR.keys),oF=xa({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),Sh={"&[data-is-numeric=true]":{textAlign:"end"}},aF=xa(n=>{const{colorScheme:e}=n;return{th:{color:ke("gray.600","gray.400")(n),borderBottom:"1px",borderColor:ke(`${e}.100`,`${e}.700`)(n),...Sh},td:{borderBottom:"1px",borderColor:ke(`${e}.100`,`${e}.700`)(n),...Sh},caption:{color:ke("gray.600","gray.100")(n)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),lF=xa(n=>{const{colorScheme:e}=n;return{th:{color:ke("gray.600","gray.400")(n),borderBottom:"1px",borderColor:ke(`${e}.100`,`${e}.700`)(n),...Sh},td:{borderBottom:"1px",borderColor:ke(`${e}.100`,`${e}.700`)(n),...Sh},caption:{color:ke("gray.600","gray.100")(n)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:ke(`${e}.100`,`${e}.700`)(n)},td:{background:ke(`${e}.100`,`${e}.700`)(n)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),cF={simple:aF,striped:lF,unstyled:{}},uF={sm:xa({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:xa({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:xa({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},dF=sF({baseStyle:oF,variants:cF,sizes:uF,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),Bn=Te("tabs-color"),Nr=Te("tabs-bg"),kd=Te("tabs-border-color"),{defineMultiStyleConfig:hF,definePartsStyle:ai}=ft(yR.keys),fF=n=>{const{orientation:e}=n;return{display:e==="vertical"?"flex":"block"}},pF=n=>{const{isFitted:e}=n;return{flex:e?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},mF=n=>{const{align:e="start",orientation:t}=n;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[e],flexDirection:t==="vertical"?"column":"row"}},gF={p:4},yF=ai(n=>({root:fF(n),tab:pF(n),tablist:mF(n),tabpanel:gF})),vF={sm:ai({tab:{py:1,px:4,fontSize:"sm"}}),md:ai({tab:{fontSize:"md",py:2,px:4}}),lg:ai({tab:{fontSize:"lg",py:3,px:4}})},bF=ai(n=>{const{colorScheme:e,orientation:t}=n,r=t==="vertical",i=r?"borderStart":"borderBottom",s=r?"marginStart":"marginBottom";return{tablist:{[i]:"2px solid",borderColor:"inherit"},tab:{[i]:"2px solid",borderColor:"transparent",[s]:"-2px",_selected:{[Bn.variable]:`colors.${e}.600`,_dark:{[Bn.variable]:`colors.${e}.300`},borderColor:"currentColor"},_active:{[Nr.variable]:"colors.gray.200",_dark:{[Nr.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:Bn.reference,bg:Nr.reference}}}),wF=ai(n=>{const{colorScheme:e}=n;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[kd.variable]:"transparent",_selected:{[Bn.variable]:`colors.${e}.600`,[kd.variable]:"colors.white",_dark:{[Bn.variable]:`colors.${e}.300`,[kd.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:kd.reference},color:Bn.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),SF=ai(n=>{const{colorScheme:e}=n;return{tab:{border:"1px solid",borderColor:"inherit",[Nr.variable]:"colors.gray.50",_dark:{[Nr.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[Nr.variable]:"colors.white",[Bn.variable]:`colors.${e}.600`,_dark:{[Nr.variable]:"colors.gray.800",[Bn.variable]:`colors.${e}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:Bn.reference,bg:Nr.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),xF=ai(n=>{const{colorScheme:e,theme:t}=n;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:xn(t,`${e}.700`),bg:xn(t,`${e}.100`)}}}}),AF=ai(n=>{const{colorScheme:e}=n;return{tab:{borderRadius:"full",fontWeight:"semibold",[Bn.variable]:"colors.gray.600",_dark:{[Bn.variable]:"inherit"},_selected:{[Bn.variable]:"colors.white",[Nr.variable]:`colors.${e}.600`,_dark:{[Bn.variable]:"colors.gray.800",[Nr.variable]:`colors.${e}.300`}},color:Bn.reference,bg:Nr.reference}}}),CF=ai({}),kF={line:bF,enclosed:wF,"enclosed-colored":SF,"soft-rounded":xF,"solid-rounded":AF,unstyled:CF},TF=hF({baseStyle:yF,sizes:vF,variants:kF,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),{defineMultiStyleConfig:EF,definePartsStyle:oo}=ft(vR.keys),Lw=Te("tag-bg"),Fw=Te("tag-color"),Am=Te("tag-shadow"),th=Te("tag-min-height"),nh=Te("tag-min-width"),rh=Te("tag-font-size"),ih=Te("tag-padding-inline"),_F={fontWeight:"medium",lineHeight:1.2,outline:0,[Fw.variable]:Lt.color.reference,[Lw.variable]:Lt.bg.reference,[Am.variable]:Lt.shadow.reference,color:Fw.reference,bg:Lw.reference,boxShadow:Am.reference,borderRadius:"md",minH:th.reference,minW:nh.reference,fontSize:rh.reference,px:ih.reference,_focusVisible:{[Am.variable]:"shadows.outline"}},PF={lineHeight:1.2,overflow:"visible"},RF={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},MF=oo({container:_F,label:PF,closeButton:RF}),DF={sm:oo({container:{[th.variable]:"sizes.5",[nh.variable]:"sizes.5",[rh.variable]:"fontSizes.xs",[ih.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:oo({container:{[th.variable]:"sizes.6",[nh.variable]:"sizes.6",[rh.variable]:"fontSizes.sm",[ih.variable]:"space.2"}}),lg:oo({container:{[th.variable]:"sizes.8",[nh.variable]:"sizes.8",[rh.variable]:"fontSizes.md",[ih.variable]:"space.3"}})},IF={subtle:oo(n=>({container:cc.variants?.subtle(n)})),solid:oo(n=>({container:cc.variants?.solid(n)})),outline:oo(n=>({container:cc.variants?.outline(n)}))},LF=EF({variants:IF,baseStyle:MF,sizes:DF,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),FF={...tt.baseStyle?.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},NF={outline:n=>tt.variants?.outline(n).field??{},flushed:n=>tt.variants?.flushed(n).field??{},filled:n=>tt.variants?.filled(n).field??{},unstyled:tt.variants?.unstyled.field??{}},OF={xs:tt.sizes?.xs.field??{},sm:tt.sizes?.sm.field??{},md:tt.sizes?.md.field??{},lg:tt.sizes?.lg.field??{}},BF={baseStyle:FF,sizes:OF,variants:NF,defaultProps:{size:"md",variant:"outline"}},Td=Xt("tooltip-bg"),Cm=Xt("tooltip-fg"),jF=Xt("popper-arrow-bg"),$F={bg:Td.reference,color:Cm.reference,[Td.variable]:"colors.gray.700",[Cm.variable]:"colors.whiteAlpha.900",_dark:{[Td.variable]:"colors.gray.300",[Cm.variable]:"colors.gray.900"},[jF.variable]:Td.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},zF={baseStyle:$F},VF={Accordion:ER,Alert:uM,Avatar:SM,Badge:cc,Breadcrumb:MM,Button:$M,Checkbox:wh,CloseButton:tD,Code:sD,Container:aD,Divider:hD,Drawer:AD,Editable:RD,Form:ND,FormError:VD,FormLabel:HD,Heading:XD,Input:tt,Kbd:rI,Link:sI,List:uI,Menu:SI,Modal:DI,NumberInput:zI,PinInput:WI,Popover:nL,Progress:uL,Radio:mL,Select:xL,Skeleton:CL,SkipLink:TL,Slider:OL,Spinner:$L,Stat:KL,Switch:iF,Table:dF,Tabs:TF,Tag:LF,Textarea:BF,Tooltip:zF,Card:WM,Stepper:QL},UF={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},HF={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},WF={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"}},GF={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},XF={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},KF={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},YF={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},qF={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},QF={property:KF,easing:YF,duration:qF},ZF={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},JF={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},eN={breakpoints:HF,zIndices:ZF,radii:GF,blur:JF,colors:WF,...H1,sizes:B1,shadows:XF,space:O1,borders:UF,transition:QF},tN={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},nN={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},rN=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function iN(n){return Tn(n)?rN.every(e=>Object.prototype.hasOwnProperty.call(n,e)):!1}const sN="ltr",oN={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},K1={semanticTokens:tN,direction:sN,...eN,components:VF,styles:nN,config:oN};function aN(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function lN(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var cN=(function(){function n(t){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(lN(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=aN(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n})(),mn="-ms-",xh="-moz-",Ye="-webkit-",Y1="comm",Ey="rule",_y="decl",uN="@import",q1="@keyframes",dN="@layer",hN=Math.abs,Vh=String.fromCharCode,fN=Object.assign;function pN(n,e){return an(n,0)^45?(((e<<2^an(n,0))<<2^an(n,1))<<2^an(n,2))<<2^an(n,3):0}function Q1(n){return n.trim()}function mN(n,e){return(n=e.exec(n))?n[0]:n}function Ze(n,e,t){return n.replace(e,t)}function Ag(n,e){return n.indexOf(e)}function an(n,e){return n.charCodeAt(e)|0}function Cc(n,e,t){return n.slice(e,t)}function ii(n){return n.length}function Py(n){return n.length}function Ed(n,e){return e.push(n),n}function gN(n,e){return n.map(e).join("")}var Uh=1,Da=1,Z1=0,$n=0,jt=0,ja="";function Hh(n,e,t,r,i,s,a){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:Uh,column:Da,length:a,return:""}}function jl(n,e){return fN(Hh("",null,null,"",null,null,0),n,{length:-n.length},e)}function yN(){return jt}function vN(){return jt=$n>0?an(ja,--$n):0,Da--,jt===10&&(Da=1,Uh--),jt}function Yn(){return jt=$n<Z1?an(ja,$n++):0,Da++,jt===10&&(Da=1,Uh++),jt}function li(){return an(ja,$n)}function sh(){return $n}function Vc(n,e){return Cc(ja,n,e)}function kc(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function J1(n){return Uh=Da=1,Z1=ii(ja=n),$n=0,[]}function eA(n){return ja="",n}function oh(n){return Q1(Vc($n-1,Cg(n===91?n+2:n===40?n+1:n)))}function bN(n){for(;(jt=li())&&jt<33;)Yn();return kc(n)>2||kc(jt)>3?"":" "}function wN(n,e){for(;--e&&Yn()&&!(jt<48||jt>102||jt>57&&jt<65||jt>70&&jt<97););return Vc(n,sh()+(e<6&&li()==32&&Yn()==32))}function Cg(n){for(;Yn();)switch(jt){case n:return $n;case 34:case 39:n!==34&&n!==39&&Cg(jt);break;case 40:n===41&&Cg(n);break;case 92:Yn();break}return $n}function SN(n,e){for(;Yn()&&n+jt!==57;)if(n+jt===84&&li()===47)break;return"/*"+Vc(e,$n-1)+"*"+Vh(n===47?n:Yn())}function xN(n){for(;!kc(li());)Yn();return Vc(n,$n)}function AN(n){return eA(ah("",null,null,null,[""],n=J1(n),0,[0],n))}function ah(n,e,t,r,i,s,a,c,u){for(var d=0,f=0,p=a,g=0,y=0,w=0,b=1,x=1,A=1,T=0,k="",R=i,P=s,M=r,L=k;x;)switch(w=T,T=Yn()){case 40:if(w!=108&&an(L,p-1)==58){Ag(L+=Ze(oh(T),"&","&\f"),"&\f")!=-1&&(A=-1);break}case 34:case 39:case 91:L+=oh(T);break;case 9:case 10:case 13:case 32:L+=bN(w);break;case 92:L+=wN(sh()-1,7);continue;case 47:switch(li()){case 42:case 47:Ed(CN(SN(Yn(),sh()),e,t),u);break;default:L+="/"}break;case 123*b:c[d++]=ii(L)*A;case 125*b:case 59:case 0:switch(T){case 0:case 125:x=0;case 59+f:A==-1&&(L=Ze(L,/\f/g,"")),y>0&&ii(L)-p&&Ed(y>32?Ow(L+";",r,t,p-1):Ow(Ze(L," ","")+";",r,t,p-2),u);break;case 59:L+=";";default:if(Ed(M=Nw(L,e,t,d,f,i,c,k,R=[],P=[],p),s),T===123)if(f===0)ah(L,e,M,M,R,s,p,c,P);else switch(g===99&&an(L,3)===110?100:g){case 100:case 108:case 109:case 115:ah(n,M,M,r&&Ed(Nw(n,M,M,0,0,i,c,k,i,R=[],p),P),i,P,p,c,r?R:P);break;default:ah(L,M,M,M,[""],P,0,c,P)}}d=f=y=0,b=A=1,k=L="",p=a;break;case 58:p=1+ii(L),y=w;default:if(b<1){if(T==123)--b;else if(T==125&&b++==0&&vN()==125)continue}switch(L+=Vh(T),T*b){case 38:A=f>0?1:(L+="\f",-1);break;case 44:c[d++]=(ii(L)-1)*A,A=1;break;case 64:li()===45&&(L+=oh(Yn())),g=li(),f=p=ii(k=L+=xN(sh())),T++;break;case 45:w===45&&ii(L)==2&&(b=0)}}return s}function Nw(n,e,t,r,i,s,a,c,u,d,f){for(var p=i-1,g=i===0?s:[""],y=Py(g),w=0,b=0,x=0;w<r;++w)for(var A=0,T=Cc(n,p+1,p=hN(b=a[w])),k=n;A<y;++A)(k=Q1(b>0?g[A]+" "+T:Ze(T,/&\f/g,g[A])))&&(u[x++]=k);return Hh(n,e,t,i===0?Ey:c,u,d,f)}function CN(n,e,t){return Hh(n,e,t,Y1,Vh(yN()),Cc(n,2,-2),0)}function Ow(n,e,t,r){return Hh(n,e,t,_y,Cc(n,0,r),Cc(n,r+1,-1),r)}function Aa(n,e){for(var t="",r=Py(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function kN(n,e,t,r){switch(n.type){case dN:if(n.children.length)break;case uN:case _y:return n.return=n.return||n.value;case Y1:return"";case q1:return n.return=n.value+"{"+Aa(n.children,r)+"}";case Ey:n.value=n.props.join(",")}return ii(t=Aa(n.children,r))?n.return=n.value+"{"+t+"}":""}function TN(n){var e=Py(n);return function(t,r,i,s){for(var a="",c=0;c<e;c++)a+=n[c](t,r,i,s)||"";return a}}function EN(n){return function(e){e.root||(e=e.return)&&n(e)}}var Bw=function(e){var t=new WeakMap;return function(r){if(t.has(r))return t.get(r);var i=e(r);return t.set(r,i),i}};function tA(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var _N=function(e,t,r){for(var i=0,s=0;i=s,s=li(),i===38&&s===12&&(t[r]=1),!kc(s);)Yn();return Vc(e,$n)},PN=function(e,t){var r=-1,i=44;do switch(kc(i)){case 0:i===38&&li()===12&&(t[r]=1),e[r]+=_N($n-1,t,r);break;case 2:e[r]+=oh(i);break;case 4:if(i===44){e[++r]=li()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=Vh(i)}while(i=Yn());return e},RN=function(e,t){return eA(PN(J1(e),t))},jw=new WeakMap,MN=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!jw.get(r))&&!i){jw.set(e,!0);for(var s=[],a=RN(t,s),c=r.props,u=0,d=0;u<a.length;u++)for(var f=0;f<c.length;f++,d++)e.props[d]=s[u]?a[u].replace(/&\f/g,c[f]):c[f]+" "+a[u]}}},DN=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function nA(n,e){switch(pN(n,e)){case 5103:return Ye+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ye+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Ye+n+xh+n+mn+n+n;case 6828:case 4268:return Ye+n+mn+n+n;case 6165:return Ye+n+mn+"flex-"+n+n;case 5187:return Ye+n+Ze(n,/(\w+).+(:[^]+)/,Ye+"box-$1$2"+mn+"flex-$1$2")+n;case 5443:return Ye+n+mn+"flex-item-"+Ze(n,/flex-|-self/,"")+n;case 4675:return Ye+n+mn+"flex-line-pack"+Ze(n,/align-content|flex-|-self/,"")+n;case 5548:return Ye+n+mn+Ze(n,"shrink","negative")+n;case 5292:return Ye+n+mn+Ze(n,"basis","preferred-size")+n;case 6060:return Ye+"box-"+Ze(n,"-grow","")+Ye+n+mn+Ze(n,"grow","positive")+n;case 4554:return Ye+Ze(n,/([^-])(transform)/g,"$1"+Ye+"$2")+n;case 6187:return Ze(Ze(Ze(n,/(zoom-|grab)/,Ye+"$1"),/(image-set)/,Ye+"$1"),n,"")+n;case 5495:case 3959:return Ze(n,/(image-set\([^]*)/,Ye+"$1$`$1");case 4968:return Ze(Ze(n,/(.+:)(flex-)?(.*)/,Ye+"box-pack:$3"+mn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ye+n+n;case 4095:case 3583:case 4068:case 2532:return Ze(n,/(.+)-inline(.+)/,Ye+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ii(n)-1-e>6)switch(an(n,e+1)){case 109:if(an(n,e+4)!==45)break;case 102:return Ze(n,/(.+:)(.+)-([^]+)/,"$1"+Ye+"$2-$3$1"+xh+(an(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~Ag(n,"stretch")?nA(Ze(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(an(n,e+1)!==115)break;case 6444:switch(an(n,ii(n)-3-(~Ag(n,"!important")&&10))){case 107:return Ze(n,":",":"+Ye)+n;case 101:return Ze(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ye+(an(n,14)===45?"inline-":"")+"box$3$1"+Ye+"$2$3$1"+mn+"$2box$3")+n}break;case 5936:switch(an(n,e+11)){case 114:return Ye+n+mn+Ze(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Ye+n+mn+Ze(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Ye+n+mn+Ze(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Ye+n+mn+n+n}return n}var IN=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case _y:e.return=nA(e.value,e.length);break;case q1:return Aa([jl(e,{value:Ze(e.value,"@","@"+Ye)})],i);case Ey:if(e.length)return gN(e.props,function(s){switch(mN(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Aa([jl(e,{props:[Ze(s,/:(read-\w+)/,":"+xh+"$1")]})],i);case"::placeholder":return Aa([jl(e,{props:[Ze(s,/:(plac\w+)/,":"+Ye+"input-$1")]}),jl(e,{props:[Ze(s,/:(plac\w+)/,":"+xh+"$1")]}),jl(e,{props:[Ze(s,/:(plac\w+)/,mn+"input-$1")]})],i)}return""})}},LN=[IN],FN=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(b){var x=b.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var i=e.stylisPlugins||LN,s={},a,c=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(b){for(var x=b.getAttribute("data-emotion").split(" "),A=1;A<x.length;A++)s[x[A]]=!0;c.push(b)});var u,d=[MN,DN];{var f,p=[kN,EN(function(b){f.insert(b)})],g=TN(d.concat(i,p)),y=function(x){return Aa(AN(x),g)};u=function(x,A,T,k){f=T,y(x?x+"{"+A.styles+"}":A.styles),k&&(w.inserted[A.name]=!0)}}var w={key:t,sheet:new cN({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:u};return w.sheet.hydrate(c),w};function Ah(){return Ah=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ah.apply(null,arguments)}var km={exports:{}},it={};var $w;function NN(){if($w)return it;$w=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,a=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,g=n?Symbol.for("react.suspense_list"):60120,y=n?Symbol.for("react.memo"):60115,w=n?Symbol.for("react.lazy"):60116,b=n?Symbol.for("react.block"):60121,x=n?Symbol.for("react.fundamental"):60117,A=n?Symbol.for("react.responder"):60118,T=n?Symbol.for("react.scope"):60119;function k(P){if(typeof P=="object"&&P!==null){var M=P.$$typeof;switch(M){case e:switch(P=P.type,P){case u:case d:case r:case s:case i:case p:return P;default:switch(P=P&&P.$$typeof,P){case c:case f:case w:case y:case a:return P;default:return M}}case t:return M}}}function R(P){return k(P)===d}return it.AsyncMode=u,it.ConcurrentMode=d,it.ContextConsumer=c,it.ContextProvider=a,it.Element=e,it.ForwardRef=f,it.Fragment=r,it.Lazy=w,it.Memo=y,it.Portal=t,it.Profiler=s,it.StrictMode=i,it.Suspense=p,it.isAsyncMode=function(P){return R(P)||k(P)===u},it.isConcurrentMode=R,it.isContextConsumer=function(P){return k(P)===c},it.isContextProvider=function(P){return k(P)===a},it.isElement=function(P){return typeof P=="object"&&P!==null&&P.$$typeof===e},it.isForwardRef=function(P){return k(P)===f},it.isFragment=function(P){return k(P)===r},it.isLazy=function(P){return k(P)===w},it.isMemo=function(P){return k(P)===y},it.isPortal=function(P){return k(P)===t},it.isProfiler=function(P){return k(P)===s},it.isStrictMode=function(P){return k(P)===i},it.isSuspense=function(P){return k(P)===p},it.isValidElementType=function(P){return typeof P=="string"||typeof P=="function"||P===r||P===d||P===s||P===i||P===p||P===g||typeof P=="object"&&P!==null&&(P.$$typeof===w||P.$$typeof===y||P.$$typeof===a||P.$$typeof===c||P.$$typeof===f||P.$$typeof===x||P.$$typeof===A||P.$$typeof===T||P.$$typeof===b)},it.typeOf=k,it}var zw;function ON(){return zw||(zw=1,km.exports=NN()),km.exports}var Tm,Vw;function BN(){if(Vw)return Tm;Vw=1;var n=ON(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[n.ForwardRef]=r,s[n.Memo]=i;function a(w){return n.isMemo(w)?i:s[w.$$typeof]||e}var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,g=Object.prototype;function y(w,b,x){if(typeof b!="string"){if(g){var A=p(b);A&&A!==g&&y(w,A,x)}var T=u(b);d&&(T=T.concat(d(b)));for(var k=a(w),R=a(b),P=0;P<T.length;++P){var M=T[P];if(!t[M]&&!(x&&x[M])&&!(R&&R[M])&&!(k&&k[M])){var L=f(b,M);try{c(w,M,L)}catch{}}}}return w}return Tm=y,Tm}BN();var jN=!0;function rA(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var Ry=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||jN===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},My=function(e,t,r){Ry(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function $N(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var zN={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},VN=/[A-Z]|^ms/g,UN=/_EMO_([^_]+?)_([^]*?)_EMO_/g,iA=function(e){return e.charCodeAt(1)===45},Uw=function(e){return e!=null&&typeof e!="boolean"},Em=tA(function(n){return iA(n)?n:n.replace(VN,"-$&").toLowerCase()}),Hw=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(UN,function(r,i,s){return si={name:i,styles:s,next:si},i})}return zN[e]!==1&&!iA(e)&&typeof t=="number"&&t!==0?t+"px":t};function Tc(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return si={name:i.name,styles:i.styles,next:si},i.name;var s=t;if(s.styles!==void 0){var a=s.next;if(a!==void 0)for(;a!==void 0;)si={name:a.name,styles:a.styles,next:si},a=a.next;var c=s.styles+";";return c}return HN(n,e,t)}case"function":{if(n!==void 0){var u=si,d=t(n);return si=u,Tc(n,e,d)}break}}var f=t;if(e==null)return f;var p=e[f];return p!==void 0?p:f}function HN(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=Tc(n,e,t[i])+";";else for(var s in t){var a=t[s];if(typeof a!="object"){var c=a;e!=null&&e[c]!==void 0?r+=s+"{"+e[c]+"}":Uw(c)&&(r+=Em(s)+":"+Hw(s,c)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var u=0;u<a.length;u++)Uw(a[u])&&(r+=Em(s)+":"+Hw(s,a[u])+";");else{var d=Tc(n,e,a);switch(s){case"animation":case"animationName":{r+=Em(s)+":"+d+";";break}default:r+=s+"{"+d+"}"}}}return r}var Ww=/label:\s*([^\s;{]+)\s*(;|$)/g,si;function Wh(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";si=void 0;var s=n[0];if(s==null||s.raw===void 0)r=!1,i+=Tc(t,e,s);else{var a=s;i+=a[0]}for(var c=1;c<n.length;c++)if(i+=Tc(t,e,n[c]),r){var u=s;i+=u[c]}Ww.lastIndex=0;for(var d="",f;(f=Ww.exec(i))!==null;)d+="-"+f[1];var p=$N(i)+d;return{name:p,styles:i,next:si}}var WN=function(e){return e()},sA=rw.useInsertionEffect?rw.useInsertionEffect:!1,oA=sA||WN,Gw=sA||E.useLayoutEffect,Dy=E.createContext(typeof HTMLElement<"u"?FN({key:"css"}):null);Dy.Provider;var GN=function(){return E.useContext(Dy)},Iy=function(e){return E.forwardRef(function(t,r){var i=E.useContext(Dy);return e(t,i,r)})},Ia=E.createContext({}),XN=function(e,t){if(typeof t=="function"){var r=t(e);return r}return Ah({},e,t)},KN=Bw(function(n){return Bw(function(e){return XN(n,e)})}),YN=function(e){var t=E.useContext(Ia);return e.theme!==t&&(t=KN(t)(e.theme)),E.createElement(Ia.Provider,{value:t},e.children)},Ly={}.hasOwnProperty,kg="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",qN=function(e,t){var r={};for(var i in t)Ly.call(t,i)&&(r[i]=t[i]);return r[kg]=e,r},QN=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return Ry(t,r,i),oA(function(){return My(t,r,i)}),null},ZN=Iy(function(n,e,t){var r=n.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=n[kg],s=[r],a="";typeof n.className=="string"?a=rA(e.registered,s,n.className):n.className!=null&&(a=n.className+" ");var c=Wh(s,void 0,E.useContext(Ia));a+=e.key+"-"+c.name;var u={};for(var d in n)Ly.call(n,d)&&d!=="css"&&d!==kg&&(u[d]=n[d]);return u.className=a,t&&(u.ref=t),E.createElement(E.Fragment,null,E.createElement(QN,{cache:e,serialized:c,isStringTag:typeof i=="string"}),E.createElement(i,u))}),JN=ZN,Xw=function(e,t){var r=arguments;if(t==null||!Ly.call(t,"css"))return E.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=JN,s[1]=qN(e,t);for(var a=2;a<i;a++)s[a]=r[a];return E.createElement.apply(null,s)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(Xw||(Xw={}));var Gh=Iy(function(n,e){var t=n.styles,r=Wh([t],void 0,E.useContext(Ia)),i=E.useRef();return Gw(function(){var s=e.key+"-global",a=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),c=!1,u=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(a.before=e.sheet.tags[0]),u!==null&&(c=!0,u.setAttribute("data-emotion",s),a.hydrate([u])),i.current=[a,c],function(){a.flush()}},[e]),Gw(function(){var s=i.current,a=s[0],c=s[1];if(c){s[1]=!1;return}if(r.next!==void 0&&My(e,r.next,!0),a.tags.length){var u=a.tags[a.tags.length-1].nextElementSibling;a.before=u,a.flush()}e.insert("",r,a,!1)},[e,r.name]),null});function eO(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Wh(e)}function tO(){var n=eO.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}const Fy=E.createContext({});Fy.displayName="ColorModeContext";function Ny(){const n=E.useContext(Fy);if(n===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return n}const _d={light:"chakra-ui-light",dark:"chakra-ui-dark"};function nO(n={}){const{preventTransition:e=!0,nonce:t}=n,r={setDataset:i=>{const s=e?r.preventTransition():void 0;document.documentElement.dataset.theme=i,document.documentElement.style.colorScheme=i,s?.()},setClassName(i){document.body.classList.add(i?_d.dark:_d.light),document.body.classList.remove(i?_d.light:_d.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(i){return r.query().matches??i==="dark"?"dark":"light"},addListener(i){const s=r.query(),a=c=>{i(c.matches?"dark":"light")};return typeof s.addListener=="function"?s.addListener(a):s.addEventListener("change",a),()=>{typeof s.removeListener=="function"?s.removeListener(a):s.removeEventListener("change",a)}},preventTransition(){const i=document.createElement("style");return i.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),t!==void 0&&(i.nonce=t),document.head.appendChild(i),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(i)})})}}};return r}const rO="chakra-ui-color-mode";function iO(n){return{ssr:!1,type:"localStorage",get(e){if(!globalThis?.document)return e;let t;try{t=localStorage.getItem(n)||e}catch{}return t||e},set(e){try{localStorage.setItem(n,e)}catch{}}}}const sO=iO(rO),Kw=()=>{},oO=bP()?E.useLayoutEffect:E.useEffect;function Yw(n,e){return n.type==="cookie"&&n.ssr?n.get(e):e}const aA=function(e){const{value:t,children:r,options:{useSystemColorMode:i,initialColorMode:s,disableTransitionOnChange:a}={},colorModeManager:c=sO}=e,u=GN(),d=s==="dark"?"dark":"light",[f,p]=E.useState(()=>Yw(c,d)),[g,y]=E.useState(()=>Yw(c)),{getSystemTheme:w,setClassName:b,setDataset:x,addListener:A}=E.useMemo(()=>nO({preventTransition:a,nonce:u?.nonce}),[a,u?.nonce]),T=s==="system"&&!f?g:f,k=E.useCallback(M=>{const L=M==="system"?w():M;p(L),b(L==="dark"),x(L),c.set(L)},[c,w,b,x]);oO(()=>{s==="system"&&y(w())},[]),E.useEffect(()=>{const M=c.get();if(M){k(M);return}if(s==="system"){k("system");return}k(d)},[c,d,s,k]);const R=E.useCallback(()=>{k(T==="dark"?"light":"dark")},[T,k]);E.useEffect(()=>{if(i)return A(k)},[i,A,k]);const P=E.useMemo(()=>({colorMode:t??T,toggleColorMode:t?Kw:R,setColorMode:t?Kw:k,forced:t!==void 0}),[T,R,k,t]);return C.jsx(Fy.Provider,{value:P,children:r})};aA.displayName="ColorModeProvider";const lA=String.raw,cA=lA`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,aO=()=>C.jsx(Gh,{styles:cA}),lO=({scope:n=""})=>C.jsx(Gh,{styles:lA`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${n} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${n} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${n} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${n} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${n} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${n} :where(b, strong) {
        font-weight: bold;
      }

      ${n} small {
        font-size: 80%;
      }

      ${n} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${n} sub {
        bottom: -0.25em;
      }

      ${n} sup {
        top: -0.5em;
      }

      ${n} img {
        border-style: none;
      }

      ${n} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${n} :where(button, input) {
        overflow: visible;
      }

      ${n} :where(button, select) {
        text-transform: none;
      }

      ${n} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${n} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${n} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${n} progress {
        vertical-align: baseline;
      }

      ${n} textarea {
        overflow: auto;
      }

      ${n} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${n} input[type="number"]::-webkit-inner-spin-button,
      ${n} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${n} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${n} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${n} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${n} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${n} details {
        display: block;
      }

      ${n} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${n} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${n} button {
        background: transparent;
        padding: 0;
      }

      ${n} fieldset {
        margin: 0;
        padding: 0;
      }

      ${n} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${n} textarea {
        resize: vertical;
      }

      ${n} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${n} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${n} table {
        border-collapse: collapse;
      }

      ${n} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${n} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${n} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${n} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${n} select::-ms-expand {
        display: none;
      }

      ${cA}
    `});function cO(n){const{cssVarsRoot:e,theme:t,children:r}=n,i=E.useMemo(()=>K2(t),[t]);return C.jsxs(YN,{theme:i,children:[C.jsx(uO,{root:e}),r]})}function uO({root:n=":host, :root"}){const e=[n,"[data-theme]"].join(",");return C.jsx(Gh,{styles:t=>({[e]:t.__cssVars})})}yn({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function dO(n){return yn({name:`${n}StylesContext`,errorMessage:`useStyles: "styles" is undefined. Seems you forgot to wrap the components in "<${n} />" `})}function hO(){const{colorMode:n}=Ny();return C.jsx(Gh,{styles:e=>{const t=E1(e,"styles.global"),r=oi(t,{theme:e,colorMode:n});return r?I1(r)(e):void 0}})}const[fO,pO]=yn({strict:!1,name:"PortalManagerContext"});function uA(n){const{children:e,zIndex:t}=n;return C.jsx(fO,{value:{zIndex:t},children:e})}uA.displayName="PortalManager";const dA=E.createContext({getDocument(){return document},getWindow(){return window}});dA.displayName="EnvironmentContext";function hA(n){const{children:e,environment:t,disabled:r}=n,i=E.useRef(null),s=E.useMemo(()=>t||{getDocument:()=>i.current?.ownerDocument??document,getWindow:()=>i.current?.ownerDocument.defaultView??window},[t]),a=!r||!t;return C.jsxs(dA.Provider,{value:s,children:[e,a&&C.jsx("span",{id:"__chakra_env",hidden:!0,ref:i})]})}hA.displayName="EnvironmentProvider";const mO=n=>{const{children:e,colorModeManager:t,portalZIndex:r,resetScope:i,resetCSS:s=!0,theme:a={},environment:c,cssVarsRoot:u,disableEnvironment:d,disableGlobalStyle:f}=n,p=C.jsx(hA,{environment:c,disabled:d,children:e});return C.jsx(cO,{theme:a,cssVarsRoot:u,children:C.jsxs(aA,{colorModeManager:t,options:a.config,children:[s?C.jsx(lO,{scope:i}):C.jsx(aO,{}),!f&&C.jsx(hO,{}),r?C.jsx(uA,{zIndex:r,children:p}):p]})})},Oy=E.createContext({});function By(n){const e=E.useRef(null);return e.current===null&&(e.current=n()),e.current}const fA=typeof window<"u",pA=fA?E.useLayoutEffect:E.useEffect,Uc=E.createContext(null);function jy(n,e){n.indexOf(e)===-1&&n.push(e)}function $y(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const di=(n,e,t)=>t>e?e:t<n?n:t;let zy=()=>{};const zi={},mA=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function gA(n){return typeof n=="object"&&n!==null}const yA=n=>/^0[^.\s]+$/u.test(n);function Vy(n){let e;return()=>(e===void 0&&(e=n()),e)}const vr=n=>n,gO=(n,e)=>t=>e(n(t)),Hc=(...n)=>n.reduce(gO),Ec=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class Uy{constructor(){this.subscriptions=[]}add(e){return jy(this.subscriptions,e),()=>$y(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Bi=n=>n*1e3,yr=n=>n/1e3;function vA(n,e){return e?n*(1e3/e):0}const bA=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,yO=1e-7,vO=12;function bO(n,e,t,r,i){let s,a,c=0;do a=e+(t-e)/2,s=bA(a,r,i)-n,s>0?t=a:e=a;while(Math.abs(s)>yO&&++c<vO);return a}function Wc(n,e,t,r){if(n===e&&t===r)return vr;const i=s=>bO(s,0,1,n,t);return s=>s===0||s===1?s:bA(i(s),e,r)}const wA=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,SA=n=>e=>1-n(1-e),xA=Wc(.33,1.53,.69,.99),Hy=SA(xA),AA=wA(Hy),CA=n=>(n*=2)<1?.5*Hy(n):.5*(2-Math.pow(2,-10*(n-1))),Wy=n=>1-Math.sin(Math.acos(n)),kA=SA(Wy),TA=wA(Wy),wO=Wc(.42,0,1,1),SO=Wc(0,0,.58,1),EA=Wc(.42,0,.58,1),xO=n=>Array.isArray(n)&&typeof n[0]!="number",_A=n=>Array.isArray(n)&&typeof n[0]=="number",AO={linear:vr,easeIn:wO,easeInOut:EA,easeOut:SO,circIn:Wy,circInOut:TA,circOut:kA,backIn:Hy,backInOut:AA,backOut:xA,anticipate:CA},CO=n=>typeof n=="string",qw=n=>{if(_A(n)){zy(n.length===4);const[e,t,r,i]=n;return Wc(e,t,r,i)}else if(CO(n))return AO[n];return n},Pd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function kO(n,e){let t=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function u(f){a.has(f)&&(d.schedule(f),n()),f(c)}const d={schedule:(f,p=!1,g=!1)=>{const w=g&&i?t:r;return p&&a.add(f),w.has(f)||w.add(f),f},cancel:f=>{r.delete(f),a.delete(f)},process:f=>{if(c=f,i){s=!0;return}i=!0,[t,r]=[r,t],t.forEach(u),t.clear(),i=!1,s&&(s=!1,d.process(f))}};return d}const TO=40;function PA(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,a=Pd.reduce((k,R)=>(k[R]=kO(s),k),{}),{setup:c,read:u,resolveKeyframes:d,preUpdate:f,update:p,preRender:g,render:y,postRender:w}=a,b=()=>{const k=zi.useManualTiming?i.timestamp:performance.now();t=!1,zi.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(k-i.timestamp,TO),1)),i.timestamp=k,i.isProcessing=!0,c.process(i),u.process(i),d.process(i),f.process(i),p.process(i),g.process(i),y.process(i),w.process(i),i.isProcessing=!1,t&&e&&(r=!1,n(b))},x=()=>{t=!0,r=!0,i.isProcessing||n(b)};return{schedule:Pd.reduce((k,R)=>{const P=a[R];return k[R]=(M,L=!1,F=!1)=>(t||x(),P.schedule(M,L,F)),k},{}),cancel:k=>{for(let R=0;R<Pd.length;R++)a[Pd[R]].cancel(k)},state:i,steps:a}}const{schedule:ht,cancel:ws,state:rn,steps:_m}=PA(typeof requestAnimationFrame<"u"?requestAnimationFrame:vr,!0);let lh;function EO(){lh=void 0}const An={now:()=>(lh===void 0&&An.set(rn.isProcessing||zi.useManualTiming?rn.timestamp:performance.now()),lh),set:n=>{lh=n,queueMicrotask(EO)}},RA=n=>e=>typeof e=="string"&&e.startsWith(n),MA=RA("--"),_O=RA("var(--"),Gy=n=>_O(n)?PO.test(n.split("/*")[0].trim()):!1,PO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Qw(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const $a={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},_c={...$a,transform:n=>di(0,1,n)},Rd={...$a,default:1},fc=n=>Math.round(n*1e5)/1e5,Xy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function RO(n){return n==null}const MO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ky=(n,e)=>t=>!!(typeof t=="string"&&MO.test(t)&&t.startsWith(n)||e&&!RO(t)&&Object.prototype.hasOwnProperty.call(t,e)),DA=(n,e,t)=>r=>{if(typeof r!="string")return r;const[i,s,a,c]=r.match(Xy);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(a),alpha:c!==void 0?parseFloat(c):1}},DO=n=>di(0,255,n),Pm={...$a,transform:n=>Math.round(DO(n))},qs={test:Ky("rgb","red"),parse:DA("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Pm.transform(n)+", "+Pm.transform(e)+", "+Pm.transform(t)+", "+fc(_c.transform(r))+")"};function IO(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Tg={test:Ky("#"),parse:IO,transform:qs.transform},Gc=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),ps=Gc("deg"),ci=Gc("%"),fe=Gc("px"),LO=Gc("vh"),FO=Gc("vw"),Zw={...ci,parse:n=>ci.parse(n)/100,transform:n=>ci.transform(n*100)},ha={test:Ky("hsl","hue"),parse:DA("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+ci.transform(fc(e))+", "+ci.transform(fc(t))+", "+fc(_c.transform(r))+")"},Bt={test:n=>qs.test(n)||Tg.test(n)||ha.test(n),parse:n=>qs.test(n)?qs.parse(n):ha.test(n)?ha.parse(n):Tg.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?qs.transform(n):ha.transform(n),getAnimatableNone:n=>{const e=Bt.parse(n);return e.alpha=0,Bt.transform(e)}},NO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function OO(n){return isNaN(n)&&typeof n=="string"&&(n.match(Xy)?.length||0)+(n.match(NO)?.length||0)>0}const IA="number",LA="color",BO="var",jO="var(",Jw="${}",$O=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Pc(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},i=[];let s=0;const c=e.replace($O,u=>(Bt.test(u)?(r.color.push(s),i.push(LA),t.push(Bt.parse(u))):u.startsWith(jO)?(r.var.push(s),i.push(BO),t.push(u)):(r.number.push(s),i.push(IA),t.push(parseFloat(u))),++s,Jw)).split(Jw);return{values:t,split:c,indexes:r,types:i}}function FA(n){return Pc(n).values}function NA(n){const{split:e,types:t}=Pc(n),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const c=t[a];c===IA?s+=fc(i[a]):c===LA?s+=Bt.transform(i[a]):s+=i[a]}return s}}const zO=n=>typeof n=="number"?0:Bt.test(n)?Bt.getAnimatableNone(n):n;function VO(n){const e=FA(n);return NA(n)(e.map(zO))}const Ss={test:OO,parse:FA,createTransformer:NA,getAnimatableNone:VO};function Rm(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function UO({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,a=0;if(!e)i=s=a=t;else{const c=t<.5?t*(1+e):t+e-t*e,u=2*t-c;i=Rm(u,c,n+1/3),s=Rm(u,c,n),a=Rm(u,c,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function Ch(n,e){return t=>t>0?e:n}const kt=(n,e,t)=>n+(e-n)*t,Mm=(n,e,t)=>{const r=n*n,i=t*(e*e-r)+r;return i<0?0:Math.sqrt(i)},HO=[Tg,qs,ha],WO=n=>HO.find(e=>e.test(n));function eS(n){const e=WO(n);if(!e)return!1;let t=e.parse(n);return e===ha&&(t=UO(t)),t}const tS=(n,e)=>{const t=eS(n),r=eS(e);if(!t||!r)return Ch(n,e);const i={...t};return s=>(i.red=Mm(t.red,r.red,s),i.green=Mm(t.green,r.green,s),i.blue=Mm(t.blue,r.blue,s),i.alpha=kt(t.alpha,r.alpha,s),qs.transform(i))},Eg=new Set(["none","hidden"]);function GO(n,e){return Eg.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function XO(n,e){return t=>kt(n,e,t)}function Yy(n){return typeof n=="number"?XO:typeof n=="string"?Gy(n)?Ch:Bt.test(n)?tS:qO:Array.isArray(n)?OA:typeof n=="object"?Bt.test(n)?tS:KO:Ch}function OA(n,e){const t=[...n],r=t.length,i=n.map((s,a)=>Yy(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)t[a]=i[a](s);return t}}function KO(n,e){const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=Yy(n[i])(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}}function YO(n,e){const t=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=n.indexes[s][r[s]],c=n.values[a]??0;t[i]=c,r[s]++}return t}const qO=(n,e)=>{const t=Ss.createTransformer(e),r=Pc(n),i=Pc(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Eg.has(n)&&!i.values.length||Eg.has(e)&&!r.values.length?GO(n,e):Hc(OA(YO(r,i),i.values),t):Ch(n,e)};function BA(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?kt(n,e,t):Yy(n)(n,e)}const QO=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>ht.update(e,t),stop:()=>ws(e),now:()=>rn.isProcessing?rn.timestamp:An.now()}},jA=(n,e,t=10)=>{let r="";const i=Math.max(Math.round(e/t),2);for(let s=0;s<i;s++)r+=Math.round(n(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},kh=2e4;function qy(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<kh;)e+=t,r=n.next(e);return e>=kh?1/0:e}function ZO(n,e=100,t){const r=t({...n,keyframes:[0,e]}),i=Math.min(qy(r),kh);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:yr(i)}}const JO=5;function $A(n,e,t){const r=Math.max(e-JO,0);return vA(t-n(r),e-r)}const Rt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Dm=.001;function eB({duration:n=Rt.duration,bounce:e=Rt.bounce,velocity:t=Rt.velocity,mass:r=Rt.mass}){let i,s,a=1-e;a=di(Rt.minDamping,Rt.maxDamping,a),n=di(Rt.minDuration,Rt.maxDuration,yr(n)),a<1?(i=d=>{const f=d*a,p=f*n,g=f-t,y=_g(d,a),w=Math.exp(-p);return Dm-g/y*w},s=d=>{const p=d*a*n,g=p*t+t,y=Math.pow(a,2)*Math.pow(d,2)*n,w=Math.exp(-p),b=_g(Math.pow(d,2),a);return(-i(d)+Dm>0?-1:1)*((g-y)*w)/b}):(i=d=>{const f=Math.exp(-d*n),p=(d-t)*n+1;return-Dm+f*p},s=d=>{const f=Math.exp(-d*n),p=(t-d)*(n*n);return f*p});const c=5/n,u=nB(i,s,c);if(n=Bi(n),isNaN(u))return{stiffness:Rt.stiffness,damping:Rt.damping,duration:n};{const d=Math.pow(u,2)*r;return{stiffness:d,damping:a*2*Math.sqrt(r*d),duration:n}}}const tB=12;function nB(n,e,t){let r=t;for(let i=1;i<tB;i++)r=r-n(r)/e(r);return r}function _g(n,e){return n*Math.sqrt(1-e*e)}const rB=["duration","bounce"],iB=["stiffness","damping","mass"];function nS(n,e){return e.some(t=>n[t]!==void 0)}function sB(n){let e={velocity:Rt.velocity,stiffness:Rt.stiffness,damping:Rt.damping,mass:Rt.mass,isResolvedFromDuration:!1,...n};if(!nS(n,iB)&&nS(n,rB))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),i=r*r,s=2*di(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:Rt.mass,stiffness:i,damping:s}}else{const t=eB(n);e={...e,...t,mass:Rt.mass},e.isResolvedFromDuration=!0}return e}function Th(n=Rt.visualDuration,e=Rt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:i}=t;const s=t.keyframes[0],a=t.keyframes[t.keyframes.length-1],c={done:!1,value:s},{stiffness:u,damping:d,mass:f,duration:p,velocity:g,isResolvedFromDuration:y}=sB({...t,velocity:-yr(t.velocity||0)}),w=g||0,b=d/(2*Math.sqrt(u*f)),x=a-s,A=yr(Math.sqrt(u/f)),T=Math.abs(x)<5;r||(r=T?Rt.restSpeed.granular:Rt.restSpeed.default),i||(i=T?Rt.restDelta.granular:Rt.restDelta.default);let k;if(b<1){const P=_g(A,b);k=M=>{const L=Math.exp(-b*A*M);return a-L*((w+b*A*x)/P*Math.sin(P*M)+x*Math.cos(P*M))}}else if(b===1)k=P=>a-Math.exp(-A*P)*(x+(w+A*x)*P);else{const P=A*Math.sqrt(b*b-1);k=M=>{const L=Math.exp(-b*A*M),F=Math.min(P*M,300);return a-L*((w+b*A*x)*Math.sinh(F)+P*x*Math.cosh(F))/P}}const R={calculatedDuration:y&&p||null,next:P=>{const M=k(P);if(y)c.done=P>=p;else{let L=P===0?w:0;b<1&&(L=P===0?Bi(w):$A(k,P,M));const F=Math.abs(L)<=r,z=Math.abs(a-M)<=i;c.done=F&&z}return c.value=c.done?a:M,c},toString:()=>{const P=Math.min(qy(R),kh),M=jA(L=>R.next(P*L).value,P,30);return P+"ms "+M},toTransition:()=>{}};return R}Th.applyToOptions=n=>{const e=ZO(n,100,Th);return n.ease=e.ease,n.duration=Bi(e.duration),n.type="keyframes",n};function Pg({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:c,max:u,restDelta:d=.5,restSpeed:f}){const p=n[0],g={done:!1,value:p},y=F=>c!==void 0&&F<c||u!==void 0&&F>u,w=F=>c===void 0?u:u===void 0||Math.abs(c-F)<Math.abs(u-F)?c:u;let b=t*e;const x=p+b,A=a===void 0?x:a(x);A!==x&&(b=A-p);const T=F=>-b*Math.exp(-F/r),k=F=>A+T(F),R=F=>{const z=T(F),q=k(F);g.done=Math.abs(z)<=d,g.value=g.done?A:q};let P,M;const L=F=>{y(g.value)&&(P=F,M=Th({keyframes:[g.value,w(g.value)],velocity:$A(k,F,g.value),damping:i,stiffness:s,restDelta:d,restSpeed:f}))};return L(0),{calculatedDuration:null,next:F=>{let z=!1;return!M&&P===void 0&&(z=!0,R(F),L(F)),P!==void 0&&F>=P?M.next(F-P):(!z&&R(F),g)}}}function oB(n,e,t){const r=[],i=t||zi.mix||BA,s=n.length-1;for(let a=0;a<s;a++){let c=i(n[a],n[a+1]);if(e){const u=Array.isArray(e)?e[a]||vr:e;c=Hc(u,c)}r.push(c)}return r}function aB(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if(zy(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=n[0]===n[1];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const c=oB(e,r,i),u=c.length,d=f=>{if(a&&f<n[0])return e[0];let p=0;if(u>1)for(;p<n.length-2&&!(f<n[p+1]);p++);const g=Ec(n[p],n[p+1],f);return c[p](g)};return t?f=>d(di(n[0],n[s-1],f)):d}function lB(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=Ec(0,e,r);n.push(kt(t,1,i))}}function cB(n){const e=[0];return lB(e,n.length-1),e}function uB(n,e){return n.map(t=>t*e)}function dB(n,e){return n.map(()=>e||EA).splice(0,n.length-1)}function pc({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=xO(r)?r.map(qw):qw(r),s={done:!1,value:e[0]},a=uB(t&&t.length===e.length?t:cB(e),n),c=aB(a,e,{ease:Array.isArray(i)?i:dB(e,i)});return{calculatedDuration:n,next:u=>(s.value=c(u),s.done=u>=n,s)}}const hB=n=>n!==null;function Qy(n,{repeat:e,repeatType:t="loop"},r,i=1){const s=n.filter(hB),c=i<0||e&&t!=="loop"&&e%2===1?0:s.length-1;return!c||r===void 0?s[c]:r}const fB={decay:Pg,inertia:Pg,tween:pc,keyframes:pc,spring:Th};function zA(n){typeof n.type=="string"&&(n.type=fB[n.type])}class Zy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const pB=n=>n/100;class Jy extends Zy{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==An.now()&&this.tick(An.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;zA(e);const{type:t=pc,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:c}=e;const u=t||pc;u!==pc&&typeof c[0]!="number"&&(this.mixKeyframes=Hc(pB,BA(c[0],c[1])),c=[0,100]);const d=u({...e,keyframes:c});s==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...c].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=qy(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=d}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:c,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:f,repeat:p,repeatType:g,repeatDelay:y,type:w,onUpdate:b,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const A=this.currentTime-d*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?A<0:A>i;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let k=this.currentTime,R=r;if(p){const F=Math.min(this.currentTime,i)/c;let z=Math.floor(F),q=F%1;!q&&F>=1&&(q=1),q===1&&z--,z=Math.min(z,p+1),z%2&&(g==="reverse"?(q=1-q,y&&(q-=y/c)):g==="mirror"&&(R=a)),k=di(0,1,q)*c}const P=T?{done:!1,value:f[0]}:R.next(k);s&&(P.value=s(P.value));let{done:M}=P;!T&&u!==null&&(M=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return L&&w!==Pg&&(P.value=Qy(f,this.options,x,this.speed)),b&&b(P.value),L&&this.finish(),P}then(e,t){return this.finished.then(e,t)}get duration(){return yr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+yr(e)}get time(){return yr(this.currentTime)}set time(e){e=Bi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(An.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=yr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=QO,startTime:t}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(An.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function mB(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Qs=n=>n*180/Math.PI,Rg=n=>{const e=Qs(Math.atan2(n[1],n[0]));return Mg(e)},gB={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Rg,rotateZ:Rg,skewX:n=>Qs(Math.atan(n[1])),skewY:n=>Qs(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Mg=n=>(n=n%360,n<0&&(n+=360),n),rS=Rg,iS=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),sS=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),yB={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:iS,scaleY:sS,scale:n=>(iS(n)+sS(n))/2,rotateX:n=>Mg(Qs(Math.atan2(n[6],n[5]))),rotateY:n=>Mg(Qs(Math.atan2(-n[2],n[0]))),rotateZ:rS,rotate:rS,skewX:n=>Qs(Math.atan(n[4])),skewY:n=>Qs(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Dg(n){return n.includes("scale")?1:0}function Ig(n,e){if(!n||n==="none")return Dg(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(t)r=yB,i=t;else{const c=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=gB,i=c}if(!i)return Dg(e);const s=r[e],a=i[1].split(",").map(bB);return typeof s=="function"?s(a):a[s]}const vB=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return Ig(t,e)};function bB(n){return parseFloat(n.trim())}const za=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Va=new Set(za),oS=n=>n===$a||n===fe,wB=new Set(["x","y","z"]),SB=za.filter(n=>!wB.has(n));function xB(n){const e=[];return SB.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const vs={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>Ig(e,"x"),y:(n,{transform:e})=>Ig(e,"y")};vs.translateX=vs.x;vs.translateY=vs.y;const ao=new Set;let Lg=!1,Fg=!1,Ng=!1;function VA(){if(Fg){const n=Array.from(ao).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const i=xB(r);i.length&&(t.set(r,i),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=t.get(r);i&&i.forEach(([s,a])=>{r.getValue(s)?.set(a)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Fg=!1,Lg=!1,ao.forEach(n=>n.complete(Ng)),ao.clear()}function UA(){ao.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Fg=!0)})}function AB(){Ng=!0,UA(),VA(),Ng=!1}class e0{constructor(e,t,r,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(ao.add(this),Lg||(Lg=!0,ht.read(UA),ht.resolveKeyframes(VA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;if(e[0]===null){const s=i?.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&t){const c=r.readValue(t,a);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}mB(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ao.delete(this)}cancel(){this.state==="scheduled"&&(ao.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const CB=n=>n.startsWith("--");function kB(n,e,t){CB(e)?n.style.setProperty(e,t):n.style[e]=t}const TB=Vy(()=>window.ScrollTimeline!==void 0),EB={};function _B(n,e){const t=Vy(n);return()=>EB[e]??t()}const HA=_B(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Jl=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,aS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Jl([0,.65,.55,1]),circOut:Jl([.55,0,1,.45]),backIn:Jl([.31,.01,.66,-.59]),backOut:Jl([.33,1.53,.69,.99])};function WA(n,e){if(n)return typeof n=="function"?HA()?jA(n,e):"ease-out":_A(n)?Jl(n):Array.isArray(n)?n.map(t=>WA(t,e)||aS.easeOut):aS[n]}function PB(n,e,t,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:c="easeOut",times:u}={},d=void 0){const f={[e]:t};u&&(f.offset=u);const p=WA(c,i);Array.isArray(p)&&(f.easing=p);const g={delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return d&&(g.pseudoElement=d),n.animate(f,g)}function GA(n){return typeof n=="function"&&"applyToOptions"in n}function RB({type:n,...e}){return GA(n)&&HA()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class MB extends Zy{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:t,name:r,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:c,onComplete:u}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,zy(typeof e.type!="string");const d=RB(e);this.animation=PB(t,r,i,d,s),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const f=Qy(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(f):kB(t,r,f),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return yr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+yr(e)}get time(){return yr(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Bi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&TB()?(this.animation.timeline=e,vr):t(this)}}const XA={anticipate:CA,backInOut:AA,circInOut:TA};function DB(n){return n in XA}function IB(n){typeof n.ease=="string"&&DB(n.ease)&&(n.ease=XA[n.ease])}const Im=10;class LB extends MB{constructor(e){IB(e),zA(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:r,onComplete:i,element:s,...a}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const c=new Jy({...a,autoplay:!1}),u=Math.max(Im,An.now()-this.startTime),d=di(0,Im,u-Im);t.setWithVelocity(c.sample(Math.max(0,u-d)).value,c.sample(u).value,d),c.stop()}}const lS=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ss.test(n)||n==="0")&&!n.startsWith("url("));function FB(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function NB(n,e,t,r){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=n[n.length-1],a=lS(i,e),c=lS(s,e);return!a||!c?!1:FB(n)||(t==="spring"||GA(t))&&r}function Og(n){n.duration=0,n.type="keyframes"}const OB=new Set(["opacity","clipPath","filter","transform"]),BB=Vy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function jB(n){const{motionValue:e,name:t,repeatDelay:r,repeatType:i,damping:s,type:a}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:d}=e.owner.getProps();return BB()&&t&&OB.has(t)&&(t!=="transform"||!d)&&!u&&!r&&i!=="mirror"&&s!==0&&a!=="inertia"}const $B=40;class zB extends Zy{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:c,name:u,motionValue:d,element:f,...p}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=An.now();const g={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:s,repeatType:a,name:u,motionValue:d,element:f,...p},y=f?.KeyframeResolver||e0;this.keyframeResolver=new y(c,(w,b,x)=>this.onKeyframesResolved(w,b,g,!x),u,d,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,r,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:c,delay:u,isHandoff:d,onUpdate:f}=r;this.resolvedAt=An.now(),NB(e,s,a,c)||((zi.instantAnimations||!u)&&f?.(Qy(e,r,t)),e[0]=e[e.length-1],Og(r),r.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>$B?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},y=!d&&jB(g),w=g.motionValue?.owner?.current,b=y?new LB({...g,element:w}):new Jy(g);b.finished.then(()=>{this.notifyFinished()}).catch(vr),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),AB()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function KA(n,e,t,r=0,i=1){const s=Array.from(n).sort((d,f)=>d.sortNodePosition(f)).indexOf(e),a=n.size,c=(a-1)*r;return typeof t=="function"?t(s,a):i===1?s*r:c-s*r}const VB=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function UB(n){const e=VB.exec(n);if(!e)return[,];const[,t,r,i]=e;return[`--${t??r}`,i]}function YA(n,e,t=1){const[r,i]=UB(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return mA(a)?parseFloat(a):a}return Gy(i)?YA(i,e,t+1):i}const HB={type:"spring",stiffness:500,damping:25,restSpeed:10},WB=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),GB={type:"keyframes",duration:.8},XB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},KB=(n,{keyframes:e})=>e.length>2?GB:Va.has(n)?n.startsWith("scale")?WB(e[1]):HB:XB,YB=n=>n!==null;function qB(n,{repeat:e,repeatType:t="loop"},r){const i=n.filter(YB),s=e&&t!=="loop"&&e%2===1?0:i.length-1;return i[s]}function t0(n,e){return n?.[e]??n?.default??n}function QB({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:c,from:u,elapsed:d,...f}){return!!Object.keys(f).length}const n0=(n,e,t,r={},i,s)=>a=>{const c=t0(r,n)||{},u=c.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Bi(u);const f={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-d,onUpdate:g=>{e.set(g),c.onUpdate&&c.onUpdate(g)},onComplete:()=>{a(),c.onComplete&&c.onComplete()},name:n,motionValue:e,element:s?void 0:i};QB(c)||Object.assign(f,KB(n,f)),f.duration&&(f.duration=Bi(f.duration)),f.repeatDelay&&(f.repeatDelay=Bi(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(Og(f),f.delay===0&&(p=!0)),(zi.instantAnimations||zi.skipAnimations||i?.shouldSkipAnimations)&&(p=!0,Og(f),f.delay=0),f.allowFlatten=!c.type&&!c.ease,p&&!s&&e.get()!==void 0){const g=qB(f.keyframes,c);if(g!==void 0){ht.update(()=>{f.onUpdate(g),f.onComplete()});return}}return c.isSync?new Jy(f):new zB(f)};function cS(n){const e=[{},{}];return n?.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function r0(n,e,t,r){if(typeof e=="function"){const[i,s]=cS(r);e=e(t!==void 0?t:n.custom,i,s)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,s]=cS(r);e=e(t!==void 0?t:n.custom,i,s)}return e}function Ca(n,e,t){const r=n.getProps();return r0(r,e,t!==void 0?t:r.custom,n)}const qA=new Set(["width","height","top","left","right","bottom",...za]),uS=30,ZB=n=>!isNaN(parseFloat(n));class JB{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=An.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=An.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=ZB(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Uy);const r=this.events[e].add(t);return e==="change"?()=>{r(),ht.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=An.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>uS)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,uS);return vA(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function La(n,e){return new JB(n,e)}const Bg=n=>Array.isArray(n);function ej(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,La(t))}function tj(n){return Bg(n)?n[n.length-1]||0:n}function nj(n,e){const t=Ca(n,e);let{transitionEnd:r={},transition:i={},...s}=t||{};s={...s,...r};for(const a in s){const c=tj(s[a]);ej(n,a,c)}}const gn=n=>!!(n&&n.getVelocity);function rj(n){return!!(gn(n)&&n.add)}function jg(n,e){const t=n.getValue("willChange");if(rj(t))return t.add(e);if(!t&&zi.WillChange){const r=new zi.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function i0(n){return n.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const ij="framerAppearId",QA="data-"+i0(ij);function ZA(n){return n.props[QA]}function sj({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function JA(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:a,...c}=e;const u=s?.reduceMotion;r&&(s=r);const d=[],f=i&&n.animationState&&n.animationState.getState()[i];for(const p in c){const g=n.getValue(p,n.latestValues[p]??null),y=c[p];if(y===void 0||f&&sj(f,p))continue;const w={delay:t,...t0(s||{},p)},b=g.get();if(b!==void 0&&!g.isAnimating&&!Array.isArray(y)&&y===b&&!w.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const k=ZA(n);if(k){const R=window.MotionHandoffAnimation(k,p,ht);R!==null&&(w.startTime=R,x=!0)}}jg(n,p);const A=u??n.shouldReduceMotion;g.start(n0(p,g,y,A&&qA.has(p)?{type:!1}:w,n,x));const T=g.animation;T&&d.push(T)}return a&&Promise.all(d).then(()=>{ht.update(()=>{a&&nj(n,a)})}),d}function $g(n,e,t={}){const r=Ca(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const s=r?()=>Promise.all(JA(n,r,t)):()=>Promise.resolve(),a=n.variantChildren&&n.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:p}=i;return oj(n,e,u,d,f,p,t)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,d]=c==="beforeChildren"?[s,a]:[a,s];return u().then(()=>d())}else return Promise.all([s(),a(t.delay)])}function oj(n,e,t=0,r=0,i=0,s=1,a){const c=[];for(const u of n.variantChildren)u.notify("AnimationStart",e),c.push($g(u,e,{...a,delay:t+(typeof r=="function"?0:r)+KA(n.variantChildren,u,r,i,s)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(c)}function aj(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>$g(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=$g(n,e,t);else{const i=typeof e=="function"?Ca(n,e,t.custom):e;r=Promise.all(JA(n,i,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}const lj={test:n=>n==="auto",parse:n=>n},eC=n=>e=>e.test(n),tC=[$a,fe,ci,ps,FO,LO,lj],dS=n=>tC.find(eC(n));function cj(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||yA(n):!0}const uj=new Set(["brightness","contrast","saturate","opacity"]);function dj(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(Xy)||[];if(!r)return n;const i=t.replace(r,"");let s=uj.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const hj=/\b([a-z-]*)\(.*?\)/gu,zg={...Ss,getAnimatableNone:n=>{const e=n.match(hj);return e?e.map(dj).join(" "):n}},hS={...$a,transform:Math.round},fj={rotate:ps,rotateX:ps,rotateY:ps,rotateZ:ps,scale:Rd,scaleX:Rd,scaleY:Rd,scaleZ:Rd,skew:ps,skewX:ps,skewY:ps,distance:fe,translateX:fe,translateY:fe,translateZ:fe,x:fe,y:fe,z:fe,perspective:fe,transformPerspective:fe,opacity:_c,originX:Zw,originY:Zw,originZ:fe},s0={borderWidth:fe,borderTopWidth:fe,borderRightWidth:fe,borderBottomWidth:fe,borderLeftWidth:fe,borderRadius:fe,borderTopLeftRadius:fe,borderTopRightRadius:fe,borderBottomRightRadius:fe,borderBottomLeftRadius:fe,width:fe,maxWidth:fe,height:fe,maxHeight:fe,top:fe,right:fe,bottom:fe,left:fe,inset:fe,insetBlock:fe,insetBlockStart:fe,insetBlockEnd:fe,insetInline:fe,insetInlineStart:fe,insetInlineEnd:fe,padding:fe,paddingTop:fe,paddingRight:fe,paddingBottom:fe,paddingLeft:fe,paddingBlock:fe,paddingBlockStart:fe,paddingBlockEnd:fe,paddingInline:fe,paddingInlineStart:fe,paddingInlineEnd:fe,margin:fe,marginTop:fe,marginRight:fe,marginBottom:fe,marginLeft:fe,marginBlock:fe,marginBlockStart:fe,marginBlockEnd:fe,marginInline:fe,marginInlineStart:fe,marginInlineEnd:fe,fontSize:fe,backgroundPositionX:fe,backgroundPositionY:fe,...fj,zIndex:hS,fillOpacity:_c,strokeOpacity:_c,numOctaves:hS},pj={...s0,color:Bt,backgroundColor:Bt,outlineColor:Bt,fill:Bt,stroke:Bt,borderColor:Bt,borderTopColor:Bt,borderRightColor:Bt,borderBottomColor:Bt,borderLeftColor:Bt,filter:zg,WebkitFilter:zg},nC=n=>pj[n];function rC(n,e){let t=nC(n);return t!==zg&&(t=Ss),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const mj=new Set(["auto","none","0"]);function gj(n,e,t){let r=0,i;for(;r<n.length&&!i;){const s=n[r];typeof s=="string"&&!mj.has(s)&&Pc(s).values.length&&(i=n[r]),r++}if(i&&t)for(const s of e)n[s]=rC(t,i)}class yj extends e0{constructor(e,t,r,i,s){super(e,t,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),Gy(p))){const g=YA(p,t.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!qA.has(r)||e.length!==2)return;const[i,s]=e,a=dS(i),c=dS(s),u=Qw(i),d=Qw(s);if(u!==d&&vs[r]){this.needsMeasurement=!0;return}if(a!==c)if(oS(a)&&oS(c))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else vs[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||cj(e[i]))&&r.push(i);r.length&&gj(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=vs[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(t);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=vs[t](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function vj(n,e,t){if(n==null)return[];if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const i=t?.[n]??r.querySelectorAll(n);return i?Array.from(i):[]}return Array.from(n).filter(r=>r!=null)}const iC=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function Vg(n){return gA(n)&&"offsetHeight"in n}const{schedule:o0}=PA(queueMicrotask,!1),Ir={x:!1,y:!1};function sC(){return Ir.x||Ir.y}function bj(n){return n==="x"||n==="y"?Ir[n]?null:(Ir[n]=!0,()=>{Ir[n]=!1}):Ir.x||Ir.y?null:(Ir.x=Ir.y=!0,()=>{Ir.x=Ir.y=!1})}function oC(n,e){const t=vj(n),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[t,i,()=>r.abort()]}function fS(n){return!(n.pointerType==="touch"||sC())}function wj(n,e,t={}){const[r,i,s]=oC(n,t),a=c=>{if(!fS(c))return;const{target:u}=c,d=e(u,c);if(typeof d!="function"||!u)return;const f=p=>{fS(p)&&(d(p),u.removeEventListener("pointerleave",f))};u.addEventListener("pointerleave",f,i)};return r.forEach(c=>{c.addEventListener("pointerenter",a,i)}),s}const aC=(n,e)=>e?n===e?!0:aC(n,e.parentElement):!1,a0=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,Sj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function xj(n){return Sj.has(n.tagName)||n.isContentEditable===!0}const Aj=new Set(["INPUT","SELECT","TEXTAREA"]);function Cj(n){return Aj.has(n.tagName)||n.isContentEditable===!0}const ch=new WeakSet;function pS(n){return e=>{e.key==="Enter"&&n(e)}}function Lm(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const kj=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=pS(()=>{if(ch.has(t))return;Lm(t,"down");const i=pS(()=>{Lm(t,"up")}),s=()=>Lm(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function mS(n){return a0(n)&&!sC()}function Tj(n,e,t={}){const[r,i,s]=oC(n,t),a=c=>{const u=c.currentTarget;if(!mS(c))return;ch.add(u);const d=e(u,c),f=(y,w)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),ch.has(u)&&ch.delete(u),mS(y)&&typeof d=="function"&&d(y,{success:w})},p=y=>{f(y,u===window||u===document||t.useGlobalTarget||aC(u,y.target))},g=y=>{f(y,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",g,i)};return r.forEach(c=>{(t.useGlobalTarget?window:c).addEventListener("pointerdown",a,i),Vg(c)&&(c.addEventListener("focus",d=>kj(d,i)),!xj(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),s}function lC(n){return gA(n)&&"ownerSVGElement"in n}function Ej(n){return lC(n)&&n.tagName==="svg"}const _j=[...tC,Bt,Ss],Pj=n=>_j.find(eC(n)),gS=()=>({translate:0,scale:1,origin:0,originPoint:0}),fa=()=>({x:gS(),y:gS()}),yS=()=>({min:0,max:0}),Wt=()=>({x:yS(),y:yS()}),Ug={current:null},cC={current:!1},Rj=typeof window<"u";function Mj(){if(cC.current=!0,!!Rj)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ug.current=n.matches;n.addEventListener("change",e),e()}else Ug.current=!1}const Dj=new WeakMap;function Xh(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Rc(n){return typeof n=="string"||Array.isArray(n)}const l0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],c0=["initial",...l0];function Kh(n){return Xh(n.animate)||c0.some(e=>Rc(n[e]))}function uC(n){return!!(Kh(n)||n.variants)}function Ij(n,e,t){for(const r in e){const i=e[r],s=t[r];if(gn(i))n.addValue(r,i);else if(gn(s))n.addValue(r,La(i,{owner:n}));else if(s!==i)if(n.hasValue(r)){const a=n.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=n.getStaticValue(r);n.addValue(r,La(a!==void 0?a:i,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const vS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Eh={};function dC(n){Eh=n}function Lj(){return Eh}class Fj{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,skipAnimations:s,blockInitialAnimation:a,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=e0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=An.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,ht.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=c;this.latestValues=d,this.baseTarget={...d},this.initialValues=t.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.skipAnimationsConfig=s,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=Kh(t),this.isVariantNode=uC(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(t,{},this);for(const y in g){const w=g[y];d[y]!==void 0&&gn(w)&&w.set(d[y])}}mount(e){this.current=e,Dj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(cC.current||Mj(),this.shouldReduceMotion=Ug.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ws(this.notifyUpdate),ws(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Va.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&ht.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;typeof window<"u"&&window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Eh){const t=Eh[e];if(!t)continue;const{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Wt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<vS.length;r++){const i=vS[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Ij(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=La(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(mA(r)||yA(r))?r=parseFloat(r):!Pj(r)&&Ss.test(t)&&(r=rC(e,t)),this.setBaseTarget(e,gn(r)?r.get():r)),gn(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let r;if(typeof t=="string"||typeof t=="object"){const s=r0(this.props,t,this.presenceContext?.custom);s&&(r=s[e])}if(t&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!gn(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Uy),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){o0.render(this.render)}}class hC extends Fj{constructor(){super(...arguments),this.KeyframeResolver=yj}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){const r=e.style;return r?r[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;gn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}class Cs{constructor(e){this.isMounted=!1,this.node=e}update(){}}function fC({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function Nj({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Oj(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function Fm(n){return n===void 0||n===1}function Hg({scale:n,scaleX:e,scaleY:t}){return!Fm(n)||!Fm(e)||!Fm(t)}function Xs(n){return Hg(n)||pC(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function pC(n){return bS(n.x)||bS(n.y)}function bS(n){return n&&n!=="0%"}function _h(n,e,t){const r=n-t,i=e*r;return t+i}function wS(n,e,t,r,i){return i!==void 0&&(n=_h(n,i,r)),_h(n,t,r)+e}function Wg(n,e=0,t=1,r,i){n.min=wS(n.min,e,t,r,i),n.max=wS(n.max,e,t,r,i)}function mC(n,{x:e,y:t}){Wg(n.x,e.translate,e.scale,e.originPoint),Wg(n.y,t.translate,t.scale,t.originPoint)}const SS=.999999999999,xS=1.0000000000001;function Bj(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,a;for(let c=0;c<i;c++){s=t[c],a=s.projectionDelta;const{visualElement:u}=s.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ma(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,mC(n,a)),r&&Xs(s.latestValues)&&ma(n,s.latestValues))}e.x<xS&&e.x>SS&&(e.x=1),e.y<xS&&e.y>SS&&(e.y=1)}function pa(n,e){n.min=n.min+e,n.max=n.max+e}function AS(n,e,t,r,i=.5){const s=kt(n.min,n.max,i);Wg(n,e,t,s,r)}function ma(n,e){AS(n.x,e.x,e.scaleX,e.scale,e.originX),AS(n.y,e.y,e.scaleY,e.scale,e.originY)}function gC(n,e){return fC(Oj(n.getBoundingClientRect(),e))}function jj(n,e,t){const r=gC(n,t),{scroll:i}=e;return i&&(pa(r.x,i.offset.x),pa(r.y,i.offset.y)),r}const $j={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zj=za.length;function Vj(n,e,t){let r="",i=!0;for(let s=0;s<zj;s++){const a=za[s],c=n[a];if(c===void 0)continue;let u=!0;if(typeof c=="number")u=c===(a.startsWith("scale")?1:0);else{const d=parseFloat(c);u=a.startsWith("scale")?d===1:d===0}if(!u||t){const d=iC(c,s0[a]);if(!u){i=!1;const f=$j[a]||a;r+=`${f}(${d}) `}t&&(e[a]=d)}}return r=r.trim(),t?r=t(e,i?"":r):i&&(r="none"),r}function u0(n,e,t){const{style:r,vars:i,transformOrigin:s}=n;let a=!1,c=!1;for(const u in e){const d=e[u];if(Va.has(u)){a=!0;continue}else if(MA(u)){i[u]=d;continue}else{const f=iC(d,s0[u]);u.startsWith("origin")?(c=!0,s[u]=f):r[u]=f}}if(e.transform||(a||t?r.transform=Vj(e,n.transform,t):r.transform&&(r.transform="none")),c){const{originX:u="50%",originY:d="50%",originZ:f=0}=s;r.transformOrigin=`${u} ${d} ${f}`}}function yC(n,{style:e,vars:t},r,i){const s=n.style;let a;for(a in e)s[a]=e[a];i?.applyProjectionStyles(s,r);for(a in t)s.setProperty(a,t[a])}function CS(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const $l={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(fe.test(n))n=parseFloat(n);else return n;const t=CS(n,e.target.x),r=CS(n,e.target.y);return`${t}% ${r}%`}},Uj={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=Ss.parse(n);if(i.length>5)return r;const s=Ss.createTransformer(n),a=typeof i[0]!="number"?1:0,c=t.x.scale*e.x,u=t.y.scale*e.y;i[0+a]/=c,i[1+a]/=u;const d=kt(c,u,.5);return typeof i[2+a]=="number"&&(i[2+a]/=d),typeof i[3+a]=="number"&&(i[3+a]/=d),s(i)}},Gg={borderRadius:{...$l,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$l,borderTopRightRadius:$l,borderBottomLeftRadius:$l,borderBottomRightRadius:$l,boxShadow:Uj};function vC(n,{layout:e,layoutId:t}){return Va.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Gg[n]||n==="opacity")}function d0(n,e,t){const r=n.style,i=e?.style,s={};if(!r)return s;for(const a in r)(gn(r[a])||i&&gn(i[a])||vC(a,n)||t?.getValue(a)?.liveStyle!==void 0)&&(s[a]=r[a]);return s}function Hj(n){return window.getComputedStyle(n)}class Wj extends hC{constructor(){super(...arguments),this.type="html",this.renderInstance=yC}readValueFromInstance(e,t){if(Va.has(t))return this.projection?.isProjecting?Dg(t):vB(e,t);{const r=Hj(e),i=(MA(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return gC(e,t)}build(e,t,r){u0(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return d0(e,t,r)}}const Gj={offset:"stroke-dashoffset",array:"stroke-dasharray"},Xj={offset:"strokeDashoffset",array:"strokeDasharray"};function Kj(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?Gj:Xj;n[s.offset]=`${-r}`,n[s.array]=`${e} ${t}`}const Yj=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function bC(n,{attrX:e,attrY:t,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...c},u,d,f){if(u0(n,c,d),u){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:p,style:g}=n;p.transform&&(g.transform=p.transform,delete p.transform),(g.transform||p.transformOrigin)&&(g.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),g.transform&&(g.transformBox=f?.transformBox??"fill-box",delete p.transformBox);for(const y of Yj)p[y]!==void 0&&(g[y]=p[y],delete p[y]);e!==void 0&&(p.x=e),t!==void 0&&(p.y=t),r!==void 0&&(p.scale=r),i!==void 0&&Kj(p,i,s,a,!1)}const wC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),SC=n=>typeof n=="string"&&n.toLowerCase()==="svg";function qj(n,e,t,r){yC(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(wC.has(i)?i:i0(i),e.attrs[i])}function xC(n,e,t){const r=d0(n,e,t);for(const i in n)if(gn(n[i])||gn(e[i])){const s=za.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=n[i]}return r}class Qj extends hC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Wt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Va.has(t)){const r=nC(t);return r&&r.default||0}return t=wC.has(t)?t:i0(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return xC(e,t,r)}build(e,t,r){bC(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,i){qj(e,t,r,i)}mount(e){this.isSVGTag=SC(e.tagName),super.mount(e)}}const Zj=c0.length;function AC(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?AC(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<Zj;t++){const r=c0[t],i=n.props[r];(Rc(i)||i===!1)&&(e[r]=i)}return e}function CC(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const Jj=[...l0].reverse(),e$=l0.length;function t$(n){return e=>Promise.all(e.map(({animation:t,options:r})=>aj(n,t,r)))}function n$(n){let e=t$(n),t=kS(),r=!0;const i=u=>(d,f)=>{const p=Ca(n,f,u==="exit"?n.presenceContext?.custom:void 0);if(p){const{transition:g,transitionEnd:y,...w}=p;d={...d,...w,...y}}return d};function s(u){e=u(n)}function a(u){const{props:d}=n,f=AC(n.parent)||{},p=[],g=new Set;let y={},w=1/0;for(let x=0;x<e$;x++){const A=Jj[x],T=t[A],k=d[A]!==void 0?d[A]:f[A],R=Rc(k),P=A===u?T.isActive:null;P===!1&&(w=x);let M=k===f[A]&&k!==d[A]&&R;if(M&&r&&n.manuallyAnimateOnMount&&(M=!1),T.protectedKeys={...y},!T.isActive&&P===null||!k&&!T.prevProp||Xh(k)||typeof k=="boolean")continue;const L=r$(T.prevProp,k);let F=L||A===u&&T.isActive&&!M&&R||x>w&&R,z=!1;const q=Array.isArray(k)?k:[k];let U=q.reduce(i(A),{});P===!1&&(U={});const{prevResolvedValues:be={}}=T,xe={...be,...U},ve=G=>{F=!0,g.has(G)&&(z=!0,g.delete(G)),T.needsAnimating[G]=!0;const Q=n.getValue(G);Q&&(Q.liveStyle=!1)};for(const G in xe){const Q=U[G],ie=be[G];if(y.hasOwnProperty(G))continue;let ne=!1;Bg(Q)&&Bg(ie)?ne=!CC(Q,ie):ne=Q!==ie,ne?Q!=null?ve(G):g.add(G):Q!==void 0&&g.has(G)?ve(G):T.protectedKeys[G]=!0}T.prevProp=k,T.prevResolvedValues=U,T.isActive&&(y={...y,...U}),r&&n.blockInitialAnimation&&(F=!1);const De=M&&L;F&&(!De||z)&&p.push(...q.map(G=>{const Q={type:A};if(typeof G=="string"&&r&&!De&&n.manuallyAnimateOnMount&&n.parent){const{parent:ie}=n,ne=Ca(ie,G);if(ie.enteringChildren&&ne){const{delayChildren:O}=ne.transition||{};Q.delay=KA(ie.enteringChildren,n,O)}}return{animation:G,options:Q}}))}if(g.size){const x={};if(typeof d.initial!="boolean"){const A=Ca(n,Array.isArray(d.initial)?d.initial[0]:d.initial);A&&A.transition&&(x.transition=A.transition)}g.forEach(A=>{const T=n.getBaseTarget(A),k=n.getValue(A);k&&(k.liveStyle=!0),x[A]=T??null}),p.push({animation:x})}let b=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!n.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(p):Promise.resolve()}function c(u,d){if(t[u].isActive===d)return Promise.resolve();n.variantChildren?.forEach(p=>p.animationState?.setActive(u,d)),t[u].isActive=d;const f=a(u);for(const p in t)t[p].protectedKeys={};return f}return{animateChanges:a,setActive:c,setAnimateFunction:s,getState:()=>t,reset:()=>{t=kS()}}}function r$(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!CC(e,n):!1}function Gs(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function kS(){return{animate:Gs(!0),whileInView:Gs(),whileHover:Gs(),whileTap:Gs(),whileDrag:Gs(),whileFocus:Gs(),exit:Gs()}}function TS(n,e){n.min=e.min,n.max=e.max}function Dr(n,e){TS(n.x,e.x),TS(n.y,e.y)}function ES(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}const kC=1e-4,i$=1-kC,s$=1+kC,TC=.01,o$=0-TC,a$=0+TC;function Cn(n){return n.max-n.min}function l$(n,e,t){return Math.abs(n-e)<=t}function _S(n,e,t,r=.5){n.origin=r,n.originPoint=kt(e.min,e.max,n.origin),n.scale=Cn(t)/Cn(e),n.translate=kt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=i$&&n.scale<=s$||isNaN(n.scale))&&(n.scale=1),(n.translate>=o$&&n.translate<=a$||isNaN(n.translate))&&(n.translate=0)}function mc(n,e,t,r){_S(n.x,e.x,t.x,r?r.originX:void 0),_S(n.y,e.y,t.y,r?r.originY:void 0)}function PS(n,e,t){n.min=t.min+e.min,n.max=n.min+Cn(e)}function c$(n,e,t){PS(n.x,e.x,t.x),PS(n.y,e.y,t.y)}function RS(n,e,t){n.min=e.min-t.min,n.max=n.min+Cn(e)}function Ph(n,e,t){RS(n.x,e.x,t.x),RS(n.y,e.y,t.y)}function MS(n,e,t,r,i){return n-=e,n=_h(n,1/t,r),i!==void 0&&(n=_h(n,1/i,r)),n}function u$(n,e=0,t=1,r=.5,i,s=n,a=n){if(ci.test(e)&&(e=parseFloat(e),e=kt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let c=kt(s.min,s.max,r);n===s&&(c-=e),n.min=MS(n.min,e,t,c,i),n.max=MS(n.max,e,t,c,i)}function DS(n,e,[t,r,i],s,a){u$(n,e[t],e[r],e[i],e.scale,s,a)}const d$=["x","scaleX","originX"],h$=["y","scaleY","originY"];function IS(n,e,t,r){DS(n.x,e,d$,t?t.x:void 0,r?r.x:void 0),DS(n.y,e,h$,t?t.y:void 0,r?r.y:void 0)}function LS(n){return n.translate===0&&n.scale===1}function EC(n){return LS(n.x)&&LS(n.y)}function FS(n,e){return n.min===e.min&&n.max===e.max}function f$(n,e){return FS(n.x,e.x)&&FS(n.y,e.y)}function NS(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function _C(n,e){return NS(n.x,e.x)&&NS(n.y,e.y)}function OS(n){return Cn(n.x)/Cn(n.y)}function BS(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}function fr(n){return[n("x"),n("y")]}function p$(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y,a=t?.z||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:d,rotate:f,rotateX:p,rotateY:g,skewX:y,skewY:w}=t;d&&(r=`perspective(${d}px) ${r}`),f&&(r+=`rotate(${f}deg) `),p&&(r+=`rotateX(${p}deg) `),g&&(r+=`rotateY(${g}deg) `),y&&(r+=`skewX(${y}deg) `),w&&(r+=`skewY(${w}deg) `)}const c=n.x.scale*e.x,u=n.y.scale*e.y;return(c!==1||u!==1)&&(r+=`scale(${c}, ${u})`),r||"none"}const PC=["TopLeft","TopRight","BottomLeft","BottomRight"],m$=PC.length,jS=n=>typeof n=="string"?parseFloat(n):n,$S=n=>typeof n=="number"||fe.test(n);function g$(n,e,t,r,i,s){i?(n.opacity=kt(0,t.opacity??1,y$(r)),n.opacityExit=kt(e.opacity??1,0,v$(r))):s&&(n.opacity=kt(e.opacity??1,t.opacity??1,r));for(let a=0;a<m$;a++){const c=`border${PC[a]}Radius`;let u=zS(e,c),d=zS(t,c);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||$S(u)===$S(d)?(n[c]=Math.max(kt(jS(u),jS(d),r),0),(ci.test(d)||ci.test(u))&&(n[c]+="%")):n[c]=d}(e.rotate||t.rotate)&&(n.rotate=kt(e.rotate||0,t.rotate||0,r))}function zS(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const y$=RC(0,.5,kA),v$=RC(.5,.95,vr);function RC(n,e,t){return r=>r<n?0:r>e?1:t(Ec(n,e,r))}function b$(n,e,t){const r=gn(n)?n:La(n);return r.start(n0("",r,e,t)),r.animation}function Mc(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}const w$=(n,e)=>n.depth-e.depth;class S${constructor(){this.children=[],this.isDirty=!1}add(e){jy(this.children,e),this.isDirty=!0}remove(e){$y(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(w$),this.isDirty=!1,this.children.forEach(e)}}function x$(n,e){const t=An.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(ws(r),n(s-e))};return ht.setup(r,!0),()=>ws(r)}function uh(n){return gn(n)?n.get():n}class A${constructor(){this.members=[]}add(e){jy(this.members,e),e.scheduleRender()}remove(e){if($y(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();const i=r.options.layoutDependency,s=e.options.layoutDependency;i!==void 0&&s!==void 0&&i===s||(e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:c}=e.options;c===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const dh={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Nm=["","X","Y","Z"],C$=1e3;let k$=0;function Om(n,e,t,r){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),r&&(r[n]=0))}function MC(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=ZA(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:s}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",ht,!(i||s))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&MC(r)}function DC({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},c=e?.()){this.id=k$++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(_$),this.nodes.forEach(D$),this.nodes.forEach(I$),this.nodes.forEach(P$)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new S$)}addEventListener(a,c){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Uy),this.eventHandlers.get(a).add(c)}notifyListeners(a,...c){const u=this.eventHandlers.get(a);u&&u.notify(...c)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=lC(a)&&!Ej(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||c)&&(this.isLayoutDirty=!0),n){let f,p=0;const g=()=>this.root.updateBlockedByResize=!1;ht.read(()=>{p=window.innerWidth}),n(a,()=>{const y=window.innerWidth;y!==p&&(p=y,this.root.updateBlockedByResize=!0,f&&f(),f=x$(g,250),dh.hasAnimatedSinceResize&&(dh.hasAnimatedSinceResize=!1,this.nodes.forEach(HS)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||B$,{onLayoutAnimationStart:b,onLayoutAnimationComplete:x}=d.getProps(),A=!this.targetLayout||!_C(this.targetLayout,y),T=!p&&g;if(this.options.layoutRoot||this.resumeFrom||T||p&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...t0(w,"layout"),onPlay:b,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(f,T)}else p||HS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ws(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(L$),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&MC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(VS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(US);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(M$),this.nodes.forEach(T$),this.nodes.forEach(E$)):this.nodes.forEach(US),this.clearAllSnapshots();const c=An.now();rn.delta=di(0,1e3/60,c-rn.timestamp),rn.timestamp=c,rn.isProcessing=!0,_m.update.process(rn),_m.preRender.process(rn),_m.render.process(rn),rn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,o0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(R$),this.sharedNodes.forEach(F$)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ht.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ht.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Cn(this.snapshot.measuredBox.x)&&!Cn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Wt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(c=!1),c&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!EC(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;a&&this.instance&&(c||Xs(this.latestValues)||f)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return a&&(u=this.removeTransform(u)),j$(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Wt();const c=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some($$))){const{scroll:d}=this.root;d&&(pa(c.x,d.offset.x),pa(c.y,d.offset.y))}return c}removeElementScroll(a){const c=Wt();if(Dr(c,a),this.scroll?.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:p}=d;d!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&Dr(c,a),pa(c.x,f.offset.x),pa(c.y,f.offset.y))}return c}applyTransform(a,c=!1){const u=Wt();Dr(u,a);for(let d=0;d<this.path.length;d++){const f=this.path[d];!c&&f.options.layoutScroll&&f.scroll&&f!==f.root&&ma(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Xs(f.latestValues)&&ma(u,f.latestValues)}return Xs(this.latestValues)&&ma(u,this.latestValues),u}removeTransform(a){const c=Wt();Dr(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!Xs(d.latestValues))continue;Hg(d.latestValues)&&d.updateSnapshot();const f=Wt(),p=d.measurePageBox();Dr(f,p),IS(c,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return Xs(this.latestValues)&&IS(c,this.latestValues),c}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!this.layout||!(f||p))return;this.resolvedRelativeTargetAt=rn.timestamp;const g=this.getClosestProjectingParent();g&&this.linkedParentVersion!==g.layoutVersion&&!g.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(g&&g.layout?this.createRelativeTarget(g,this.layout.layoutBox,g.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Wt(),this.targetWithTransforms=Wt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),c$(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Dr(this.target,this.layout.layoutBox),mC(this.target,this.targetDelta)):Dr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?this.createRelativeTarget(g,this.target,g.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Hg(this.parent.latestValues)||pC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,c,u){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wt(),this.relativeTargetOrigin=Wt(),Ph(this.relativeTargetOrigin,c,u),Dr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===rn.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Dr(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;Bj(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Wt());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ES(this.prevProjectionDelta.x,this.projectionDelta.x),ES(this.prevProjectionDelta.y,this.projectionDelta.y)),mc(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!BS(this.projectionDelta.x,this.prevProjectionDelta.x)||!BS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=fa(),this.projectionDelta=fa(),this.projectionDeltaWithTransform=fa()}setAnimationOrigin(a,c=!1){const u=this.snapshot,d=u?u.latestValues:{},f={...this.latestValues},p=fa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const g=Wt(),y=u?u.source:void 0,w=this.layout?this.layout.source:void 0,b=y!==w,x=this.getStack(),A=!x||x.members.length<=1,T=!!(b&&!A&&this.options.crossfade===!0&&!this.path.some(O$));this.animationProgress=0;let k;this.mixTargetDelta=R=>{const P=R/1e3;WS(p.x,a.x,P),WS(p.y,a.y,P),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ph(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),N$(this.relativeTarget,this.relativeTargetOrigin,g,P),k&&f$(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Wt()),Dr(k,this.relativeTarget)),b&&(this.animationValues=f,g$(f,d,this.latestValues,P,T,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ws(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ht.update(()=>{dh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=La(0)),this.currentAnimation=b$(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),a.onUpdate&&a.onUpdate(c)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(C$),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:c,target:u,layout:d,latestValues:f}=a;if(!(!c||!u||!d)){if(this!==a&&this.layout&&d&&IC(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||Wt();const p=Cn(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+p;const g=Cn(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+g}Dr(c,u),ma(c,f),mc(this.projectionDeltaWithTransform,this.layoutCorrected,c,f)}}registerSharedNode(a,c){this.sharedNodes.has(a)||this.sharedNodes.set(a,new A$),this.sharedNodes.get(a).add(c);const d=c.options.initialPromotionConfig;c.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(c):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:c,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let c=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const d={};u.z&&Om("z",a,d,this.animationValues);for(let f=0;f<Nm.length;f++)Om(`rotate${Nm[f]}`,a,d,this.animationValues),Om(`skew${Nm[f]}`,a,d,this.animationValues);a.render();for(const f in d)a.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);a.scheduleRender()}applyProjectionStyles(a,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=uh(c?.pointerEvents)||"",a.transform=u?u(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=uh(c?.pointerEvents)||""),this.hasProjected&&!Xs(this.latestValues)&&(a.transform=u?u({},""):"none",this.hasProjected=!1);return}a.visibility="";const f=d.animationValues||d.latestValues;this.applyTransformsToTarget();let p=p$(this.projectionDeltaWithTransform,this.treeScale,f);u&&(p=u(f,p)),a.transform=p;const{x:g,y}=this.projectionDelta;a.transformOrigin=`${g.origin*100}% ${y.origin*100}% 0`,d.animationValues?a.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:a.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const w in Gg){if(f[w]===void 0)continue;const{correct:b,applyTo:x,isCSSVariable:A}=Gg[w],T=p==="none"?f[w]:b(f[w],d);if(x){const k=x.length;for(let R=0;R<k;R++)a[x[R]]=T}else A?this.options.visualElement.renderState.vars[w]=T:a[w]=T}this.options.layoutId&&(a.pointerEvents=d===this?uh(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(VS),this.root.sharedNodes.clear()}}}function T$(n){n.updateLayout()}function E$(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=n.layout,{animationType:i}=n.options,s=e.source!==n.layout.source;i==="size"?fr(f=>{const p=s?e.measuredBox[f]:e.layoutBox[f],g=Cn(p);p.min=t[f].min,p.max=p.min+g}):IC(i,e.layoutBox,t)&&fr(f=>{const p=s?e.measuredBox[f]:e.layoutBox[f],g=Cn(t[f]);p.max=p.min+g,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[f].max=n.relativeTarget[f].min+g)});const a=fa();mc(a,t,e.layoutBox);const c=fa();s?mc(c,n.applyTransform(r,!0),e.measuredBox):mc(c,t,e.layoutBox);const u=!EC(a);let d=!1;if(!n.resumeFrom){const f=n.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:g}=f;if(p&&g){const y=Wt();Ph(y,e.layoutBox,p.layoutBox);const w=Wt();Ph(w,t,g.layoutBox),_C(y,w)||(d=!0),f.options.layoutRoot&&(n.relativeTarget=w,n.relativeTargetOrigin=y,n.relativeParent=f)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function _$(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function P$(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function R$(n){n.clearSnapshot()}function VS(n){n.clearMeasurements()}function US(n){n.isLayoutDirty=!1}function M$(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function HS(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function D$(n){n.resolveTargetDelta()}function I$(n){n.calcProjection()}function L$(n){n.resetSkewAndRotation()}function F$(n){n.removeLeadSnapshot()}function WS(n,e,t){n.translate=kt(e.translate,0,t),n.scale=kt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function GS(n,e,t,r){n.min=kt(e.min,t.min,r),n.max=kt(e.max,t.max,r)}function N$(n,e,t,r){GS(n.x,e.x,t.x,r),GS(n.y,e.y,t.y,r)}function O$(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const B$={duration:.45,ease:[.4,0,.1,1]},XS=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),KS=XS("applewebkit/")&&!XS("chrome/")?Math.round:vr;function YS(n){n.min=KS(n.min),n.max=KS(n.max)}function j$(n){YS(n.x),YS(n.y)}function IC(n,e,t){return n==="position"||n==="preserve-aspect"&&!l$(OS(e),OS(t),.2)}function $$(n){return n!==n.root&&n.scroll?.wasRoot}const z$=DC({attachResizeListener:(n,e)=>Mc(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Bm={current:void 0},LC=DC({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Bm.current){const n=new z$({});n.mount(window),n.setOptions({layoutScroll:!0}),Bm.current=n}return Bm.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),h0=E.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function qS(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function V$(...n){return e=>{let t=!1;const r=n.map(i=>{const s=qS(i,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():qS(n[i],null)}}}}function U$(...n){return E.useCallback(V$(...n),n)}class H$ extends E.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=t.offsetParent,i=Vg(r)&&r.offsetWidth||0,s=Vg(r)&&r.offsetHeight||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=i-a.width-a.left,a.bottom=s-a.height-a.top}return null}componentDidUpdate(){}render(){return this.props.children}}function W$({children:n,isPresent:e,anchorX:t,anchorY:r,root:i}){const s=E.useId(),a=E.useRef(null),c=E.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:u}=E.useContext(h0),d=n.props?.ref??n?.ref,f=U$(a,d);return E.useInsertionEffect(()=>{const{width:p,height:g,top:y,left:w,right:b,bottom:x}=c.current;if(e||!a.current||!p||!g)return;const A=t==="left"?`left: ${w}`:`right: ${b}`,T=r==="bottom"?`bottom: ${x}`:`top: ${y}`;a.current.dataset.motionPopId=s;const k=document.createElement("style");u&&(k.nonce=u);const R=i??document.head;return R.appendChild(k),k.sheet&&k.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${g}px !important;
            ${A}px !important;
            ${T}px !important;
          }
        `),()=>{R.contains(k)&&R.removeChild(k)}},[e]),C.jsx(H$,{isPresent:e,childRef:a,sizeRef:c,children:E.cloneElement(n,{ref:f})})}const G$=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a,anchorX:c,anchorY:u,root:d})=>{const f=By(X$),p=E.useId();let g=!0,y=E.useMemo(()=>(g=!1,{id:p,initial:e,isPresent:t,custom:i,onExitComplete:w=>{f.set(w,!0);for(const b of f.values())if(!b)return;r&&r()},register:w=>(f.set(w,!1),()=>f.delete(w))}),[t,f,r]);return s&&g&&(y={...y}),E.useMemo(()=>{f.forEach((w,b)=>f.set(b,!1))},[t]),E.useEffect(()=>{!t&&!f.size&&r&&r()},[t]),a==="popLayout"&&(n=C.jsx(W$,{isPresent:t,anchorX:c,anchorY:u,root:d,children:n})),C.jsx(Uc.Provider,{value:y,children:n})};function X$(){return new Map}function FC(n=!0){const e=E.useContext(Uc);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:i}=e,s=E.useId();E.useEffect(()=>{if(n)return i(s)},[n]);const a=E.useCallback(()=>n&&r&&r(s),[s,r,n]);return!t&&r?[!1,a]:[!0]}function K$(){return Y$(E.useContext(Uc))}function Y$(n){return n===null?!0:n.isPresent}const Md=n=>n.key||"";function QS(n){const e=[];return E.Children.forEach(n,t=>{E.isValidElement(t)&&e.push(t)}),e}const NC=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:c="left",anchorY:u="top",root:d})=>{const[f,p]=FC(a),g=E.useMemo(()=>QS(n),[n]),y=a&&!f?[]:g.map(Md),w=E.useRef(!0),b=E.useRef(g),x=By(()=>new Map),A=E.useRef(new Set),[T,k]=E.useState(g),[R,P]=E.useState(g);pA(()=>{w.current=!1,b.current=g;for(let F=0;F<R.length;F++){const z=Md(R[F]);y.includes(z)?(x.delete(z),A.current.delete(z)):x.get(z)!==!0&&x.set(z,!1)}},[R,y.length,y.join("-")]);const M=[];if(g!==T){let F=[...g];for(let z=0;z<R.length;z++){const q=R[z],U=Md(q);y.includes(U)||(F.splice(z,0,q),M.push(q))}return s==="wait"&&M.length&&(F=M),P(QS(F)),k(g),null}const{forceRender:L}=E.useContext(Oy);return C.jsx(C.Fragment,{children:R.map(F=>{const z=Md(F),q=a&&!f?!1:g===R||y.includes(z),U=()=>{if(A.current.has(z))return;if(A.current.add(z),x.has(z))x.set(z,!0);else return;let be=!0;x.forEach(xe=>{xe||(be=!1)}),be&&(L?.(),P(b.current),a&&p?.(),r&&r())};return C.jsx(G$,{isPresent:q,initial:!w.current||t?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:d,onExitComplete:q?void 0:U,anchorX:c,anchorY:u,children:F},z)})})},OC=E.createContext({strict:!1}),ZS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let JS=!1;function q$(){if(JS)return;const n={};for(const e in ZS)n[e]={isEnabled:t=>ZS[e].some(r=>!!t[r])};dC(n),JS=!0}function BC(){return q$(),Lj()}function Q$(n){const e=BC();for(const t in n)e[t]={...e[t],...n[t]};dC(e)}const Z$=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Rh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||Z$.has(n)}let jC=n=>!Rh(n);function J$(n){typeof n=="function"&&(jC=e=>e.startsWith("on")?!Rh(e):n(e))}try{J$(require("@emotion/is-prop-valid").default)}catch{}function ez(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(jC(i)||t===!0&&Rh(i)||!e&&!Rh(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}const Yh=E.createContext({});function tz(n,e){if(Kh(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Rc(t)?t:void 0,animate:Rc(r)?r:void 0}}return n.inherit!==!1?e:{}}function nz(n){const{initial:e,animate:t}=tz(n,E.useContext(Yh));return E.useMemo(()=>({initial:e,animate:t}),[ex(e),ex(t)])}function ex(n){return Array.isArray(n)?n.join(" "):n}const f0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function $C(n,e,t){for(const r in e)!gn(e[r])&&!vC(r,t)&&(n[r]=e[r])}function rz({transformTemplate:n},e){return E.useMemo(()=>{const t=f0();return u0(t,e,n),Object.assign({},t.vars,t.style)},[e])}function iz(n,e){const t=n.style||{},r={};return $C(r,t,n),Object.assign(r,rz(n,e)),r}function sz(n,e){const t={},r=iz(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const zC=()=>({...f0(),attrs:{}});function oz(n,e,t,r){const i=E.useMemo(()=>{const s=zC();return bC(s,e,SC(r),n.transformTemplate,n.style),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};$C(s,n.style,n),i.style={...s,...i.style}}return i}const az=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function p0(n){return typeof n!="string"||n.includes("-")?!1:!!(az.indexOf(n)>-1||/[A-Z]/u.test(n))}function lz(n,e,t,{latestValues:r},i,s=!1,a){const u=(a??p0(n)?oz:sz)(e,r,i,n),d=ez(e,typeof n=="string",s),f=n!==E.Fragment?{...d,...u,ref:t}:{},{children:p}=e,g=E.useMemo(()=>gn(p)?p.get():p,[p]);return E.createElement(n,{...f,children:g})}function cz({scrapeMotionValuesFromProps:n,createRenderState:e},t,r,i){return{latestValues:uz(t,r,i,n),renderState:e()}}function uz(n,e,t,r){const i={},s=r(n,{});for(const g in s)i[g]=uh(s[g]);let{initial:a,animate:c}=n;const u=Kh(n),d=uC(n);e&&d&&!u&&n.inherit!==!1&&(a===void 0&&(a=e.initial),c===void 0&&(c=e.animate));let f=t?t.initial===!1:!1;f=f||a===!1;const p=f?c:a;if(p&&typeof p!="boolean"&&!Xh(p)){const g=Array.isArray(p)?p:[p];for(let y=0;y<g.length;y++){const w=r0(n,g[y]);if(w){const{transitionEnd:b,transition:x,...A}=w;for(const T in A){let k=A[T];if(Array.isArray(k)){const R=f?k.length-1:0;k=k[R]}k!==null&&(i[T]=k)}for(const T in b)i[T]=b[T]}}}return i}const VC=n=>(e,t)=>{const r=E.useContext(Yh),i=E.useContext(Uc),s=()=>cz(n,e,r,i);return t?s():By(s)},dz=VC({scrapeMotionValuesFromProps:d0,createRenderState:f0}),hz=VC({scrapeMotionValuesFromProps:xC,createRenderState:zC}),fz=Symbol.for("motionComponentSymbol");function pz(n,e,t){const r=E.useRef(t);E.useInsertionEffect(()=>{r.current=t});const i=E.useRef(null);return E.useCallback(s=>{s&&n.onMount?.(s),e&&(s?e.mount(s):e.unmount());const a=r.current;if(typeof a=="function")if(s){const c=a(s);typeof c=="function"&&(i.current=c)}else i.current?(i.current(),i.current=null):a(s);else a&&(a.current=s)},[e])}const UC=E.createContext({});function ec(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function mz(n,e,t,r,i,s){const{visualElement:a}=E.useContext(Yh),c=E.useContext(OC),u=E.useContext(Uc),d=E.useContext(h0),f=d.reducedMotion,p=d.skipAnimations,g=E.useRef(null),y=E.useRef(!1);r=r||c.renderer,!g.current&&r&&(g.current=r(n,{visualState:e,parent:a,props:t,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f,skipAnimations:p,isSVG:s}),y.current&&g.current&&(g.current.manuallyAnimateOnMount=!0));const w=g.current,b=E.useContext(UC);w&&!w.projection&&i&&(w.type==="html"||w.type==="svg")&&gz(g.current,t,i,b);const x=E.useRef(!1);E.useInsertionEffect(()=>{w&&x.current&&w.update(t,u)});const A=t[QA],T=E.useRef(!!A&&!window.MotionHandoffIsComplete?.(A)&&window.MotionHasOptimisedAnimation?.(A));return pA(()=>{y.current=!0,w&&(x.current=!0,window.MotionIsMounted=!0,w.updateFeatures(),w.scheduleRenderMicrotask(),T.current&&w.animationState&&w.animationState.animateChanges())}),E.useEffect(()=>{w&&(!T.current&&w.animationState&&w.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(A)}),T.current=!1),w.enteringChildren=void 0)}),w}function gz(n,e,t,r){const{layoutId:i,layout:s,drag:a,dragConstraints:c,layoutScroll:u,layoutRoot:d,layoutCrossfade:f}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:HC(n.parent)),n.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||c&&ec(c),visualElement:n,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:u,layoutRoot:d})}function HC(n){if(n)return n.options.allowProjection!==!1?n.projection:HC(n.parent)}function jm(n,{forwardMotionProps:e=!1,type:t}={},r,i){r&&Q$(r);const s=t?t==="svg":p0(n),a=s?hz:dz;function c(d,f){let p;const g={...E.useContext(h0),...d,layoutId:yz(d)},{isStatic:y}=g,w=nz(d),b=a(d,y);if(!y&&fA){vz();const x=bz(g);p=x.MeasureLayout,w.visualElement=mz(n,b,g,i,x.ProjectionNode,s)}return C.jsxs(Yh.Provider,{value:w,children:[p&&w.visualElement?C.jsx(p,{visualElement:w.visualElement,...g}):null,lz(n,d,pz(b,w.visualElement,f),b,y,e,s)]})}c.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const u=E.forwardRef(c);return u[fz]=n,u}function yz({layoutId:n}){const e=E.useContext(Oy).id;return e&&n!==void 0?e+"-"+n:n}function vz(n,e){E.useContext(OC).strict}function bz(n){const e=BC(),{drag:t,layout:r}=e;if(!t&&!r)return{};const i={...t,...r};return{MeasureLayout:t?.isEnabled(n)||r?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function wz(n,e){if(typeof Proxy>"u")return jm;const t=new Map,r=(s,a)=>jm(s,a,n,e),i=(s,a)=>r(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?r:(t.has(a)||t.set(a,jm(a,void 0,n,e)),t.get(a))})}const Sz=(n,e)=>e.isSVG??p0(n)?new Qj(e):new Wj(e,{allowProjection:n!==E.Fragment});class xz extends Cs{constructor(e){super(e),e.animationState||(e.animationState=n$(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Xh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Az=0;class Cz extends Cs{constructor(){super(...arguments),this.id=Az++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const kz={animation:{Feature:xz},exit:{Feature:Cz}};function Xc(n){return{point:{x:n.pageX,y:n.pageY}}}const Tz=n=>e=>a0(e)&&n(e,Xc(e));function gc(n,e,t,r){return Mc(n,e,Tz(t),r)}const WC=({current:n})=>n?n.ownerDocument.defaultView:null,tx=(n,e)=>Math.abs(n-e);function Ez(n,e){const t=tx(n.x,e.x),r=tx(n.y,e.y);return Math.sqrt(t**2+r**2)}const nx=new Set(["auto","scroll"]);class GC{constructor(e,t,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3,element:c}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=y=>{this.handleScroll(y.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=zm(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,b=Ez(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!b)return;const{point:x}=y,{timestamp:A}=rn;this.history.push({...x,timestamp:A});const{onStart:T,onMove:k}=this.handlers;w||(T&&T(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,y)},this.handlePointerMove=(y,w)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=$m(w,this.transformPagePoint),ht.update(this.updatePoint,!0)},this.handlePointerUp=(y,w)=>{this.end();const{onEnd:b,onSessionEnd:x,resumeAnimation:A}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=zm(y.type==="pointercancel"?this.lastMoveEventInfo:$m(w,this.transformPagePoint),this.history);this.startEvent&&b&&b(y,T),x&&x(y,T)},!a0(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const u=Xc(e),d=$m(u,this.transformPagePoint),{point:f}=d,{timestamp:p}=rn;this.history=[{...f,timestamp:p}];const{onSessionStart:g}=t;g&&g(e,zm(d,this.history)),this.removeListeners=Hc(gc(this.contextWindow,"pointermove",this.handlePointerMove),gc(this.contextWindow,"pointerup",this.handlePointerUp),gc(this.contextWindow,"pointercancel",this.handlePointerUp)),c&&this.startScrollTracking(c)}startScrollTracking(e){let t=e.parentElement;for(;t;){const r=getComputedStyle(t);(nx.has(r.overflowX)||nx.has(r.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const t=this.scrollPositions.get(e);if(!t)return;const r=e===window,i=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},s={x:i.x-t.x,y:i.y-t.y};s.x===0&&s.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=s.x,this.lastMoveEventInfo.point.y+=s.y):this.history.length>0&&(this.history[0].x-=s.x,this.history[0].y-=s.y),this.scrollPositions.set(e,i),ht.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ws(this.updatePoint)}}function $m(n,e){return e?{point:e(n.point)}:n}function rx(n,e){return{x:n.x-e.x,y:n.y-e.y}}function zm({point:n},e){return{point:n,delta:rx(n,XC(e)),offset:rx(n,_z(e)),velocity:Pz(e,.1)}}function _z(n){return n[0]}function XC(n){return n[n.length-1]}function Pz(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=XC(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>Bi(e)));)t--;if(!r)return{x:0,y:0};const s=yr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Rz(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?kt(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?kt(t,n,r.max):Math.min(n,t)),n}function ix(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function Mz(n,{top:e,left:t,bottom:r,right:i}){return{x:ix(n.x,t,i),y:ix(n.y,e,r)}}function sx(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function Dz(n,e){return{x:sx(n.x,e.x),y:sx(n.y,e.y)}}function Iz(n,e){let t=.5;const r=Cn(n),i=Cn(e);return i>r?t=Ec(e.min,e.max-r,n.min):r>i&&(t=Ec(n.min,n.max-i,e.min)),di(0,1,t)}function Lz(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Xg=.35;function Fz(n=Xg){return n===!1?n=0:n===!0&&(n=Xg),{x:ox(n,"left","right"),y:ox(n,"top","bottom")}}function ox(n,e,t){return{min:ax(n,e),max:ax(n,t)}}function ax(n,e){return typeof n=="number"?n:n[e]||0}const Nz=new WeakMap;class Oz{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Wt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=p=>{t?(this.stopAnimation(),this.snapToCursor(Xc(p).point)):this.pauseAnimation()},a=(p,g)=>{this.stopAnimation();const{drag:y,dragPropagation:w,onDragStart:b}=this.getProps();if(y&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=bj(y),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fr(A=>{let T=this.getAxisMotionValue(A).get()||0;if(ci.test(T)){const{projection:k}=this.visualElement;if(k&&k.layout){const R=k.layout.layoutBox[A];R&&(T=Cn(R)*(parseFloat(T)/100))}}this.originPoint[A]=T}),b&&ht.update(()=>b(p,g),!1,!0),jg(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},c=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g;const{dragPropagation:y,dragDirectionLock:w,onDirectionLock:b,onDrag:x}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:A}=g;if(w&&this.currentDirection===null){this.currentDirection=Bz(A),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",g.point,A),this.updateAxis("y",g.point,A),this.visualElement.render(),x&&ht.update(()=>x(p,g),!1,!0)},u=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g,this.stop(p,g),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>fr(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:f}=this.getProps();this.panSession=new GC(e,{onSessionStart:s,onStart:a,onMove:c,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:r,contextWindow:WC(this.visualElement),element:this.visualElement.current})}stop(e,t){const r=e||this.latestPointerEvent,i=t||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:c}=this.getProps();c&&ht.postRender(()=>c(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!Dd(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=Rz(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&ec(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Mz(r.layoutBox,e):this.constraints=!1,this.elastic=Fz(t),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&fr(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=Lz(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!ec(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=jj(r,i.root,this.visualElement.getTransformPagePoint());let a=Dz(i.layout.layoutBox,s);if(t){const c=t(Nj(a));this.hasMutatedConstraints=!!c,c&&(a=fC(c))}return a}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},d=fr(f=>{if(!Dd(f,t,this.currentDirection))return;let p=u&&u[f]||{};a&&(p={min:0,max:0});const g=i?200:1e6,y=i?40:1e7,w={type:"inertia",velocity:r?e[f]:0,bounceStiffness:g,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(f,w)});return Promise.all(d).then(c)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return jg(this.visualElement,e),r.start(n0(e,r,0,t,this.visualElement,!1))}stopAnimation(){fr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){fr(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){fr(t=>{const{drag:r}=this.getProps();if(!Dd(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:a,max:c}=i.layout.layoutBox[t],u=s.get()||0;s.set(e[t]-kt(a,c,.5)+u)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!ec(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};fr(a=>{const c=this.getAxisMotionValue(a);if(c&&this.constraints!==!1){const u=c.get();i[a]=Iz({min:u,max:u},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),fr(a=>{if(!Dd(a,e,null))return;const c=this.getAxisMotionValue(a),{min:u,max:d}=this.constraints[a];c.set(kt(u,d,i[a]))})}addListeners(){if(!this.visualElement.current)return;Nz.set(this.visualElement,this);const e=this.visualElement.current,t=gc(e,"pointerdown",u=>{const{drag:d,dragListener:f=!0}=this.getProps(),p=u.target,g=p!==e&&Cj(p);d&&f&&!g&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();ec(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ht.read(r);const a=Mc(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(fr(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=u[f].translate,p.set(p.get()+u[f].translate))}),this.visualElement.render())}));return()=>{a(),t(),s(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=Xg,dragMomentum:c=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:c}}}function Dd(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function Bz(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class jz extends Cs{constructor(e){super(e),this.removeGroupControls=vr,this.removeListeners=vr,this.controls=new Oz(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vr}update(){const{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Vm=n=>(e,t)=>{n&&ht.update(()=>n(e,t),!1,!0)};class $z extends Cs{constructor(){super(...arguments),this.removePointerDownListener=vr}onPointerDown(e){this.session=new GC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:WC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Vm(e),onStart:Vm(t),onMove:Vm(r),onEnd:(s,a)=>{delete this.session,i&&ht.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=gc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Um=!1;class zz extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),Um&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),dh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,{projection:a}=r;return a&&(a.isPresent=s,e.layoutDependency!==t&&a.setOptions({...a.options,layoutDependency:t}),Um=!0,i||e.layoutDependency!==t||t===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||ht.postRender(()=>{const c=a.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),o0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;Um=!0,i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function KC(n){const[e,t]=FC(),r=E.useContext(Oy);return C.jsx(zz,{...n,layoutGroup:r,switchLayoutGroup:E.useContext(UC),isPresent:e,safeToRemove:t})}const Vz={pan:{Feature:$z},drag:{Feature:jz,ProjectionNode:LC,MeasureLayout:KC}};function lx(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,s=r[i];s&&ht.postRender(()=>s(e,Xc(e)))}class Uz extends Cs{mount(){const{current:e}=this.node;e&&(this.unmount=wj(e,(t,r)=>(lx(this.node,r,"Start"),i=>lx(this.node,i,"End"))))}unmount(){}}class Hz extends Cs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Hc(Mc(this.node.current,"focus",()=>this.onFocus()),Mc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function cx(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),s=r[i];s&&ht.postRender(()=>s(e,Xc(e)))}class Wz extends Cs{mount(){const{current:e}=this.node;e&&(this.unmount=Tj(e,(t,r)=>(cx(this.node,r,"Start"),(i,{success:s})=>cx(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Kg=new WeakMap,Hm=new WeakMap,Gz=n=>{const e=Kg.get(n.target);e&&e(n)},Xz=n=>{n.forEach(Gz)};function Kz({root:n,...e}){const t=n||document;Hm.has(t)||Hm.set(t,{});const r=Hm.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Xz,{root:n,...e})),r[i]}function Yz(n,e,t){const r=Kz(e);return Kg.set(n,t),r.observe(n),()=>{Kg.delete(n),r.unobserve(n)}}const qz={some:0,all:1};class Qz extends Cs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,a={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:qz[i]},c=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),g=d?f:p;g&&g(u)};return Yz(this.node.current,a,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(Zz(e,t))&&this.startObserver()}unmount(){}}function Zz({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const Jz={inView:{Feature:Qz},tap:{Feature:Wz},focus:{Feature:Hz},hover:{Feature:Uz}},e3={layout:{ProjectionNode:LC,MeasureLayout:KC}},t3={...kz,...Jz,...Vz,...e3},n3=wz(t3,Sz),r3=(n,e)=>n.find(t=>t.id===e);function ux(n,e){const t=YC(n,e),r=t?n[t].findIndex(i=>i.id===e):-1;return{position:t,index:r}}function YC(n,e){for(const[t,r]of Object.entries(n))if(r3(r,e))return t}function i3(n){const e=n.includes("right"),t=n.includes("left");let r="center";return e&&(r="flex-end"),t&&(r="flex-start"),{display:"flex",flexDirection:"column",alignItems:r}}function s3(n){const t=n==="top"||n==="bottom"?"0 auto":void 0,r=n.includes("top")?"env(safe-area-inset-top, 0px)":void 0,i=n.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,s=n.includes("left")?void 0:"env(safe-area-inset-right, 0px)",a=n.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:t,top:r,bottom:i,right:s,left:a}}var o3=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,a3=tA(function(n){return o3.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),l3=a3,c3=function(e){return e!=="theme"},dx=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?l3:c3},hx=function(e,t,r){var i;if(t){var s=t.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(a){return e.__emotion_forwardProp(a)&&s(a)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},u3=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return Ry(t,r,i),oA(function(){return My(t,r,i)}),null},d3=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,a;t!==void 0&&(s=t.label,a=t.target);var c=hx(e,t,r),u=c||dx(i),d=!u("as");return function(){var f=arguments,p=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&p.push("label:"+s+";"),f[0]==null||f[0].raw===void 0)p.push.apply(p,f);else{var g=f[0];p.push(g[0]);for(var y=f.length,w=1;w<y;w++)p.push(f[w],g[w])}var b=Iy(function(x,A,T){var k=d&&x.as||i,R="",P=[],M=x;if(x.theme==null){M={};for(var L in x)M[L]=x[L];M.theme=E.useContext(Ia)}typeof x.className=="string"?R=rA(A.registered,P,x.className):x.className!=null&&(R=x.className+" ");var F=Wh(p.concat(P),A.registered,M);R+=A.key+"-"+F.name,a!==void 0&&(R+=" "+a);var z=d&&c===void 0?dx(k):u,q={};for(var U in x)d&&U==="as"||z(U)&&(q[U]=x[U]);return q.className=R,T&&(q.ref=T),E.createElement(E.Fragment,null,E.createElement(u3,{cache:A,serialized:F,isStringTag:typeof k=="string"}),E.createElement(k,q))});return b.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",b.defaultProps=e.defaultProps,b.__emotion_real=b,b.__emotion_base=i,b.__emotion_styles=p,b.__emotion_forwardProp=c,Object.defineProperty(b,"toString",{value:function(){return"."+a}}),b.withComponent=function(x,A){var T=n(x,Ah({},t,A,{shouldForwardProp:hx(b,A,!0)}));return T.apply(void 0,p)},b}},h3=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Yg=d3.bind(null);h3.forEach(function(n){Yg[n]=Yg(n)});const f3=new Set([...S2,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),p3=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function m3(n){return(p3.has(n)||!f3.has(n))&&n[0]!=="_"}const g3=_P(Yg),y3=({baseStyle:n})=>e=>{const{theme:t,css:r,__css:i,sx:s,...a}=e,[c]=LP(a,A2),u=oi(n,e),d=wP({},i,u,T1(c),s),f=I1(d)(e.theme);return r?[f,r]:f};function Wm(n,e){const{baseStyle:t,...r}=e??{};r.shouldForwardProp||(r.shouldForwardProp=m3);const i=y3({baseStyle:t}),s=g3(n,r)(i);return E.forwardRef(function(u,d){const{children:f,...p}=u,{colorMode:g,forced:y}=Ny(),w=y?g:void 0;return E.createElement(s,{ref:d,"data-theme":w,...p},f)})}function v3(){const n=new Map;return new Proxy(Wm,{apply(e,t,r){return Wm(...r)},get(e,t){return n.has(t)||n.set(t,Wm(t)),n.get(t)}})}const Oe=v3(),b3={initial:n=>{const{position:e}=n,t=["top","bottom"].includes(e)?"y":"x";let r=["top-right","bottom-right"].includes(e)?1:-1;return e==="bottom"&&(r=1),{opacity:0,[t]:r*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},qC=E.memo(n=>{const{id:e,message:t,onCloseComplete:r,onRequestRemove:i,requestClose:s=!1,position:a="bottom",duration:c=5e3,containerStyle:u,motionVariants:d=b3,toastSpacing:f="0.5rem"}=n,[p,g]=E.useState(c),y=K$();bw(()=>{y||r?.()},[y]),bw(()=>{g(c)},[c]);const w=()=>g(null),b=()=>g(c),x=()=>{y&&i()};E.useEffect(()=>{y&&s&&i()},[y,s,i]),$P(x,p);const A=E.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:f,...u}),[u,f]),T=E.useMemo(()=>i3(a),[a]);return C.jsx(n3.div,{layout:!0,className:"chakra-toast",variants:d,initial:"initial",animate:"animate",exit:"exit",onHoverStart:w,onHoverEnd:b,custom:{position:a},style:T,children:C.jsx(Oe.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:A,children:oi(t,{id:e,onClose:x})})})});qC.displayName="ToastComponent";function lt(n){return E.forwardRef(n)}var Gm,fx;function w3(){if(fx)return Gm;fx=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(s,a){if(s===a)return!0;if(s&&a&&typeof s=="object"&&typeof a=="object"){if(s.constructor!==a.constructor)return!1;var c,u,d;if(Array.isArray(s)){if(c=s.length,c!=a.length)return!1;for(u=c;u--!==0;)if(!i(s[u],a[u]))return!1;return!0}var f;if(e&&s instanceof Map&&a instanceof Map){if(s.size!==a.size)return!1;for(f=s.entries();!(u=f.next()).done;)if(!a.has(u.value[0]))return!1;for(f=s.entries();!(u=f.next()).done;)if(!i(u.value[1],a.get(u.value[0])))return!1;return!0}if(t&&s instanceof Set&&a instanceof Set){if(s.size!==a.size)return!1;for(f=s.entries();!(u=f.next()).done;)if(!a.has(u.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(a)){if(c=s.length,c!=a.length)return!1;for(u=c;u--!==0;)if(s[u]!==a[u])return!1;return!0}if(s.constructor===RegExp)return s.source===a.source&&s.flags===a.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof a.valueOf=="function")return s.valueOf()===a.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof a.toString=="function")return s.toString()===a.toString();if(d=Object.keys(s),c=d.length,c!==Object.keys(a).length)return!1;for(u=c;u--!==0;)if(!Object.prototype.hasOwnProperty.call(a,d[u]))return!1;if(n&&s instanceof Element)return!1;for(u=c;u--!==0;)if(!((d[u]==="_owner"||d[u]==="__v"||d[u]==="__o")&&s.$$typeof)&&!i(s[d[u]],a[d[u]]))return!1;return!0}return s!==s&&a!==a}return Gm=function(a,c){try{return i(a,c)}catch(u){if((u.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw u}},Gm}var S3=w3();const x3=Fh(S3);function A3(){const n=E.useContext(Ia);if(!n)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return n}function C3(){const n=Ny(),e=A3();return{...n,theme:e}}function k3(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>t!==void 0&&e!=="children"&&!E.isValidElement(t)))}function QC(n,e={}){const{styleConfig:t,...r}=e,{theme:i,colorMode:s}=C3(),a=n?E1(i,`components.${n}`):void 0,c=t||a,u=gr({theme:i,colorMode:s},c?.defaultProps??{},k3(r),(f,p)=>f?void 0:p),d=E.useRef({});if(c){const p=I2(c)(u);x3(d.current,p)||(d.current=p)}return d.current}function jr(n,e={}){return QC(n,e)}function fo(n,e={}){return QC(n,e)}const px={path:C.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[C.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),C.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),C.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},Kc=lt((n,e)=>{const{as:t,viewBox:r,color:i="currentColor",focusable:s=!1,children:a,className:c,__css:u,...d}=n,f=ut("chakra-icon",c),p=jr("Icon",n),g={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:i,...u,...p},y={ref:e,focusable:s,className:f,__css:g},w=r??px.viewBox;if(t&&typeof t!="string")return C.jsx(Oe.svg,{as:t,...y,...d});const b=a??px.path;return C.jsx(Oe.svg,{verticalAlign:"middle",viewBox:w,...y,...d,children:b})});Kc.displayName="Icon";function T3(n){return C.jsx(Kc,{viewBox:"0 0 24 24",...n,children:C.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function E3(n){return C.jsx(Kc,{viewBox:"0 0 24 24",...n,children:C.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function mx(n){return C.jsx(Kc,{viewBox:"0 0 24 24",...n,children:C.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}const _3=tO({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),Fa=lt((n,e)=>{const t=jr("Spinner",n),{label:r="Loading...",thickness:i="2px",speed:s="0.45s",emptyColor:a="transparent",className:c,...u}=vn(n),d=ut("chakra-spinner",c),f={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:i,borderBottomColor:a,borderLeftColor:a,animation:`${_3} ${s} linear infinite`,...t};return C.jsx(Oe.div,{ref:e,__css:f,className:d,...u,children:r&&C.jsx(Oe.span,{srOnly:!0,children:r})})});Fa.displayName="Spinner";const[P3,m0]=yn({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[R3,g0]=yn({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),ZC={info:{icon:E3,colorScheme:"blue"},warning:{icon:mx,colorScheme:"orange"},success:{icon:T3,colorScheme:"green"},error:{icon:mx,colorScheme:"red"},loading:{icon:Fa,colorScheme:"blue"}};function M3(n){return ZC[n].colorScheme}function D3(n){return ZC[n].icon}const JC=lt(function(e,t){const{status:r="info",addRole:i=!0,...s}=vn(e),a=e.colorScheme??M3(r),c=fo("Alert",{...e,colorScheme:a}),u={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...c.container};return C.jsx(P3,{value:{status:r},children:C.jsx(R3,{value:c,children:C.jsx(Oe.div,{"data-status":r,role:i?"alert":void 0,ref:t,...s,className:ut("chakra-alert",e.className),__css:u})})})});JC.displayName="Alert";function ek(n){const{status:e}=m0(),t=D3(e),r=g0(),i=e==="loading"?r.spinner:r.icon;return C.jsx(Oe.span,{display:"inherit","data-status":e,...n,className:ut("chakra-alert__icon",n.className),__css:i,children:n.children||C.jsx(t,{h:"100%",w:"100%"})})}ek.displayName="AlertIcon";const tk=lt(function(e,t){const r=g0(),{status:i}=m0();return C.jsx(Oe.div,{ref:t,"data-status":i,...e,className:ut("chakra-alert__title",e.className),__css:r.title})});tk.displayName="AlertTitle";const nk=lt(function(e,t){const{status:r}=m0(),i=g0(),s={display:"inline",...i.description};return C.jsx(Oe.div,{ref:t,"data-status":r,...e,className:ut("chakra-alert__desc",e.className),__css:s})});nk.displayName="AlertDescription";function I3(n){return C.jsx(Kc,{focusable:"false","aria-hidden":!0,...n,children:C.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}const rk=lt(function(e,t){const r=jr("CloseButton",e),{children:i,isDisabled:s,__css:a,...c}=vn(e),u={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return C.jsx(Oe.button,{type:"button","aria-label":"Close",ref:t,disabled:s,__css:{...u,...r,...a},...c,children:i||C.jsx(I3,{width:"1em",height:"1em"})})});rk.displayName="CloseButton";const L3=n=>{const{status:e,variant:t="solid",id:r,title:i,isClosable:s,onClose:a,description:c,colorScheme:u,icon:d}=n,f=r?{root:`toast-${r}`,title:`toast-${r}-title`,description:`toast-${r}-description`}:void 0;return C.jsxs(JC,{addRole:!1,status:e,variant:t,id:f?.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:u,children:[C.jsx(ek,{children:d}),C.jsxs(Oe.div,{flex:"1",maxWidth:"100%",children:[i&&C.jsx(tk,{id:f?.title,children:i}),c&&C.jsx(nk,{id:f?.description,display:"block",children:c})]}),s&&C.jsx(rk,{size:"sm",onClick:a,position:"absolute",insetEnd:1,top:1})]})};function F3(n={}){const{render:e,toastComponent:t=L3}=n;return i=>typeof e=="function"?e({...i,...n}):C.jsx(t,{...i,...n})}const N3={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},yc=O3(N3);function O3(n){let e=n;const t=new Set,r=i=>{e=i(e),t.forEach(s=>s())};return{getState:()=>e,subscribe:i=>(t.add(i),()=>{r(()=>n),t.delete(i)}),removeToast:(i,s)=>{r(a=>({...a,[s]:a[s].filter(c=>c.id!=i)}))},notify:(i,s)=>{const a=B3(i,s),{position:c,id:u}=a;return r(d=>{const p=c.includes("top")?[a,...d[c]??[]]:[...d[c]??[],a];return{...d,[c]:p}}),u},update:(i,s)=>{i&&r(a=>{const c={...a},{position:u,index:d}=ux(c,i);return u&&d!==-1&&(c[u][d]={...c[u][d],...s,message:F3(s)}),c})},closeAll:({positions:i}={})=>{r(s=>(i??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((u,d)=>(u[d]=s[d].map(f=>({...f,requestClose:!0})),u),{...s}))},close:i=>{r(s=>{const a=YC(s,i);return a?{...s,[a]:s[a].map(c=>c.id==i?{...c,requestClose:!0}:c)}:s})},isActive:i=>!!ux(yc.getState(),i).position}}let gx=0;function B3(n,e={}){gx+=1;const t=e.id??gx,r=e.position??"bottom";return{id:t,message:n,position:r,duration:e.duration,onCloseComplete:e.onCloseComplete,onRequestRemove:()=>yc.removeToast(String(t),r),status:e.status,requestClose:!1,containerStyle:e.containerStyle}}const[ik,j3]=yn({strict:!1,name:"PortalContext"}),y0="chakra-portal",$3=".chakra-portal",z3=n=>C.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:n.zIndex,top:0,left:0,right:0},children:n.children}),V3=n=>{const{appendToParentPortal:e,children:t}=n,[r,i]=E.useState(null),s=E.useRef(null),[,a]=E.useState({});E.useEffect(()=>a({}),[]);const c=j3(),u=pO();fg(()=>{if(!r)return;const f=r.ownerDocument,p=e?c??f.body:f.body;if(!p)return;s.current=f.createElement("div"),s.current.className=y0,p.appendChild(s.current),a({});const g=s.current;return()=>{p.contains(g)&&p.removeChild(g)}},[r]);const d=u?.zIndex?C.jsx(z3,{zIndex:u?.zIndex,children:t}):t;return s.current?A1.createPortal(C.jsx(ik,{value:s.current,children:d}),s.current):C.jsx("span",{ref:f=>{f&&i(f)}})},U3=n=>{const{children:e,containerRef:t,appendToParentPortal:r}=n,i=t.current,s=i??(typeof window<"u"?document.body:void 0),a=E.useMemo(()=>{const u=i?.ownerDocument.createElement("div");return u&&(u.className=y0),u},[i]),[,c]=E.useState({});return fg(()=>c({}),[]),fg(()=>{if(!(!a||!s))return s.appendChild(a),()=>{s.removeChild(a)}},[a,s]),s&&a?A1.createPortal(C.jsx(ik,{value:r?a:null,children:e}),a):null};function Yc(n){const e={appendToParentPortal:!0,...n},{containerRef:t,...r}=e;return t?C.jsx(U3,{containerRef:t,...r}):C.jsx(V3,{...r})}Yc.className=y0;Yc.selector=$3;Yc.displayName="Portal";const[H3]=yn({name:"ToastOptionsContext",strict:!1}),W3=n=>{const e=E.useSyncExternalStore(yc.subscribe,yc.getState,yc.getState),{motionVariants:t,component:r=qC,portalProps:i,animatePresenceProps:s}=n,c=Object.keys(e).map(u=>{const d=e[u];return C.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${u}`,id:`chakra-toast-manager-${u}`,style:s3(u),children:C.jsx(NC,{...s,initial:!1,children:d.map(f=>C.jsx(r,{motionVariants:t,...f},f.id))})},u)});return C.jsx(Yc,{...i,children:c})},G3=n=>function({children:t,theme:r=n,toastOptions:i,...s}){return C.jsxs(mO,{theme:r,...s,children:[C.jsx(H3,{value:i?.defaultOptions,children:t}),C.jsx(W3,{...i})]})},X3=G3(K1);function yx(n){return n.sort((e,t)=>{const r=e.compareDocumentPosition(t);if(r&Node.DOCUMENT_POSITION_FOLLOWING||r&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(r&Node.DOCUMENT_POSITION_PRECEDING||r&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(r&Node.DOCUMENT_POSITION_DISCONNECTED||r&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}const K3=n=>typeof n=="object"&&"nodeType"in n&&n.nodeType===Node.ELEMENT_NODE;function vx(n,e,t){let r=n+1;return t&&r>=e&&(r=0),r}function bx(n,e,t){let r=n-1;return t&&r<0&&(r=e),r}const Xm=typeof window<"u"?E.useLayoutEffect:E.useEffect,wx=n=>n;var Y3=Object.defineProperty,q3=(n,e,t)=>e in n?Y3(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Pt=(n,e,t)=>(q3(n,typeof e!="symbol"?e+"":e,t),t);class Q3{constructor(){Pt(this,"descendants",new Map),Pt(this,"register",e=>{if(e!=null)return K3(e)?this.registerNode(e):t=>{this.registerNode(t,e)}}),Pt(this,"unregister",e=>{this.descendants.delete(e);const t=yx(Array.from(this.descendants.keys()));this.assignIndex(t)}),Pt(this,"destroy",()=>{this.descendants.clear()}),Pt(this,"assignIndex",e=>{this.descendants.forEach(t=>{const r=e.indexOf(t.node);t.index=r,t.node.dataset.index=t.index.toString()})}),Pt(this,"count",()=>this.descendants.size),Pt(this,"enabledCount",()=>this.enabledValues().length),Pt(this,"values",()=>Array.from(this.descendants.values()).sort((t,r)=>t.index-r.index)),Pt(this,"enabledValues",()=>this.values().filter(e=>!e.disabled)),Pt(this,"item",e=>{if(this.count()!==0)return this.values()[e]}),Pt(this,"enabledItem",e=>{if(this.enabledCount()!==0)return this.enabledValues()[e]}),Pt(this,"first",()=>this.item(0)),Pt(this,"firstEnabled",()=>this.enabledItem(0)),Pt(this,"last",()=>this.item(this.descendants.size-1)),Pt(this,"lastEnabled",()=>{const e=this.enabledValues().length-1;return this.enabledItem(e)}),Pt(this,"indexOf",e=>e?this.descendants.get(e)?.index??-1:-1),Pt(this,"enabledIndexOf",e=>e==null?-1:this.enabledValues().findIndex(t=>t.node.isSameNode(e))),Pt(this,"next",(e,t=!0)=>{const r=vx(e,this.count(),t);return this.item(r)}),Pt(this,"nextEnabled",(e,t=!0)=>{const r=this.item(e);if(!r)return;const i=this.enabledIndexOf(r.node),s=vx(i,this.enabledCount(),t);return this.enabledItem(s)}),Pt(this,"prev",(e,t=!0)=>{const r=bx(e,this.count()-1,t);return this.item(r)}),Pt(this,"prevEnabled",(e,t=!0)=>{const r=this.item(e);if(!r)return;const i=this.enabledIndexOf(r.node),s=bx(i,this.enabledCount()-1,t);return this.enabledItem(s)}),Pt(this,"registerNode",(e,t)=>{if(!e||this.descendants.has(e))return;const r=Array.from(this.descendants.keys()).concat(e),i=yx(r);t?.disabled&&(t.disabled=!!t.disabled);const s={node:e,index:-1,...t};this.descendants.set(e,s),this.assignIndex(i)})}}function Z3(){const[n,e]=yn({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});return[n,e,()=>{const i=E.useRef(new Q3);return Xm(()=>()=>i.current.destroy()),i.current},i=>{const s=e(),[a,c]=E.useState(-1),u=E.useRef(null);Xm(()=>()=>{u.current&&s.unregister(u.current)},[]),Xm(()=>{if(!u.current)return;const f=Number(u.current.dataset.index);a!=f&&!Number.isNaN(f)&&c(f)});const d=wx(i?s.register(i):s.register);return{descendants:s,index:a,enabledIndex:s.enabledIndexOf(u.current),register:bs(d,u)}}]}const jn=lt(function(e,t){const r=jr("Badge",e),{className:i,...s}=vn(e);return C.jsx(Oe.span,{ref:t,className:ut("chakra-badge",e.className),...s,__css:{display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle",...r}})});jn.displayName="Badge";const Ne=Oe("div");Ne.displayName="Box";const[AU,J3]=yn({strict:!1,name:"ButtonGroupContext"});function tc(n){const{children:e,className:t,...r}=n,i=E.isValidElement(e)?E.cloneElement(e,{"aria-hidden":!0,focusable:!1}):e,s=ut("chakra-button__icon",t);return C.jsx(Oe.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...r,className:s,children:i})}tc.displayName="ButtonIcon";function qg(n){const{label:e,placement:t,spacing:r="0.5rem",children:i=C.jsx(Fa,{color:"currentColor",width:"1em",height:"1em"}),className:s,__css:a,...c}=n,u=ut("chakra-button__spinner",s),d=t==="start"?"marginEnd":"marginStart",f=E.useMemo(()=>({display:"flex",alignItems:"center",position:e?"relative":"absolute",[d]:e?r:0,fontSize:"1em",lineHeight:"normal",...a}),[a,e,d,r]);return C.jsx(Oe.div,{className:u,...c,__css:f,children:i})}qg.displayName="ButtonSpinner";function e5(n){const[e,t]=E.useState(!n);return{ref:E.useCallback(s=>{s&&t(s.tagName==="BUTTON")},[]),type:e?"button":void 0}}const sk=lt((n,e)=>{const t=J3(),r=jr("Button",{...t,...n}),{isDisabled:i=t?.isDisabled,isLoading:s,isActive:a,children:c,leftIcon:u,rightIcon:d,loadingText:f,iconSpacing:p="0.5rem",type:g,spinner:y,spinnerPlacement:w="start",className:b,as:x,shouldWrapChildren:A,...T}=vn(n),k=E.useMemo(()=>{const L={...r?._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...r,...!!t&&{_focus:L}}},[r,t]),{ref:R,type:P}=e5(x),M={rightIcon:d,leftIcon:u,iconSpacing:p,children:c,shouldWrapChildren:A};return C.jsxs(Oe.button,{disabled:i||s,ref:jP(e,R),as:x,type:g??P,"data-active":mr(a),"data-loading":mr(s),__css:k,className:ut("chakra-button",b),...T,children:[s&&w==="start"&&C.jsx(qg,{className:"chakra-button__spinner--start",label:f,placement:"start",spacing:p,children:y}),s?f||C.jsx(Oe.span,{opacity:0,children:C.jsx(Sx,{...M})}):C.jsx(Sx,{...M}),s&&w==="end"&&C.jsx(qg,{className:"chakra-button__spinner--end",label:f,placement:"end",spacing:p,children:y})]})});sk.displayName="Button";function Sx(n){const{leftIcon:e,rightIcon:t,children:r,iconSpacing:i,shouldWrapChildren:s}=n;return s?C.jsxs("span",{style:{display:"contents"},children:[e&&C.jsx(tc,{marginEnd:i,children:e}),r,t&&C.jsx(tc,{marginStart:i,children:t})]}):C.jsxs(C.Fragment,{children:[e&&C.jsx(tc,{marginEnd:i,children:e}),r,t&&C.jsx(tc,{marginStart:i,children:t})]})}const[t5]=dO("Card"),n5=lt(function(e,t){const{className:r,children:i,direction:s="column",justify:a,align:c,...u}=vn(e),d=fo("Card",e);return C.jsx(Oe.div,{ref:t,className:ut("chakra-card",r),__css:{display:"flex",flexDirection:s,justifyContent:a,alignItems:c,position:"relative",minWidth:0,wordWrap:"break-word",...d.container},...u,children:C.jsx(t5,{value:d,children:i})})}),[r5,i5]=yn({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[s5,ok]=yn({strict:!1,name:"FormControlContext"});function o5(n){const{id:e,isRequired:t,isInvalid:r,isDisabled:i,isReadOnly:s,...a}=n,c=E.useId(),u=e||`field-${c}`,d=`${u}-label`,f=`${u}-feedback`,p=`${u}-helptext`,[g,y]=E.useState(!1),[w,b]=E.useState(!1),[x,A]=E.useState(!1),T=E.useCallback((L={},F=null)=>({id:p,...L,ref:bs(F,z=>{z&&b(!0)})}),[p]),k=E.useCallback((L={},F=null)=>({...L,ref:F,"data-focus":mr(x),"data-disabled":mr(i),"data-invalid":mr(r),"data-readonly":mr(s),id:L.id!==void 0?L.id:d,htmlFor:L.htmlFor!==void 0?L.htmlFor:u}),[u,i,x,r,s,d]),R=E.useCallback((L={},F=null)=>({id:f,...L,ref:bs(F,z=>{z&&y(!0)}),"aria-live":"polite"}),[f]),P=E.useCallback((L={},F=null)=>({...L,...a,ref:F,role:"group","data-focus":mr(x),"data-disabled":mr(i),"data-invalid":mr(r),"data-readonly":mr(s)}),[a,i,x,r,s]),M=E.useCallback((L={},F=null)=>({...L,ref:F,role:"presentation","aria-hidden":!0,children:L.children||"*"}),[]);return{isRequired:!!t,isInvalid:!!r,isReadOnly:!!s,isDisabled:!!i,isFocused:!!x,onFocus:()=>A(!0),onBlur:()=>A(!1),hasFeedbackText:g,setHasFeedbackText:y,hasHelpText:w,setHasHelpText:b,id:u,labelId:d,feedbackId:f,helpTextId:p,htmlProps:a,getHelpTextProps:T,getErrorMessageProps:R,getRootProps:P,getLabelProps:k,getRequiredIndicatorProps:M}}const a5=lt(function(e,t){const r=fo("Form",e),i=vn(e),{getRootProps:s,htmlProps:a,...c}=o5(i),u=ut("chakra-form-control",e.className);return C.jsx(s5,{value:c,children:C.jsx(r5,{value:r,children:C.jsx(Oe.div,{...s({},t),className:u,__css:r.container})})})});a5.displayName="FormControl";const l5=lt(function(e,t){const r=ok(),i=i5(),s=ut("chakra-form__helper-text",e.className);return C.jsx(Oe.div,{...r?.getHelpTextProps(e,t),__css:i.helperText,className:s})});l5.displayName="FormHelperText";function v0(n){const{isDisabled:e,isInvalid:t,isReadOnly:r,isRequired:i,...s}=c5(n);return{...s,disabled:e,readOnly:r,required:i,"aria-invalid":am(t),"aria-required":am(i),"aria-readonly":am(r)}}function c5(n){const e=ok(),{id:t,disabled:r,readOnly:i,required:s,isRequired:a,isInvalid:c,isReadOnly:u,isDisabled:d,onFocus:f,onBlur:p,...g}=n,y=n["aria-describedby"]?[n["aria-describedby"]]:[];return e?.hasFeedbackText&&e?.isInvalid&&y.push(e.feedbackId),e?.hasHelpText&&y.push(e.helpTextId),{...g,"aria-describedby":y.join(" ")||void 0,id:t??e?.id,isDisabled:r??d??e?.isDisabled,isReadOnly:i??u??e?.isReadOnly,isRequired:s??a??e?.isRequired,isInvalid:c??e?.isInvalid,onFocus:Ii(e?.onFocus,f),onBlur:Ii(e?.onBlur,p)}}const u5=new Set(["dark","light","system"]);function d5(n){let e=n;return u5.has(e)||(e="light"),e}function h5(n={}){const{initialColorMode:e="light",type:t="localStorage",storageKey:r="chakra-ui-color-mode"}=n,i=d5(e),s=t==="cookie",a=`(function(){try{var a=function(o){var l="(prefers-color-scheme: dark)",v=window.matchMedia(l).matches?"dark":"light",e=o==="system"?v:o,d=document.documentElement,m=document.body,i="chakra-ui-light",n="chakra-ui-dark",s=e==="dark";return m.classList.add(s?n:i),m.classList.remove(s?i:n),d.style.colorScheme=e,d.dataset.theme=e,e},u=a,h="${i}",r="${r}",t=document.cookie.match(new RegExp("(^| )".concat(r,"=([^;]+)"))),c=t?t[2]:null;c?a(c):document.cookie="".concat(r,"=").concat(a(h),"; max-age=31536000; path=/")}catch(a){}})();
  `,c=`(function(){try{var a=function(c){var v="(prefers-color-scheme: dark)",h=window.matchMedia(v).matches?"dark":"light",r=c==="system"?h:c,o=document.documentElement,s=document.body,l="chakra-ui-light",d="chakra-ui-dark",i=r==="dark";return s.classList.add(i?d:l),s.classList.remove(i?l:d),o.style.colorScheme=r,o.dataset.theme=r,r},n=a,m="${i}",e="${r}",t=localStorage.getItem(e);t?a(t):localStorage.setItem(e,a(m))}catch(a){}})();
  `;return`!${s?a:c}`.trim()}function f5(n={}){const{nonce:e}=n;return C.jsx("script",{id:"chakra-script",nonce:e,dangerouslySetInnerHTML:{__html:h5(n)}})}const Jt=lt(function(e,t){const{className:r,centerContent:i,...s}=vn(e),a=jr("Container",e);return C.jsx(Oe.div,{ref:t,className:ut("chakra-container",r),...s,__css:{...a,...i&&{display:"flex",flexDirection:"column",alignItems:"center"}}})});Jt.displayName="Container";const ak=lt(function(e,t){const{borderLeftWidth:r,borderBottomWidth:i,borderTopWidth:s,borderRightWidth:a,borderWidth:c,borderStyle:u,borderColor:d,...f}=jr("Divider",e),{className:p,orientation:g="horizontal",__css:y,...w}=vn(e),b={vertical:{borderLeftWidth:r||a||c||"1px",height:"100%"},horizontal:{borderBottomWidth:i||s||c||"1px",width:"100%"}};return C.jsx(Oe.hr,{ref:t,"aria-orientation":g,...w,__css:{...f,border:"0",borderColor:d,borderStyle:u,...b[g],...y},className:ut("chakra-divider",p)})});ak.displayName="Divider";function nc(n){return typeof n=="function"}function p5(...n){return e=>n.reduce((t,r)=>r(t),e)}const m5=n=>function(...t){let r=[...t],i=t[t.length-1];return iN(i)&&r.length>1?r=r.slice(0,r.length-1):i=n,p5(...r.map(s=>a=>nc(s)?s(a):y5(a,s)))(i)},g5=m5(K1);function y5(...n){return gr({},...n,lk)}function lk(n,e,t,r){if((nc(n)||nc(e))&&Object.prototype.hasOwnProperty.call(r,t))return(...i)=>{const s=nc(n)?n(...i):n,a=nc(e)?e(...i):e;return gr({},s,a,lk)};if(Tn(n)&&dg(e)||dg(n)&&Tn(e))return e}const Or=lt(function(e,t){const{htmlSize:r,...i}=e,s=fo("Input",i),a=vn(i),c=v0(a),u=ut("chakra-input",e.className);return C.jsx(Oe.input,{size:r,...c,__css:s.field,ref:t,className:u})});Or.displayName="Input";Or.id="Input";const hh=lt(function(e,t){const r=jr("Link",e),{className:i,isExternal:s,...a}=vn(e);return C.jsx(Oe.a,{target:s?"_blank":void 0,rel:s?"noopener":void 0,ref:t,className:ut("chakra-link",i),...a,__css:r})});hh.displayName="Link";function v5(){const n=E.useRef(new Map),e=n.current,t=E.useCallback((i,s,a,c)=>{n.current.set(a,{type:s,el:i,options:c}),i.addEventListener(s,a,c)},[]),r=E.useCallback((i,s,a,c)=>{i.removeEventListener(s,a,c),n.current.delete(a)},[]);return E.useEffect(()=>()=>{e.forEach((i,s)=>{r(i.el,i.type,s,i.options)})},[r,e]),{add:t,remove:r}}function Km(n){const e=n.composedPath?.()?.[0]??n.target,{tagName:t,isContentEditable:r}=e;return t!=="INPUT"&&t!=="TEXTAREA"&&r!==!0}function b5(n={}){const{ref:e,isDisabled:t,isFocusable:r,clickOnEnter:i=!0,clickOnSpace:s=!0,onMouseDown:a,onMouseUp:c,onClick:u,onKeyDown:d,onKeyUp:f,tabIndex:p,onMouseOver:g,onMouseLeave:y,...w}=n,[b,x]=E.useState(!0),[A,T]=E.useState(!1),k=v5(),R=G=>{G&&G.tagName!=="BUTTON"&&x(!1)},P=b?p:p||0,M=t&&!r,L=E.useCallback(G=>{if(t){G.stopPropagation(),G.preventDefault();return}G.currentTarget.focus(),u?.(G)},[t,u]),F=E.useCallback(G=>{A&&Km(G)&&(G.preventDefault(),G.stopPropagation(),T(!1),k.remove(document,"keyup",F,!1))},[A,k]),z=E.useCallback(G=>{if(d?.(G),t||G.defaultPrevented||G.metaKey||!Km(G.nativeEvent)||b)return;const Q=i&&G.key==="Enter";s&&G.key===" "&&(G.preventDefault(),T(!0)),Q&&(G.preventDefault(),G.currentTarget.click()),k.add(document,"keyup",F,!1)},[t,b,d,i,s,k,F]),q=E.useCallback(G=>{if(f?.(G),t||G.defaultPrevented||G.metaKey||!Km(G.nativeEvent)||b)return;s&&G.key===" "&&(G.preventDefault(),T(!1),G.currentTarget.click())},[s,b,t,f]),U=E.useCallback(G=>{G.button===0&&(T(!1),k.remove(document,"mouseup",U,!1))},[k]),be=E.useCallback(G=>{if(G.button!==0)return;if(t){G.stopPropagation(),G.preventDefault();return}b||T(!0),G.currentTarget.focus({preventScroll:!0}),k.add(document,"mouseup",U,!1),a?.(G)},[t,b,a,k,U]),xe=E.useCallback(G=>{G.button===0&&(b||T(!1),c?.(G))},[c,b]),ve=E.useCallback(G=>{if(t){G.preventDefault();return}g?.(G)},[t,g]),De=E.useCallback(G=>{A&&(G.preventDefault(),T(!1)),y?.(G)},[A,y]),re=bs(e,R);return b?{...w,ref:re,type:"button","aria-disabled":M?void 0:t,disabled:M,onClick:L,onMouseDown:a,onMouseUp:c,onKeyUp:f,onKeyDown:d,onMouseOver:g,onMouseLeave:y}:{...w,ref:re,role:"button","data-active":mr(A),"aria-disabled":t?"true":void 0,tabIndex:M?void 0:P,onClick:L,onMouseDown:be,onMouseUp:xe,onKeyUp:q,onKeyDown:z,onMouseOver:ve,onMouseLeave:De}}var w5=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Zo=new WeakMap,Id=new WeakMap,Ld={},Ym=0,ck=function(n){return n&&(n.host||ck(n.parentNode))},S5=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=ck(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},x5=function(n,e,t,r){var i=S5(e,Array.isArray(n)?n:[n]);Ld[t]||(Ld[t]=new WeakMap);var s=Ld[t],a=[],c=new Set,u=new Set(i),d=function(p){!p||c.has(p)||(c.add(p),d(p.parentNode))};i.forEach(d);var f=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(g){if(c.has(g))f(g);else try{var y=g.getAttribute(r),w=y!==null&&y!=="false",b=(Zo.get(g)||0)+1,x=(s.get(g)||0)+1;Zo.set(g,b),s.set(g,x),a.push(g),b===1&&w&&Id.set(g,!0),x===1&&g.setAttribute(t,"true"),w||g.setAttribute(r,"true")}catch(A){console.error("aria-hidden: cannot operate on ",g,A)}})};return f(e),c.clear(),Ym++,function(){a.forEach(function(p){var g=Zo.get(p)-1,y=s.get(p)-1;Zo.set(p,g),s.set(p,y),g||(Id.has(p)||p.removeAttribute(r),Id.delete(p)),y||p.removeAttribute(t)}),Ym--,Ym||(Zo=new WeakMap,Zo=new WeakMap,Id=new WeakMap,Ld={})}},A5=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=w5(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),x5(r,i,t,"aria-hidden")):function(){return null}},C5=Object.defineProperty,k5=(n,e,t)=>e in n?C5(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,T5=(n,e,t)=>(k5(n,e+"",t),t);class E5{constructor(){T5(this,"modals"),this.modals=new Set}add(e){return this.modals.add(e),this.modals.size}remove(e){this.modals.delete(e)}isTopModal(e){if(!e)return!1;const t=Array.from(this.modals)[this.modals.size-1];return e===t}}const Qg=new E5;function _5(n,e){const[t,r]=E.useState(0);return E.useEffect(()=>{const i=n.current;if(i){if(e){const s=Qg.add(i);r(s)}return()=>{Qg.remove(i),r(0)}}},[e,n]),t}function P5(n){const{isOpen:e,onClose:t,id:r,closeOnOverlayClick:i=!0,closeOnEsc:s=!0,useInert:a=!0,onOverlayClick:c,onEsc:u}=n,d=E.useRef(null),f=E.useRef(null),[p,g,y]=M5(r,"chakra-modal","chakra-modal--header","chakra-modal--body");R5(d,e&&a);const w=_5(d,e),b=E.useRef(null),x=E.useCallback(z=>{b.current=z.target},[]),A=E.useCallback(z=>{z.key==="Escape"&&(z.stopPropagation(),s&&t?.(),u?.())},[s,t,u]),[T,k]=E.useState(!1),[R,P]=E.useState(!1),M=E.useCallback((z={},q=null)=>({role:"dialog",...z,ref:bs(q,d),id:p,tabIndex:-1,"aria-modal":!0,"aria-labelledby":T?g:void 0,"aria-describedby":R?y:void 0,onClick:Ii(z.onClick,U=>U.stopPropagation())}),[y,R,p,g,T]),L=E.useCallback(z=>{z.stopPropagation(),b.current===z.target&&Qg.isTopModal(d.current)&&(i&&t?.(),c?.())},[t,i,c]),F=E.useCallback((z={},q=null)=>({...z,ref:bs(q,f),onClick:Ii(z.onClick,L),onKeyDown:Ii(z.onKeyDown,A),onMouseDown:Ii(z.onMouseDown,x)}),[A,x,L]);return{isOpen:e,onClose:t,headerId:g,bodyId:y,setBodyMounted:P,setHeaderMounted:k,dialogRef:d,overlayRef:f,getDialogProps:M,getDialogContainerProps:F,index:w}}function R5(n,e){const t=n.current;E.useEffect(()=>{if(!(!n.current||!e))return A5(n.current)},[e,n,t])}function M5(n,...e){const t=E.useId(),r=n||t;return E.useMemo(()=>e.map(i=>`${i}-${r}`),[r,e])}const[D5]=yn({name:"ModalStylesContext",errorMessage:`useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Modal />" `}),[I5]=yn({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),uk=n=>{const e={scrollBehavior:"outside",autoFocus:!0,trapFocus:!0,returnFocusOnClose:!0,blockScrollOnMount:!0,allowPinchZoom:!1,preserveScrollBarGap:!0,motionPreset:"scale",...n,lockFocusAcrossFrames:n.lockFocusAcrossFrames??!0},{portalProps:t,children:r,autoFocus:i,trapFocus:s,initialFocusRef:a,finalFocusRef:c,returnFocusOnClose:u,blockScrollOnMount:d,allowPinchZoom:f,preserveScrollBarGap:p,motionPreset:g,lockFocusAcrossFrames:y,animatePresenceProps:w,onCloseComplete:b}=e,x=fo("Modal",e),T={...P5(e),autoFocus:i,trapFocus:s,initialFocusRef:a,finalFocusRef:c,returnFocusOnClose:u,blockScrollOnMount:d,allowPinchZoom:f,preserveScrollBarGap:p,motionPreset:g,lockFocusAcrossFrames:y};return C.jsx(I5,{value:T,children:C.jsx(D5,{value:x,children:C.jsx(NC,{...w,onExitComplete:b,children:T.isOpen&&C.jsx(Yc,{...t,children:r})})})})};uk.displayName="Modal";const dk=lt(function(e,t){const{children:r,placeholder:i,className:s,...a}=e;return C.jsxs(Oe.select,{...a,ref:t,className:ut("chakra-select",s),children:[i&&C.jsx("option",{value:"",children:i}),r]})});dk.displayName="SelectField";const rc=lt((n,e)=>{const t=fo("Select",n),{rootProps:r,placeholder:i,icon:s,color:a,height:c,h:u,minH:d,minHeight:f,iconColor:p,iconSize:g,...y}=vn(n),[w,b]=IP(y,w2),x=v0(b),A={width:"100%",height:"fit-content",position:"relative",color:a},T={paddingEnd:"2rem",...t.field,_focus:{zIndex:"unset",...t.field?._focus}};return C.jsxs(Oe.div,{className:"chakra-select__wrapper",__css:A,...w,...r,children:[C.jsx(dk,{ref:e,height:u??c,minH:d??f,placeholder:i,...x,__css:T,children:n.children}),C.jsx(hk,{"data-disabled":mr(x.disabled),...(p||a)&&{color:p||a},__css:t.icon,...g&&{fontSize:g},children:s})]})});rc.displayName="Select";const L5=n=>C.jsx("svg",{viewBox:"0 0 24 24",...n,children:C.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),F5=Oe("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),hk=n=>{const{children:e=C.jsx(L5,{}),...t}=n,r=E.cloneElement(e,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return C.jsx(F5,{...t,className:"chakra-select__icon-wrapper",children:E.isValidElement(e)?r:null})};hk.displayName="SelectIcon";const fk=n=>C.jsx(Oe.div,{className:"chakra-stack__item",...n,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...n.__css}});fk.displayName="StackItem";function N5(n){const{spacing:e,direction:t}=n,r={column:{my:e,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:e,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:e,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:e,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":MP(t,i=>r[i])}}const b0=lt((n,e)=>{const{isInline:t,direction:r,align:i,justify:s,spacing:a="0.5rem",wrap:c,children:u,divider:d,className:f,shouldWrapChildren:p,...g}=n,y=t?"row":r??"column",w=E.useMemo(()=>N5({spacing:a,direction:y}),[a,y]),b=!!d,x=!p&&!b,A=E.useMemo(()=>{const k=k1(u);return x?k:k.map((R,P)=>{const M=typeof R.key<"u"?R.key:P,L=P+1===k.length,z=p?C.jsx(fk,{children:R},M):R;if(!b)return z;const q=E.cloneElement(d,{__css:w}),U=L?null:q;return C.jsxs(E.Fragment,{children:[z,U]},M)})},[d,w,b,x,p,u]),T=ut("chakra-stack",f);return C.jsx(Oe.div,{ref:e,display:"flex",alignItems:i,justifyContent:s,flexDirection:y,flexWrap:c,gap:b?void 0:a,className:T,...g,children:A})});b0.displayName="Stack";const ze=lt((n,e)=>C.jsx(b0,{align:"center",...n,direction:"row",ref:e}));ze.displayName="HStack";const Ge=lt((n,e)=>C.jsx(b0,{align:"center",...n,direction:"column",ref:e}));Ge.displayName="VStack";const[O5,B5,j5,$5]=Z3();function z5(n){const{defaultIndex:e,onChange:t,index:r,isManual:i,isLazy:s,lazyBehavior:a="unmount",orientation:c="horizontal",direction:u="ltr",...d}=n,[f,p]=E.useState(e??0),[g,y]=OP({defaultValue:e??0,value:r,onChange:t});E.useEffect(()=>{r!=null&&p(r)},[r]);const w=j5(),b=E.useId();return{id:`tabs-${n.id??b}`,selectedIndex:g,focusedIndex:f,setSelectedIndex:y,setFocusedIndex:p,isManual:i,isLazy:s,lazyBehavior:a,orientation:c,descendants:w,direction:u,htmlProps:d}}const[V5,qh]=yn({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"});function U5(n){const{focusedIndex:e,orientation:t,direction:r}=qh(),i=B5(),s=E.useCallback(a=>{const c=()=>{const T=i.nextEnabled(e);T&&T.node?.focus()},u=()=>{const T=i.prevEnabled(e);T&&T.node?.focus()},d=()=>{const T=i.firstEnabled();T&&T.node?.focus()},f=()=>{const T=i.lastEnabled();T&&T.node?.focus()},p=t==="horizontal",g=t==="vertical",y=a.key,w=r==="ltr"?"ArrowLeft":"ArrowRight",b=r==="ltr"?"ArrowRight":"ArrowLeft",A={[w]:()=>p&&u(),[b]:()=>p&&c(),ArrowDown:()=>g&&c(),ArrowUp:()=>g&&u(),Home:d,End:f}[y];A&&(a.preventDefault(),A(a))},[i,e,t,r]);return{...n,role:"tablist","aria-orientation":t,onKeyDown:Ii(n.onKeyDown,s)}}function H5(n){const{isDisabled:e=!1,isFocusable:t=!1,...r}=n,{setSelectedIndex:i,isManual:s,id:a,setFocusedIndex:c,selectedIndex:u}=qh(),{index:d,register:f}=$5({disabled:e&&!t}),p=d===u,g=()=>{i(d)},y=()=>{c(d),!s&&!(e&&t)&&i(d)};return{...b5({...r,ref:bs(f,n.ref),isDisabled:e,isFocusable:t,onClick:Ii(n.onClick,g)}),id:pk(a,d),role:"tab",tabIndex:p?0:-1,type:"button","aria-selected":p,"aria-controls":mk(a,d),onFocus:e?void 0:Ii(n.onFocus,y)}}const[W5,G5]=yn({});function X5(n){const e=qh(),{id:t,selectedIndex:r}=e,s=k1(n.children).map((a,c)=>E.createElement(W5,{key:a.key??c,value:{isSelected:c===r,id:mk(t,c),tabId:pk(t,c),selectedIndex:r}},a));return{...n,children:s}}function K5(n){const{children:e,...t}=n,{isLazy:r,lazyBehavior:i}=qh(),{isSelected:s,id:a,tabId:c}=G5(),u=E.useRef(!1);s&&(u.current=!0);const d=PP({wasSelected:u.current,isSelected:s,enabled:r,mode:i});return{tabIndex:0,...t,children:d?e:null,role:"tabpanel","aria-labelledby":c,hidden:!s,id:a}}function pk(n,e){return`${n}--tab-${e}`}function mk(n,e){return`${n}--tabpanel-${e}`}const[Y5,Qh]=yn({name:"TabsStylesContext",errorMessage:`useTabsStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tabs />" `}),w0=lt(function(e,t){const r=fo("Tabs",e),{children:i,className:s,...a}=vn(e),{htmlProps:c,descendants:u,...d}=z5(a),f=E.useMemo(()=>d,[d]),{isFitted:p,...g}=c,y={position:"relative",...r.root};return C.jsx(O5,{value:u,children:C.jsx(V5,{value:f,children:C.jsx(Y5,{value:r,children:C.jsx(Oe.div,{className:ut("chakra-tabs",s),ref:t,...g,__css:y,children:i})})})})});w0.displayName="Tabs";const Zs=lt(function(e,t){const r=Qh(),i=H5({...e,ref:t}),s={outline:"0",display:"flex",alignItems:"center",justifyContent:"center",...r.tab};return C.jsx(Oe.button,{...i,className:ut("chakra-tabs__tab",e.className),__css:s})});Zs.displayName="Tab";const S0=lt(function(e,t){const r=U5({...e,ref:t}),i=Qh(),s={display:"flex",...i.tablist};return C.jsx(Oe.div,{...r,className:ut("chakra-tabs__tablist",e.className),__css:s})});S0.displayName="TabList";const Js=lt(function(e,t){const r=K5({...e,ref:t}),i=Qh();return C.jsx(Oe.div,{outline:"0",...r,className:ut("chakra-tabs__tab-panel",e.className),__css:i.tabpanel})});Js.displayName="TabPanel";const x0=lt(function(e,t){const r=X5(e),i=Qh();return C.jsx(Oe.div,{...r,width:"100%",ref:t,className:ut("chakra-tabs__tab-panels",e.className),__css:i.tabpanels})});x0.displayName="TabPanels";const q5=["h","minH","height","minHeight"],Fi=lt((n,e)=>{const t=jr("Textarea",n),{className:r,rows:i,...s}=vn(n),a=v0(s),c=i?_1(t,q5):t;return C.jsx(Oe.textarea,{ref:e,rows:i,...a,className:ut("chakra-textarea",r),__css:c})});Fi.displayName="Textarea";const Be=lt(function(e,t){const r=jr("Heading",e),{className:i,...s}=vn(e);return C.jsx(Oe.h2,{ref:t,className:ut("chakra-heading",e.className),...s,__css:r})});Be.displayName="Heading";const Se=lt(function(e,t){const r=jr("Text",e),{className:i,align:s,decoration:a,casing:c,...u}=vn(e),d=T1({textAlign:e.align,textDecoration:e.decoration,textTransform:e.casing});return C.jsx(Oe.p,{ref:t,className:ut("chakra-text",e.className),...d,...u,__css:r})});Se.displayName="Text";const Q5=g5({config:{initialColorMode:"light",useSystemColorMode:!1},semanticTokens:{colors:{"figma.fg":{default:"gray.800",_dark:"white"},"figma.fg_muted":{default:"gray.600",_dark:"gray.400"},"figma.bgSubtle":{default:"gray.50",_dark:"gray.900"},"figma.default":{default:"white",_dark:"gray.800"},"figma.borderDefault":{default:"gray.200",_dark:"gray.700"}}}});function st(n){const{label:e,children:t,...r}=n;return Oc.createElement(sk,r,e??t)}function vt(n){const{cardVariant:e,variant:t,...r}=n;return Oc.createElement(n5,{...r,variant:e??t})}const qm={px:3,py:2,borderRadius:"md",fontWeight:500,"&.active":{bg:"teal.50",color:"teal.700"}};function Z5(){return C.jsxs(Ne,{minH:"100%",display:"flex",flexDirection:"column",bg:"figma.bgSubtle",children:[C.jsx(Ne,{as:"header",borderBottomWidth:"1px",borderColor:"figma.borderDefault",bg:"figma.default",py:3,children:C.jsx(Jt,{maxW:"1200px",children:C.jsxs(ze,{gap:6,align:"center",children:[C.jsx(Be,{size:"md",color:"figma.fg",fontWeight:"700",children:"User study"}),C.jsxs(ze,{as:"nav",gap:1,children:[C.jsx(hh,{as:Kd,to:"/",end:!0,color:"figma.fg_muted",_hover:{color:"figma.fg"},sx:qm,children:"Studies"}),C.jsx(hh,{as:Kd,to:"/user-needs",color:"figma.fg_muted",_hover:{color:"figma.fg"},sx:qm,children:"User needs"}),C.jsx(hh,{as:Kd,to:"/recruitment",color:"figma.fg_muted",_hover:{color:"figma.fg"},sx:qm,children:"Recruitment"})]})]})})}),C.jsx(Ne,{as:"main",flex:1,minH:0,display:"flex",flexDirection:"column",children:C.jsx(B_,{})})]})}const Sn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Zg=[.001,0,0,.001,0,0],Qm=1.35,Wn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},gs={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Dc="pdfjs_internal_editor_",Me={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},$e={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},J5={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Jg={TRIANGLES:1,LATTICE:2},Ht={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},fh={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ot={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},ra={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Zh={ERRORS:0,WARNINGS:1,INFOS:5},Ic={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},zl={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},e4={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Jh=Zh.WARNINGS;function t4(n){Number.isInteger(n)&&(Jh=n)}function n4(){return Jh}function ef(n){Jh>=Zh.INFOS&&console.info(`Info: ${n}`)}function Pe(n){Jh>=Zh.WARNINGS&&console.warn(`Warning: ${n}`)}function nt(n){throw new Error(n)}function et(n,e){n||nt(e)}function r4(n){switch(n?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function gk(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"&&(t.addDefaultProtocol&&n.startsWith("www.")&&n.match(/\./g)?.length>=2&&(n=`http://${n}`),t.tryConvertEncoding))try{n=c4(n)}catch{}const r=e?URL.parse(n,e):URL.parse(n);return r4(r)?r:null}function yk(n,e,t=!1){const r=URL.parse(n);return r?(r.hash=e,r.href):t&&gk(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Re(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const po=(function(){function e(t,r){this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e})();class xx extends po{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Zm extends po{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class ey extends po{constructor(e){super(e,"InvalidPDFException")}}class Mh extends po{constructor(e,t,r){super(e,"ResponseException"),this.status=t,this.missing=r}}class i4 extends po{constructor(e){super(e,"FormatError")}}class xs extends po{constructor(e){super(e,"AbortException")}}function s4(n){(typeof n!="object"||n?.length===void 0)&&nt("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),a=n.subarray(i,s);r.push(String.fromCharCode.apply(null,a))}return r.join("")}function tf(n){typeof n!="string"&&nt("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function o4(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function a4(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function l4(){try{return new Function(""),!0}catch{return!1}}class Gt{static get isLittleEndian(){return Re(this,"isLittleEndian",a4())}static get isEvalSupported(){return Re(this,"isEvalSupported",l4())}static get isOffscreenCanvasSupported(){return Re(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Re(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return Re(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return Re(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return Re(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){return Re(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const Jm=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));class ae{static makeHexColor(e,t,r){return`#${Jm[e]}${Jm[t]}${Jm[r]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,r=0){const i=e[r],s=e[r+1];e[r]=i*t[0]+s*t[2]+t[4],e[r+1]=i*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,r=0){const i=t[0],s=t[1],a=t[2],c=t[3],u=t[4],d=t[5];for(let f=0;f<6;f+=2){const p=e[r+f],g=e[r+f+1];e[r+f]=p*i+g*a+u,e[r+f+1]=p*s+g*c+d}}static applyInverseTransform(e,t){const r=e[0],i=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(r*t[3]-i*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-r*t[1]+i*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,r){const i=t[0],s=t[1],a=t[2],c=t[3],u=t[4],d=t[5],f=e[0],p=e[1],g=e[2],y=e[3];let w=i*f+u,b=w,x=i*g+u,A=x,T=c*p+d,k=T,R=c*y+d,P=R;if(s!==0||a!==0){const M=s*f,L=s*g,F=a*p,z=a*y;w+=F,A+=F,x+=z,b+=z,T+=M,P+=M,R+=L,k+=L}r[0]=Math.min(r[0],w,x,b,A),r[1]=Math.min(r[1],T,R,k,P),r[2]=Math.max(r[2],w,x,b,A),r[3]=Math.max(r[3],T,R,k,P)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const r=e[0],i=e[1],s=e[2],a=e[3],c=r**2+i**2,u=r*s+i*a,d=s**2+a**2,f=(c+d)/2,p=Math.sqrt(f**2-(c*d-u**2));t[0]=Math.sqrt(f+p||1),t[1]=Math.sqrt(f-p||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>a?null:[r,s,i,a]}static pointBoundingBox(e,t,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],t),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],t)}static rectBoundingBox(e,t,r,i,s){s[0]=Math.min(s[0],e,r),s[1]=Math.min(s[1],t,i),s[2]=Math.max(s[2],e,r),s[3]=Math.max(s[3],t,i)}static#e(e,t,r,i,s,a,c,u,d,f){if(d<=0||d>=1)return;const p=1-d,g=d*d,y=g*d,w=p*(p*(p*e+3*d*t)+3*g*r)+y*i,b=p*(p*(p*s+3*d*a)+3*g*c)+y*u;f[0]=Math.min(f[0],w),f[1]=Math.min(f[1],b),f[2]=Math.max(f[2],w),f[3]=Math.max(f[3],b)}static#t(e,t,r,i,s,a,c,u,d,f,p,g){if(Math.abs(d)<1e-12){Math.abs(f)>=1e-12&&this.#e(e,t,r,i,s,a,c,u,-p/f,g);return}const y=f**2-4*p*d;if(y<0)return;const w=Math.sqrt(y),b=2*d;this.#e(e,t,r,i,s,a,c,u,(-f+w)/b,g),this.#e(e,t,r,i,s,a,c,u,(-f-w)/b,g)}static bezierBoundingBox(e,t,r,i,s,a,c,u,d){d[0]=Math.min(d[0],e,c),d[1]=Math.min(d[1],t,u),d[2]=Math.max(d[2],e,c),d[3]=Math.max(d[3],t,u),this.#t(e,r,s,c,t,i,a,u,3*(-e+3*(r-s)+c),6*(e-2*r+s),3*(r-e),d),this.#t(e,r,s,c,t,i,a,u,3*(-t+3*(i-a)+u),6*(t-2*i+a),3*(i-t),d)}}function c4(n){return decodeURIComponent(escape(n))}let eg=null,Ax=null;function u4(n){return eg||(eg=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Ax=new Map([["","t"]])),n.replaceAll(eg,(e,t,r)=>t?t.normalize("NFKC"):Ax.get(r))}function vk(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),s4(n)}const ga="pdfjs_internal_id_";function d4(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[r,i,...s]=t;if(!n(r)&&!Number.isInteger(r)||!e(i))return!1;const a=s.length;let c=!0;switch(i.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;c=!1;break;default:return!1}for(const u of s)if(!(typeof u=="number"||c&&u===null))return!1;return!0}function sn(n,e,t){return Math.min(Math.max(n,e),t)}typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});class Lc{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function i(s){if(!s)return;let a=null;const c=s.name;if(c==="#text")a=s.value;else if(Lc.shouldBuildText(c))s?.attributes?.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&t.push({str:a}),!!s.children)for(const u of s.children)i(u)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class bk{static setupStorage(e,t,r,i,s){const a=i.getValue(t,{value:null});switch(r.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",c=>{i.setValue(t,{value:c.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(a.value===r.attributes.xfaOn?e.setAttribute("checked",!0):a.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",c=>{i.setValue(t,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",c=>{i.setValue(t,{value:c.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const c of r.children)c.attributes.value===a.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}e.addEventListener("input",c=>{const u=c.target.options,d=u.selectedIndex===-1?"":u[u.selectedIndex].value;i.setValue(t,{value:d})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:i,linkService:s}){const{attributes:a}=t,c=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[u,d]of Object.entries(a))if(d!=null)switch(u){case"class":d.length&&e.setAttribute(u,d.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",d);break;case"style":Object.assign(e.style,d);break;case"textContent":e.textContent=d;break;default:(!c||u!=="href"&&u!=="newWindow")&&e.setAttribute(u,d)}c&&s.addLinkAttributes(e,a.href,a.newWindow),r&&a.dataId&&this.setupStorage(e,a.dataId,t,r)}static render(e){const t=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:r});const c=s!=="richText",u=e.div;if(u.append(a),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;u.style.transform=p}c&&u.setAttribute("class","xfaLayer xfaFont");const d=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);a.append(p),c&&Lc.shouldBuildText(i.name)&&d.push(p)}return{textDivs:d}}const f=[[i,-1,a]];for(;f.length>0;){const[p,g,y]=f.at(-1);if(g+1===p.children.length){f.pop();continue}const w=p.children[++f.at(-1)[1]];if(w===null)continue;const{name:b}=w;if(b==="#text"){const A=document.createTextNode(w.value);d.push(A),y.append(A);continue}const x=w?.attributes?.xmlns?document.createElementNS(w.attributes.xmlns,b):document.createElement(b);if(y.append(x),w.attributes&&this.setAttributes({html:x,element:w,storage:t,intent:s,linkService:r}),w.children?.length>0)f.push([w,-1,x]);else if(w.value){const A=document.createTextNode(w.value);c&&Lc.shouldBuildText(b)&&d.push(A),x.append(A)}}for(const p of u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:d}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Ei="http://www.w3.org/2000/svg";class Na{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function qc(n,e="text"){if(ic(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class Qc{constructor({viewBox:e,userUnit:t,scale:r,rotation:i,offsetX:s=0,offsetY:a=0,dontFlip:c=!1}){this.viewBox=e,this.userUnit=t,this.scale=r,this.rotation=i,this.offsetX=s,this.offsetY=a,r*=t;const u=(e[2]+e[0])/2,d=(e[3]+e[1])/2;let f,p,g,y;switch(i%=360,i<0&&(i+=360),i){case 180:f=-1,p=0,g=0,y=1;break;case 90:f=0,p=1,g=1,y=0;break;case 270:f=0,p=-1,g=-1,y=0;break;case 0:f=1,p=0,g=0,y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(g=-g,y=-y);let w,b,x,A;f===0?(w=Math.abs(d-e[1])*r+s,b=Math.abs(u-e[0])*r+a,x=(e[3]-e[1])*r,A=(e[2]-e[0])*r):(w=Math.abs(u-e[0])*r+s,b=Math.abs(d-e[1])*r+a,x=(e[2]-e[0])*r,A=(e[3]-e[1])*r),this.transform=[f*r,p*r,g*r,y*r,w-f*r*u-g*r*d,b-p*r*u-y*r*d],this.width=x,this.height=A}get rawDims(){const e=this.viewBox;return Re(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new Qc({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){const r=[e,t];return ae.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const t=[e[0],e[1]];ae.applyTransform(t,this.transform);const r=[e[2],e[3]];return ae.applyTransform(r,this.transform),[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){const r=[e,t];return ae.applyInverseTransform(r,this.transform),r}}class A0 extends po{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function nf(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function C0(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function h4(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function f4(n,e="document.pdf"){if(typeof n!="string")return e;if(nf(n))return Pe('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=(c=>{try{return new URL(c)}catch{try{return new URL(decodeURIComponent(c))}catch{try{return new URL(c,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(c),"https://foo.bar")}catch{return null}}}}})(n);if(!r)return e;const i=c=>{try{let u=decodeURIComponent(c);return u.includes("/")?(u=u.split("/").at(-1),u.test(/^\.pdf$/i)?u:c):u}catch{return c}},s=/\.pdf$/i,a=r.pathname.split("/").at(-1);if(s.test(a))return i(a);if(r.searchParams.size>0){const c=Array.from(r.searchParams.values()).reverse();for(const d of c)if(s.test(d))return i(d);const u=Array.from(r.searchParams.keys()).reverse();for(const d of u)if(s.test(d))return i(d)}if(r.hash){const u=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(u)return i(u[0])}return e}class Cx{started=Object.create(null);times=[];time(e){e in this.started&&Pe(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Pe(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(t)} ${s-i}ms
`);return e.join("")}}function ic(n,e){const t=e?URL.parse(n,e):URL.parse(n);return t?.protocol==="http:"||t?.protocol==="https:"}function br(n){n.preventDefault()}function Mt(n){n.preventDefault(),n.stopPropagation()}function p4(n){console.log("Deprecated API usage: "+n)}class ty{static#e;static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const t=this.#e.exec(e);if(!t)return null;const r=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let c=parseInt(t[5],10);c=c>=0&&c<=59?c:0;let u=parseInt(t[6],10);u=u>=0&&u<=59?u:0;const d=t[7]||"Z";let f=parseInt(t[8],10);f=f>=0&&f<=23?f:0;let p=parseInt(t[9],10)||0;return p=p>=0&&p<=59?p:0,d==="-"?(a+=f,c+=p):d==="+"&&(a-=f,c-=p),new Date(Date.UTC(r,i,s,a,c,u))}}function m4(n,{scale:e=1,rotation:t=0}){const{width:r,height:i}=n.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new Qc({viewBox:s,userUnit:1,scale:e,rotation:t})}function Zc(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Pe(`Not a valid color format: "${n}"`),[0,0,0])}function g4(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,Zc(r))}e.remove()}function Ct(n){const{a:e,b:t,c:r,d:i,e:s,f:a}=n.getTransform();return[e,t,r,i,s,a]}function Jr(n){const{a:e,b:t,c:r,d:i,e:s,f:a}=n.getTransform().invertSelf();return[e,t,r,i,s,a]}function co(n,e,t=!1,r=!0){if(e instanceof Qc){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:a}=n,c=Gt.isCSSRoundSupported,u=`var(--total-scale-factor) * ${i}px`,d=`var(--total-scale-factor) * ${s}px`,f=c?`round(down, ${u}, var(--scale-round-x))`:`calc(${u})`,p=c?`round(down, ${d}, var(--scale-round-y))`:`calc(${d})`;!t||e.rotation%180===0?(a.width=f,a.height=p):(a.width=p,a.height=f)}r&&n.setAttribute("data-main-rotation",e.rotation)}class hi{constructor(){const{pixelRatio:e}=hi;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,r,i,s=-1){let a=1/0,c=1/0,u=1/0;r=hi.capPixels(r,s),r>0&&(a=Math.sqrt(r/(e*t))),i!==-1&&(c=i/e,u=i/t);const d=Math.min(a,c,u);return this.sx>d||this.sy>d?(this.sx=d,this.sy=d,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,r):r}return e}}const ny=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class y4{static get isDarkMode(){return Re(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class v4{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:r}=window.getComputedStyle(e);return e.remove(),Re(this,"commentForegroundColor",Zc(r))}}function b4(n,e,t,r){r=Math.min(Math.max(r??1,0),1);const i=255*(1-r);return n=Math.round(n*r+i),e=Math.round(e*r+i),t=Math.round(t*r+i),[n,e,t]}function kx(n,e){const t=n[0]/255,r=n[1]/255,i=n[2]/255,s=Math.max(t,r,i),a=Math.min(t,r,i),c=(s+a)/2;if(s===a)e[0]=e[1]=0;else{const u=s-a;switch(e[1]=c<.5?u/(s+a):u/(2-s-a),s){case t:e[0]=((r-i)/u+(r<i?6:0))*60;break;case r:e[0]=((i-t)/u+2)*60;break;case i:e[0]=((t-r)/u+4)*60;break}}e[2]=c}function ry(n,e){const t=n[0],r=n[1],i=n[2],s=(1-Math.abs(2*i-1))*r,a=s*(1-Math.abs(t/60%2-1)),c=i-s/2;switch(Math.floor(t/60)){case 0:e[0]=s+c,e[1]=a+c,e[2]=c;break;case 1:e[0]=a+c,e[1]=s+c,e[2]=c;break;case 2:e[0]=c,e[1]=s+c,e[2]=a+c;break;case 3:e[0]=c,e[1]=a+c,e[2]=s+c;break;case 4:e[0]=a+c,e[1]=c,e[2]=s+c;break;case 5:case 6:e[0]=s+c,e[1]=c,e[2]=a+c;break}}function Tx(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function Ex(n,e,t){ry(n,t),t.map(Tx);const r=.2126*t[0]+.7152*t[1]+.0722*t[2];ry(e,t),t.map(Tx);const i=.2126*t[0]+.7152*t[1]+.0722*t[2];return r>i?(r+.05)/(i+.05):(i+.05)/(r+.05)}const _x=new Map;function w4(n,e){const t=n[0]+n[1]*256+n[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let r=_x.get(t);if(r)return r;const i=new Float32Array(9),s=i.subarray(0,3),a=i.subarray(3,6);kx(n,a);const c=i.subarray(6,9);kx(e,c);const u=c[2]<.5,d=u?12:4.5;if(a[2]=u?Math.sqrt(a[2]):1-Math.sqrt(1-a[2]),Ex(a,c,s)<d){let f,p;u?(f=a[2],p=1):(f=0,p=a[2]);const g=.005;for(;p-f>g;){const y=a[2]=(f+p)/2;u===Ex(a,c,s)<d?f=y:p=y}a[2]=u?p:f}return ry(a,s),r=ae.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),_x.set(t,r),r}function wk({html:n,dir:e,className:t},r){const i=document.createDocumentFragment();if(typeof n=="string"){const s=document.createElement("p");s.dir=e||"auto";const a=n.split(/(?:\r\n?|\n)/);for(let c=0,u=a.length;c<u;++c){const d=a[c];s.append(document.createTextNode(d)),c<u-1&&s.append(document.createElement("br"))}i.append(s)}else bk.render({xfaHtml:n,div:i,intent:"richText"});i.firstElementChild.classList.add("richText",t),r.append(i)}function Sk(n){const e=new Path2D;if(!n)return e;for(let t=0,r=n.length;t<r;)switch(n[t++]){case zl.moveTo:e.moveTo(n[t++],n[t++]);break;case zl.lineTo:e.lineTo(n[t++],n[t++]);break;case zl.curveTo:e.bezierCurveTo(n[t++],n[t++],n[t++],n[t++],n[t++],n[t++]);break;case zl.quadraticCurveTo:e.quadraticCurveTo(n[t++],n[t++],n[t++],n[t++]);break;case zl.closePath:e.closePath();break;default:Pe(`Unrecognized drawing path operator: ${n[t-1]}`);break}return e}class Qe{static#e=null;static#t=null;static#r=null;static#n=0;static#s=[];get pagesNumber(){return Qe.#n}set pagesNumber(e){Qe.#n!==e&&(Qe.#n=e,e===0&&(Qe.#t=null,Qe.#e=null))}addListener(e){Qe.#s.push(e)}removeListener(e){const t=Qe.#s.indexOf(e);t>=0&&Qe.#s.splice(t,1)}#o(){for(const e of Qe.#s)e()}#i(e){if(Qe.#t)return;const t=Qe.#n,r=new Uint32Array(3*t),i=Qe.#t=r.subarray(0,t),s=Qe.#e=r.subarray(t,2*t);if(e)for(let a=0;a<t;a++)i[a]=s[a]=a+1;Qe.#r=r.subarray(2*t)}movePages(e,t,r){this.#i(!0);const i=Qe.#t,s=Qe.#e;Qe.#r.set(s);const a=t.length,c=new Uint32Array(a);let u=0;for(let y=0;y<a;y++){const w=t[y]-1;c[y]=i[w],w<r&&(u+=1)}const d=Qe.#n;let f=r-u;const p=d-a;f=sn(f,0,p);for(let y=0,w=0;y<d;y++)e.has(y+1)||(i[w++]=i[y]);i.copyWithin(f+a,f,p),i.set(c,f);let g=!1;for(let y=0,w=d;y<w;y++){const b=i[y];g||=b!==y+1,s[b-1]=y+1}this.#o(),g||(this.pagesNumber=0)}hasBeenAltered(){return Qe.#t!==null}getPageMappingForSaving(){return{pageIndices:Qe.#e?Qe.#e.map(e=>e-1):null}}getPrevPageNumber(e){return Qe.#r[Qe.#t[e-1]-1]}getPageNumber(e){return Qe.#e?.[e-1]??e}getPageId(e){return Qe.#t?.[e-1]??e}static get instance(){return Re(this,"instance",new Qe)}getMapping(){return Qe.#t.subarray(0,this.pagesNumber)}}class vc{#e=null;#t=null;#r;#n=null;#s=null;#o=null;#i=null;#a=null;static#c=null;constructor(e){this.#r=e,vc.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=this.#r._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",br,{signal:t}),e.addEventListener("pointerdown",vc.#l,{signal:t}));const r=this.#n=document.createElement("div");r.className="buttons",e.append(r);const i=this.#r.toolbarPosition;if(i){const{style:s}=e,a=this.#r._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return this.#e}static#l(e){e.stopPropagation()}#h(e){this.#r._focusEventsAllowed=!1,Mt(e)}#d(e){this.#r._focusEventsAllowed=!0,Mt(e)}#f(e){const t=this.#r._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",this.#h.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",br,{signal:t}),!0)}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#s?.shown(),this.#o?.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=this.#r,r=document.createElement("button");r.classList.add("basic","deleteButton"),r.tabIndex=0,r.setAttribute("data-l10n-id",vc.#c[e]),this.#f(r)&&r.addEventListener("click",i=>{t.delete()},{signal:t._signal}),this.#n.append(r)}get#g(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const t=await e.render();this.#f(t),this.#n.append(t,this.#g),this.#s=e}addComment(e,t=null){if(this.#o)return;const r=e.renderForToolbar();if(!r)return;this.#f(r);const i=this.#i=this.#g;t?(this.#n.insertBefore(r,t),this.#n.insertBefore(i,t)):this.#n.append(r,i),this.#o=e,e.toolbar=this}addColorPicker(e){if(this.#t)return;this.#t=e;const t=e.renderButton();this.#f(t),this.#n.append(t,this.#g)}async addEditSignatureButton(e){const t=this.#a=await e.renderEditButton(this.#r);this.#f(t),this.#n.append(t,this.#g)}removeButton(e){e==="comment"&&(this.#o?.removeToolbarCommentButton(),this.#o=null,this.#i?.remove(),this.#i=null)}async addButton(e,t){switch(e){case"colorPicker":t&&this.addColorPicker(t);break;case"altText":t&&await this.addAltText(t);break;case"editSignature":t&&await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":t&&this.addComment(t);break}}async addButtonBefore(e,t,r){if(!t&&e==="comment")return;const i=this.#n.querySelector(r);i&&e==="comment"&&this.addComment(t,i)}updateEditSignatureButton(e){this.#a&&(this.#a.title=e)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class S4{#e=null;#t=null;#r;constructor(e){this.#r=e}#n(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");const t=this.#r._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",br,{signal:t});const r=this.#e=document.createElement("div");return r.className="buttons",e.append(r),this.#r.hasCommentManager()&&this.#o("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#r.commentSelection("floating_button")}),this.#o("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#r.highlightSelection("floating_button")}),e}#s(e,t){let r=0,i=0;for(const s of e){const a=s.y+s.height;if(a<r)continue;const c=s.x+(t?s.width:0);if(a>r){i=c,r=a;continue}t?c>i&&(i=c):c<i&&(i=c)}return[t?1-i:i,r]}show(e,t,r){const[i,s]=this.#s(t,r),{style:a}=this.#t||=this.#n();e.append(this.#t),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#o(e,t,r,i){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",t);const a=document.createElement("span");s.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",r);const c=this.#r._signal;c instanceof AbortSignal&&!c.aborted&&(s.addEventListener("contextmenu",br,{signal:c}),s.addEventListener("click",i,{signal:c})),this.#e.append(s)}}function xk(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}class Je{static#e=NaN;static#t=null;static#r=NaN;static#n=null;static initializeAndAddPointerId(e){(Je.#t||=new Set).add(e)}static setPointer(e,t){Je.#e||=t,Je.#n??=e}static setTimeStamp(e){Je.#r=e}static isSamePointerId(e){return Je.#e===e}static isSamePointerIdOrRemove(e){return Je.#e===e?!0:(Je.#t?.delete(e),!1)}static isSamePointerType(e){return Je.#n===e}static isInitializedAndDifferentPointerType(e){return Je.#n!==null&&!Je.isSamePointerType(e)}static isSameTimeStamp(e){return Je.#r===e}static isUsingMultiplePointers(){return Je.#t?.size>=1}static clearPointerType(){Je.#n=null}static clearPointerIds(){Je.#e=NaN,Je.#t=null}static clearTimeStamp(){Je.#r=NaN}}class x4{#e=0;get id(){return`${Dc}${this.#e++}`}}class k0{#e=vk();#t=0;#r=null;static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return Re(this,"_isSVGFittingCanvas",s)}async#n(e,t){this.#r||=new Map;let r=this.#r.get(e);if(r===null)return null;if(r?.bitmap)return r.refCounter+=1,r;try{r||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let i;if(typeof t=="string"?(r.url=t,i=await qc(t,"blob")):t instanceof File?i=r.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const s=k0._isSVGFittingCanvas,a=new FileReader,c=new Image,u=new Promise((d,f)=>{c.onload=()=>{r.bitmap=c,r.isSvg=!0,d()},a.onload=async()=>{const p=r.svgUrl=a.result;c.src=await s?`${p}#svgView(preserveAspectRatio(none))`:p},c.onerror=a.onerror=f});a.readAsDataURL(i),await u}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){Pe(i),r=null}return this.#r.set(e,r),r&&this.#r.set(r.id,r),r}async getFromFile(e){const{lastModified:t,name:r,size:i,type:s}=e;return this.#n(`${t}_${r}_${i}_${s}`,e)}async getFromUrl(e){return this.#n(e,e)}async getFromBlob(e,t){const r=await t;return this.#n(e,r)}async getFromId(e){this.#r||=new Map;const t=this.#r.get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:r}=t;return delete t.blobPromise,this.getFromBlob(t.id,r)}return this.getFromUrl(t.url)}getFromCanvas(e,t){this.#r||=new Map;let r=this.#r.get(e);if(r?.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#r.set(e,r),this.#r.set(r.id,r),r}getSvgUrl(e){const t=this.#r.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#r||=new Map;const t=this.#r.get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:r}=t;if(!t.url&&!t.file){const i=new OffscreenCanvas(r.width,r.height);i.getContext("bitmaprenderer").transferFromImageBitmap(r),t.blobPromise=i.convertToBlob()}r.close?.(),t.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}class A4{#e=[];#t=!1;#r;#n=-1;constructor(e=128){this.#r=e}add({cmd:e,undo:t,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:c=!1}){if(i&&e(),this.#t)return;const u={cmd:e,undo:t,post:r,type:s};if(this.#n===-1){this.#e.length>0&&(this.#e.length=0),this.#n=0,this.#e.push(u);return}if(a&&this.#e[this.#n].type===s){c&&(u.undo=this.#e[this.#n].undo),this.#e[this.#n]=u;return}const d=this.#n+1;d===this.#r?this.#e.splice(0,1):(this.#n=d,d<this.#e.length&&this.#e.splice(d)),this.#e.push(u)}undo(){if(this.#n===-1)return;this.#t=!0;const{undo:e,post:t}=this.#e[this.#n];e(),t?.(),this.#t=!1,this.#n-=1}redo(){if(this.#n<this.#e.length-1){this.#n+=1,this.#t=!0;const{cmd:e,post:t}=this.#e[this.#n];e(),t?.(),this.#t=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#e.length-1}cleanType(e){if(this.#n!==-1){for(let t=this.#n;t>=0;t--)if(this.#e[t].type!==e){this.#e.splice(t+1,this.#n-t),this.#n=t;return}this.#e.length=0,this.#n=-1}}destroy(){this.#e=null}}class Jc{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Gt.platform;for(const[r,i,s={}]of e)for(const a of r){const c=a.startsWith("mac+");t&&c?(this.callbacks.set(a.slice(4),{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1))):!t&&!c&&(this.callbacks.set(a,{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(this.#e(t));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:a=[],checker:c=null}}=r;c&&!c(e,t)||(i.bind(e,...a,t)(),s||Mt(t))}}class T0{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return g4(e),Re(this,"_colors",e)}convert(e){const t=Zc(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,i]of this._colors)if(i.every((s,a)=>s===t[a]))return T0._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?ae.makeHexColor(...t):e}}class As{#e=new AbortController;#t=null;#r=null;#n=new Map;#s=new Map;#o=null;#i=null;#a=null;#c=new A4;#l=null;#h=null;#d=null;#f=0;#g=new Set;#m=null;#u=null;#p=new Set;_editorUndoBar=null;#y=!1;#b=!1;#v=!1;#k=null;#A=null;#S=null;#E=null;#w=!1;#C=null;#R=new x4;#_=!1;#P=!1;#O=!1;#D=null;#L=null;#B=null;#F=null;#H=null;#T=Me.NONE;#x=new Set;#I=null;#j=null;#z=null;#X=null;#G=null;#K={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#V=[0,0];#N=null;#W=null;#Z=null;#J=null;#$=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=As.prototype,t=a=>a.#W.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),r=(a,{target:c})=>{if(c instanceof HTMLInputElement){const{type:u}=c;return u!=="text"&&u!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Re(this,"_keyboardManager",new Jc([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:c})=>!(c instanceof HTMLButtonElement)&&a.#W.contains(c)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:c})=>!(c instanceof HTMLButtonElement)&&a.#W.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}constructor(e,t,r,i,s,a,c,u,d,f,p,g,y,w,b,x){const A=this._signal=this.#e.signal;this.#W=e,this.#Z=t,this.#J=r,this.#o=i,this.#l=s,this.#j=a,this.#G=u,this._eventBus=c,c._on("editingaction",this.onEditingAction.bind(this),{signal:A}),c._on("pagechanging",this.onPageChanging.bind(this),{signal:A}),c._on("scalechanging",this.onScaleChanging.bind(this),{signal:A}),c._on("rotationchanging",this.onRotationChanging.bind(this),{signal:A}),c._on("setpreference",this.onSetPreference.bind(this),{signal:A}),c._on("switchannotationeditorparams",T=>this.updateParams(T.type,T.value),{signal:A}),c._on("pagesedited",this.onPagesEdited.bind(this),{signal:A}),window.addEventListener("pointerdown",()=>{this.#P=!0},{capture:!0,signal:A}),window.addEventListener("pointerup",()=>{this.#P=!1},{capture:!0,signal:A}),this.#oe(),this.#he(),this.#te(),this.#i=u.annotationStorage,this.#k=u.filterFactory,this.#z=d,this.#E=f||null,this.#y=p,this.#b=g,this.#v=y,this.#H=w||null,this.viewParameters={realScale:Na.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=b||null,this._supportsPinchToZoom=x!==!1,s?.setSidebarUiManager(this)}destroy(){this.#$?.resolve(),this.#$=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#s.values())e.destroy();this.#s.clear(),this.#n.clear(),this.#p.clear(),this.#F?.clear(),this.#t=null,this.#x.clear(),this.#c.destroy(),this.#o?.destroy(),this.#l?.destroy(),this.#j?.destroy(),this.#C?.hide(),this.#C=null,this.#B?.destroy(),this.#B=null,this.#r=null,this.#A&&(clearTimeout(this.#A),this.#A=null),this.#N&&(clearTimeout(this.#N),this.#N=null),this._editorUndoBar?.destroy(),this.#G=null}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#H}get useNewAltTextFlow(){return this.#b}get useNewAltTextWhenAddingImage(){return this.#v}get hcmFilter(){return Re(this,"hcmFilter",this.#z?this.#k.addHCMFilter(this.#z.foreground,this.#z.background):"none")}get direction(){return Re(this,"direction",getComputedStyle(this.#W).direction)}get _highlightColors(){return Re(this,"_highlightColors",this.#E?new Map(this.#E.split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return Re(this,"highlightColors",null);const t=new Map,r=!!this.#z;for(const[i,s]of e){const a=i.endsWith("_HCM");if(r&&a){t.set(i.replace("_HCM",""),s);continue}!r&&!a&&t.set(i,s)}return Re(this,"highlightColors",t)}get highlightColorNames(){return Re(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#d=e}setMainHighlightColorPicker(e){this.#B=e}editAltText(e,t=!1){this.#o?.editAltText(this,e,t)}hasCommentManager(){return!!this.#l}editComment(e,t,r,i){this.#l?.showDialog(this,e,t,r,i)}selectComment(e,t){this.#s.get(e)?.getEditorByUID(t)?.toggleComment(!0,!0)}updateComment(e){this.#l?.updateComment(e.getData())}updatePopupColor(e){this.#l?.updatePopupColor(e)}removeComment(e){this.#l?.removeComments([e.uid])}deleteComment(e,t){const r=()=>{e.comment=t},i=()=>{this._editorUndoBar?.show(r,"comment"),this.toggleComment(null),e.comment=null};this.addCommands({cmd:i,undo:r,mustExec:!0})}toggleComment(e,t,r=void 0){this.#l?.toggleCommentPopup(e,t,r)}makeCommentColor(e,t){return e&&this.#l?.makeCommentColor(e,t)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(e){if(this.#s.has(e-1))return;const{resolve:t,promise:r}=Promise.withResolvers(),i=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",i),t())};this._eventBus.on("editorsrendered",i),await r}getSignature(e){this.#j?.getSignature({uiManager:this,editor:e})}get signatureManager(){return this.#j}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){e==="enableNewAltTextWhenAddingImage"&&(this.#v=t)}onPagesEdited({pagesMapper:e}){for(const i of this.#n.values())i.updatePageIndex(e.getPrevPageNumber(i.pageIndex+1)-1);const t=this.#s,r=this.#s=new Map;for(const[i,s]of t){const a=e.getPrevPageNumber(i+1)-1;if(a===-1){s.destroy();continue}r.set(a,s),s.updatePageIndex(a)}}onPageChanging({pageNumber:e}){this.#f=e-1}focusMainContainer(){this.#W.focus()}findParent(e,t){for(const r of this.#s.values()){const{x:i,y:s,width:a,height:c}=r.div.getBoundingClientRect();if(e>=i&&e<=i+a&&t>=s&&t<=s+c)return r}return null}disableUserSelect(e=!1){this.#Z.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#p.add(e)}removeShouldRescale(e){this.#p.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Na.PDF_TO_CSS_UNITS;for(const t of this.#p)t.onScaleChanging();this.#d?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#Q({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#ee(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const r of this.#s.values())if(r.hasTextLayer(e))return r;return null}highlightSelection(e="",t=!1){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:c}=r,u=r.toString(),f=this.#Q(r).closest(".textLayer"),p=this.getSelectionBoxes(f);if(!p)return;r.empty();const g=this.#ee(f),y=this.#T===Me.NONE,w=()=>{const b=g?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:p,anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:c,text:u});y&&this.showAllEditors("highlight",!0,!0),t&&b?.editComment()};if(y){this.switchToMode(Me.HIGHLIGHT,w);return}w()}commentSelection(e=""){this.highlightSelection(e,!0)}#ie(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=this.#Q(e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(this.#C||=new S4(this),this.#C.show(r,i,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(e){if(!this.#i)return null;const t=`${Dc}${e}`,r=this.#i.getRawValue(t);return r&&this.#i.remove(t),r}addToAnnotationStorage(e){!e.isEmpty()&&this.#i&&!this.#i.has(e.id)&&this.#i.setValue(e.id,e)}a11yAlert(e,t=null){const r=this.#J;r&&(r.setAttribute("data-l10n-id",e),t?r.setAttribute("data-l10n-args",JSON.stringify(t)):r.removeAttribute("data-l10n-args"))}#se(){const e=document.getSelection();if(!e||e.isCollapsed){this.#I&&(this.#C?.hide(),this.#I=null,this.#M({hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===this.#I)return;const i=this.#Q(e).closest(".textLayer");if(!i){this.#I&&(this.#C?.hide(),this.#I=null,this.#M({hasSelectedText:!1}));return}if(this.#C?.hide(),this.#I=t,this.#M({hasSelectedText:!0}),!(this.#T!==Me.HIGHLIGHT&&this.#T!==Me.NONE)&&(this.#T===Me.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#w=this.isShiftKeyDown,!this.isShiftKeyDown)){const s=this.#T===Me.HIGHLIGHT?this.#ee(i):null;if(s?.toggleDrawing(),this.#P){const a=new AbortController,c=this.combinedSignal(a),u=d=>{d.type==="pointerup"&&d.button!==0||(a.abort(),s?.toggleDrawing(!0),d.type==="pointerup"&&this.#Y("main_toolbar"))};window.addEventListener("pointerup",u,{signal:c}),window.addEventListener("blur",u,{signal:c})}else s?.toggleDrawing(!0),this.#Y("main_toolbar")}}#Y(e=""){this.#T===Me.HIGHLIGHT?this.highlightSelection(e):this.#y&&this.#ie()}#oe(){document.addEventListener("selectionchange",this.#se.bind(this),{signal:this._signal})}#ae(){if(this.#S)return;this.#S=new AbortController;const e=this.combinedSignal(this.#S);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#le(){this.#S?.abort(),this.#S=null}blur(){if(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#Y("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of this.#x)if(t.div.contains(e)){this.#L=[t,e],t._focusEventsAllowed=!1;break}}focus(){if(!this.#L)return;const[e,t]=this.#L;this.#L=null,t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}#te(){if(this.#D)return;this.#D=new AbortController;const e=this.combinedSignal(this.#D);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#ce(){this.#D?.abort(),this.#D=null}#ue(){if(this.#h)return;this.#h=new AbortController;const e=this.combinedSignal(this.#h);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#de(){this.#h?.abort(),this.#h=null}#he(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#te(),this.setEditingState(!0)}removeEditListeners(){this.#ce(),this.setEditingState(!1)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const r of this.#u)if(r.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const r of this.#u)if(r.isHandlingMimeForPasting(t.type)){r.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of this.#x){const i=r.serialize(!0);i&&t.push(i)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const a of this.#u)if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){Pe(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const u of r){const d=await i.deserialize(u);if(!d)return;s.push(d)}const a=()=>{for(const u of s)this.#ne(u);this.#re(s)},c=()=>{for(const u of s)u.remove()};this.addCommands({cmd:a,undo:c,mustExec:!0})}catch(s){Pe(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#T!==Me.NONE&&!this.isEditorHandlingKeyboard&&As._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#Y("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#M(e){Object.entries(e).some(([r,i])=>this.#K[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#K,e)}),this.#T===Me.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#U([[$e.HIGHLIGHT_FREE,!0]]))}#U(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#ae(),this.#ue(),this.#M({isEditing:this.#T!==Me.NONE,isEmpty:this.#q(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#le(),this.#de(),this.#M({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#u){this.#u=e;for(const t of this.#u)this.#U(t.defaultPropertiesToUpdate)}}getId(){return this.#R.id}get currentLayer(){return this.#s.get(this.#f)}getLayer(e){return this.#s.get(e)}get currentPageIndex(){return this.#f}addLayer(e){this.#s.set(e.pageIndex,e),this.#_?e.enable():e.disable()}removeLayer(e){this.#s.delete(e.pageIndex)}async updateMode(e,t=null,r=!1,i=!1,s=!1,a=!1){if(this.#T!==e&&!(this.#$&&(await this.#$.promise,!this.#$))){if(this.#$=Promise.withResolvers(),this.#d?.commitOrRemove(),this.#T===Me.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#T=e,e===Me.NONE){this.setEditingState(!1),this.#pe();for(const c of this.#n.values())c.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#$.resolve();return}for(const c of this.#n.values())c.addStandaloneCommentButton();e===Me.SIGNATURE&&await this.#j?.loadSignatures(),r&&Je.clearPointerType(),this.setEditingState(!0),await this.#fe(),this.unselectAll();for(const c of this.#s.values())c.updateMode(e);if(e===Me.POPUP){this.#r||=await this.#G.getAnnotationsByType(new Set(this.#u.map(d=>d._editorType)));const c=new Set,u=[];for(const d of this.#n.values()){const{annotationElementId:f,hasComment:p,deleted:g}=d;f&&c.add(f),p&&!g&&u.push(d.getData())}for(const d of this.#r){const{id:f,popupRef:p,contentsObj:g}=d;p&&g?.str&&!c.has(f)&&!this.#g.has(f)&&u.push(d)}this.#l?.showSidebar(u)}if(!t){i&&this.addNewEditorFromKeyboard(),this.#$.resolve();return}for(const c of this.#n.values())c.uid===t?(this.setSelected(c),a?c.editComment():s?c.enterInEditMode():c.focus()):c.unselect();this.#$.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==this.#T&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(this.#u){switch(e){case $e.CREATE:this.currentLayer.addNewEditor(t);return;case $e.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#X||=new Map).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const r of this.#x)r.updateParams(e,t);else for(const r of this.#u)r.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){for(const s of this.#n.values())s.editorType===e&&s.show(t);(this.#X?.get($e.HIGHLIGHT_SHOW_ALL)??!0)!==t&&this.#U([[$e.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(this.#O!==e){this.#O=e;for(const t of this.#s.values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}async#fe(){if(!this.#_){this.#_=!0;const e=[];for(const t of this.#s.values())e.push(t.enable());await Promise.all(e);for(const t of this.#n.values())t.enable()}}#pe(){if(this.unselectAll(),this.#_){this.#_=!1;for(const e of this.#s.values())e.disable();for(const e of this.#n.values())e.disable()}}*getEditors(e){for(const t of this.#n.values())t.pageIndex===e&&(yield t)}getEditor(e){return this.#n.get(e)}addEditor(e){this.#n.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#A&&clearTimeout(this.#A),this.#A=setTimeout(()=>{this.focusMainContainer(),this.#A=null},0)),this.#n.delete(e.id),e.annotationElementId&&this.#F?.delete(e.annotationElementId),this.unselect(e),(!e.annotationElementId||!this.#g.has(e.annotationElementId))&&this.#i?.remove(e.id)}addDeletedAnnotationElement(e){this.#g.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#g.has(e)}removeDeletedAnnotationElement(e){this.#g.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#ne(e){const t=this.#s.get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#U(e.propertiesToUpdate))}get#me(){let e=null;for(e of this.#x);return e}updateUI(e){this.#me===e&&this.#U(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#U(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#x.has(e)){this.#x.delete(e),e.unselect(),this.#M({hasSelectedEditor:this.hasSelection});return}this.#x.add(e),e.select(),this.#U(e.propertiesToUpdate),this.#M({hasSelectedEditor:!0})}setSelected(e){this.updateToolbar({mode:e.mode,editId:e.uid}),this.#d?.commitOrRemove();for(const t of this.#x)t!==e&&t.unselect();this.#x.clear(),this.#x.add(e),e.select(),this.#U(e.propertiesToUpdate),this.#M({hasSelectedEditor:!0})}isSelected(e){return this.#x.has(e)}get firstSelectedEditor(){return this.#x.values().next().value}unselect(e){e.unselect(),this.#x.delete(e),this.#M({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#x.size!==0}get isEnterHandled(){return this.#x.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#M({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#q()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#M({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#q()})}addCommands(e){this.#c.add(e),this.#M({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#q()})}cleanUndoStack(e){this.#c.cleanType(e)}#q(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const e of this.#n.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();const e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...this.#x],r=()=>{this._editorUndoBar?.show(i,t.length===1?t[0].editorType:t.length);for(const s of t)s.remove()},i=()=>{for(const s of t)this.#ne(s)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#re(e){for(const t of this.#x)t.unselect();this.#x.clear();for(const t of e)t.isEmpty()||(this.#x.add(t),t.select());this.#M({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#x)e.commit();this.#re(this.#n.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#T!==Me.NONE))&&!this.#d?.commitOrRemove()&&this.hasSelection){for(const e of this.#x)e.unselect();this.#x.clear(),this.#M({hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;this.#V[0]+=e,this.#V[1]+=t;const[i,s]=this.#V,a=[...this.#x],c=1e3;this.#N&&clearTimeout(this.#N),this.#N=setTimeout(()=>{this.#N=null,this.#V[0]=this.#V[1]=0,this.addCommands({cmd:()=>{for(const u of a)this.#n.has(u.id)&&(u.translateInPage(i,s),u.translationDone())},undo:()=>{for(const u of a)this.#n.has(u.id)&&(u.translateInPage(-i,-s),u.translationDone())},mustExec:!1})},c);for(const u of a)u.translateInPage(e,t),u.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#m=new Map;for(const e of this.#x)this.#m.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#m)return!1;this.disableUserSelect(!1);const e=this.#m;this.#m=null;let t=!1;for(const[{x:i,y:s,pageIndex:a},c]of e)c.newX=i,c.newY=s,c.newPageIndex=a,t||=i!==c.savedX||s!==c.savedY||a!==c.savedPageIndex;if(!t)return!1;const r=(i,s,a,c)=>{if(this.#n.has(i.id)){const u=this.#s.get(c);u?i._setParentAndPosition(u,s,a):(i.pageIndex=c,i.x=s,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:a,newPageIndex:c}]of e)r(i,s,a,c)},undo:()=>{for(const[i,{savedX:s,savedY:a,savedPageIndex:c}]of e)r(i,s,a,c)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(this.#m)for(const r of this.#m.keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#x.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#T}isEditingMode(){return this.#T!==Me.NONE}get imageManager(){return Re(this,"imageManager",new k0)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let d=0,f=t.rangeCount;d<f;d++)if(!e.contains(t.getRangeAt(d).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:a}=e.getBoundingClientRect();let c;switch(e.getAttribute("data-main-rotation")){case"90":c=(d,f,p,g)=>({x:(f-i)/a,y:1-(d+p-r)/s,width:g/a,height:p/s});break;case"180":c=(d,f,p,g)=>({x:1-(d+p-r)/s,y:1-(f+g-i)/a,width:p/s,height:g/a});break;case"270":c=(d,f,p,g)=>({x:1-(f+g-i)/a,y:(d-r)/s,width:g/a,height:p/s});break;default:c=(d,f,p,g)=>({x:(d-r)/s,y:(f-i)/a,width:p/s,height:g/a});break}const u=[];for(let d=0,f=t.rangeCount;d<f;d++){const p=t.getRangeAt(d);if(!p.collapsed)for(const{x:g,y,width:w,height:b}of p.getClientRects())w===0||b===0||u.push(c(g,y,w,b))}return u.length===0?null:u}addChangedExistingAnnotation({annotationElementId:e,id:t}){(this.#a||=new Map).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){this.#a?.delete(e)}renderAnnotationElement(e){const t=this.#a?.get(e.data.id);if(!t)return;const r=this.#i.getRawValue(t);r&&(this.#T===Me.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,t,r){const i=this.#F?.get(e);i&&(i.setCanvas(t,r),this.#F.delete(e))}addMissingCanvas(e,t){(this.#F||=new Map).set(e,t)}}class ri{#e=null;#t=!1;#r=null;#n=null;#s=null;#o=null;#i=!1;#a=null;#c=null;#l=null;#h=null;#d=!1;static#f=null;static _l10n=null;constructor(e){this.#c=e,this.#d=e._uiManager.useNewAltTextFlow,ri.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){ri._l10n??=e}async render(){const e=this.#r=document.createElement("button");e.className="altText",e.tabIndex="0";const t=this.#n=document.createElement("span");e.append(t),this.#d?(e.classList.add("new"),e.setAttribute("data-l10n-id",ri.#f.missing),t.setAttribute("data-l10n-id",ri.#f["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=this.#c._uiManager._signal;e.addEventListener("contextmenu",br,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#d&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#g}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(this.#i=!0,i(s))},{signal:r}),await this.#m(),e}get#g(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#r&&(this.#r.focus({focusVisible:this.#i}),this.#i=!1)}isEmpty(){return this.#d?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#d?this.#e!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(e){this.#e===null&&(this.#l=e,this.#h=await ri._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#m())}toggleAltTextBadge(e=!1){if(!this.#d||this.#e){this.#a?.remove(),this.#a=null;return}if(!this.#a){const t=this.#a=document.createElement("div");t.className="noAltTextBadge",this.#c.div.append(t)}this.#a.classList.toggle("hidden",!e)}serialize(e){let t=this.#e;return!e&&this.#l===t&&(t=this.#h),{altText:t,decorative:this.#t,guessedText:this.#l,textWithDisclaimer:this.#h}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:t,guessedText:r,textWithDisclaimer:i,cancel:s=!1}){r&&(this.#l=r,this.#h=i),!(this.#e===e&&this.#t===t)&&(s||(this.#e=e,this.#t=t),this.#m())}toggle(e=!1){this.#r&&(!e&&this.#o&&(clearTimeout(this.#o),this.#o=null),this.#r.disabled=!e)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#r?.remove(),this.#r=null,this.#n=null,this.#s=null,this.#a?.remove(),this.#a=null}async#m(){const e=this.#r;if(!e)return;if(this.#d){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",ri.#f[this.#g]),this.#n?.setAttribute("data-l10n-id",ri.#f[`${this.#g}-label`]),!this.#e){this.#s?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#s?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=this.#s;if(!t){this.#s=t=document.createElement("span"),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${this.#c.id}`;const i=100,s=this.#c._uiManager._signal;s.addEventListener("abort",()=>{clearTimeout(this.#o),this.#o=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#o=setTimeout(()=>{this.#o=null,this.#s.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},i)},{signal:s}),e.addEventListener("mouseleave",()=>{this.#o&&(clearTimeout(this.#o),this.#o=null),this.#s?.classList.remove("show")},{signal:s})}this.#t?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=this.#e),t.parentNode||e.append(t),this.#c.getElementForAltText()?.setAttribute("aria-describedby",t.id)}}class Fd{#e=null;#t=null;#r=!1;#n=null;#s=null;#o=null;#i=null;#a=null;#c=!1;#l=null;constructor(e){this.#n=e}renderForToolbar(){const e=this.#t=document.createElement("button");return e.className="comment",this.#h(e,!1)}renderForStandalone(){const e=this.#e=document.createElement("button");e.className="annotationCommentButton";const t=this.#n.commentButtonPosition;if(t){const{style:r}=e;r.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,r.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const i=this.#n.commentButtonColor;i&&(r.backgroundColor=i)}return this.#h(e,!0)}focusButton(){setTimeout(()=>{(this.#e??this.#t)?.focus()},0)}onUpdatedColor(){if(!this.#e)return;const e=this.#n.commentButtonColor;e&&(this.#e.style.backgroundColor=e),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#e?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#e)return null;const{x:e,y:t,height:r}=this.#e.getBoundingClientRect(),{x:i,y:s,width:a,height:c}=this.#n.parent.boundingClientRect;return[(e-i)/a,(t+r-s)/c]}set commentPopupPositionInLayer(e){this.#l=e}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#e?.remove(),this.#e=null}removeToolbarCommentButton(){this.#t?.remove(),this.#t=null}setCommentButtonStates({selected:e,hasPopup:t}){this.#e&&(this.#e.classList.toggle("selected",e),this.#e.ariaExpanded=t)}#h(e,t){if(!this.#n._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const r=this.#n._uiManager._signal;if(!(r instanceof AbortSignal)||r.aborted)return e;e.addEventListener("contextmenu",br,{signal:r}),t&&(e.addEventListener("focusin",s=>{this.#n._focusEventsAllowed=!1,Mt(s)},{capture:!0,signal:r}),e.addEventListener("focusout",s=>{this.#n._focusEventsAllowed=!0,Mt(s)},{capture:!0,signal:r})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),e===this.#t?this.edit():this.#n.toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(this.#r=!0,i(s))},{signal:r}),e.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:r}),e.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:r}),e}edit(e){const t=this.commentPopupPositionInLayer;let r,i;if(t)[r,i]=t;else{[r,i]=this.#n.commentButtonPosition;const{width:f,height:p,x:g,y}=this.#n;r=g+r*f,i=y+i*p}const s=this.#n.parent.boundingClientRect,{x:a,y:c,width:u,height:d}=s;this.#n._uiManager.editComment(this.#n,a+r*u,c+i*d,{...e,parentDimensions:s})}finish(){this.#t&&(this.#t.focus({focusVisible:this.#r}),this.#r=!1)}isDeleted(){return this.#c||this.#i===""}isEmpty(){return this.#i===null}hasBeenEdited(){return this.isDeleted()||this.#i!==this.#s}serialize(){return this.data}get data(){return{text:this.#i,richText:this.#o,date:this.#a,deleted:this.isDeleted()}}set data(e){if(e!==this.#i&&(this.#o=null),e===null){this.#i="",this.#c=!0;return}this.#i=e,this.#a=new Date,this.#c=!1}restoreData({text:e,richText:t,date:r}){this.#i=e,this.#o=t,this.#a=r,this.#c=!1}setInitialText(e,t=null){this.#s=e,this.data=e,this.#a=null,this.#o=t}shown(){}destroy(){this.#t?.remove(),this.#t=null,this.#e?.remove(),this.#e=null,this.#i="",this.#o=null,this.#a=null,this.#n=null,this.#r=!1,this.#c=!1}}class rf{#e;#t=!1;#r=null;#n;#s;#o;#i;#a=null;#c;#l=null;#h;#d=null;constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:a=null,signal:c}){this.#e=e,this.#r=r,this.#n=t,this.#s=i,this.#o=s,this.#i=a,this.#h=new AbortController,this.#c=AbortSignal.any([c,this.#h.signal]),e.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/hi.pixelRatio}#f(e){if(this.#n?.())return;if(e.touches.length===1){if(this.#a)return;const i=this.#a=new AbortController,s=AbortSignal.any([this.#c,i.signal]),a=this.#e,c={capture:!0,signal:s,passive:!1},u=d=>{d.pointerType==="touch"&&(this.#a?.abort(),this.#a=null)};a.addEventListener("pointerdown",d=>{d.pointerType==="touch"&&(Mt(d),u(d))},c),a.addEventListener("pointerup",u,c),a.addEventListener("pointercancel",u,c);return}if(!this.#d){this.#d=new AbortController;const i=AbortSignal.any([this.#c,this.#d.signal]),s=this.#e,a={signal:i,capture:!1,passive:!1};s.addEventListener("touchmove",this.#g.bind(this),a);const c=this.#m.bind(this);s.addEventListener("touchend",c,a),s.addEventListener("touchcancel",c,a),a.capture=!0,s.addEventListener("pointerdown",Mt,a),s.addEventListener("pointermove",Mt,a),s.addEventListener("pointercancel",Mt,a),s.addEventListener("pointerup",Mt,a),this.#s?.()}if(Mt(e),e.touches.length!==2||this.#r?.()){this.#l=null;return}let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]),this.#l={touch0X:t.screenX,touch0Y:t.screenY,touch1X:r.screenX,touch1Y:r.screenY}}#g(e){if(!this.#l||e.touches.length!==2)return;Mt(e);let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]);const{screenX:i,screenY:s}=t,{screenX:a,screenY:c}=r,u=this.#l,{touch0X:d,touch0Y:f,touch1X:p,touch1Y:g}=u,y=p-d,w=g-f,b=a-i,x=c-s,A=Math.hypot(b,x)||1,T=Math.hypot(y,w)||1;if(!this.#t&&Math.abs(T-A)<=rf.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(u.touch0X=i,u.touch0Y=s,u.touch1X=a,u.touch1Y=c,!this.#t){this.#t=!0;return}const k=[(i+a)/2,(s+c)/2];this.#o?.(k,T,A)}#m(e){e.touches.length>=2||(this.#d&&(this.#d.abort(),this.#d=null,this.#i?.()),this.#l&&(Mt(e),this.#l=null,this.#t=!1))}destroy(){this.#h?.abort(),this.#h=null,this.#a?.abort(),this.#a=null}}class we{#e=null;#t=null;#r=null;#n=null;#s=null;#o=!1;#i=null;#a="";#c=null;#l=null;#h=null;#d=null;#f=null;#g="";#m=!1;#u=null;#p=!1;#y=!1;#b=!1;#v=null;#k=0;#A=0;#S=null;#E=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#w=!1;#C=we._zIndex++;static _borderLineWidth=-1;static _colorManager=new T0;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=we.prototype._resizeWithKeyboard,t=As.TRANSLATE_SMALL,r=As.TRANSLATE_BIG;return Re(this,"_resizerKeyboardManager",new Jc([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],we.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:t,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,a];const[c,u]=this.parentDimensions;this.x=e.x/c,this.y=e.y/u,this.isAttachedToDOM=!1,this.deleted=!1}updatePageIndex(e){this.pageIndex=e}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Re(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new C4({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(we._l10n??=e,we._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),we._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);we._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){nt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#w}set _isDraggable(e){this.#w=e,this.div?.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#C}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(this.#N(),this.#d?.remove(),this.#d=null),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#m?this.#m=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,i){const[s,a]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(t+i)/a,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[r,i]=this.parentDimensions;this.setAt(e*r,t*i,this.width*r,this.height*i),this._onTranslated()}#R([e,t],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(e,t){this.#R(this.parentDimensions,e,t)}translateInPage(e,t){this.#u||=[this.x,this.y,this.width,this.height],this.#R(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){this.#u||=[this.x,this.y,this.width,this.height];const{div:r,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:c}=this;const[u,d]=this.getBaseTranslation();a+=u,c+=d;const{style:f}=r;f.left=`${(100*a).toFixed(2)}%`,f.top=`${(100*c).toFixed(2)}%`,this._onTranslating(a,c),r.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=we,i=r/e,s=r/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[r,i]}=this;let{x:s,y:a,width:c,height:u}=this;if(c*=r,u*=i,s*=r,a*=i,this._mustFixPosition)switch(e){case 0:s=sn(s,0,r-c),a=sn(a,0,i-u);break;case 90:s=sn(s,0,r-u),a=sn(a,c,i);break;case 180:s=sn(s,c,r),a=sn(a,u,i);break;case 270:s=sn(s,u,r),a=sn(a,0,i-c);break}this.x=s/=r,this.y=a/=i;const[d,f]=this.getBaseTranslation();s+=d,a+=f,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}static#_(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return we.#_(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return we.#_(e,t,360-this.parentRotation)}#P(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this;return[t*e,r*e]}setDims(){const{div:{style:e},width:t,height:r}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*r).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#O(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){const i=document.createElement("div");this.#c.append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",this.#D.bind(this,r),{signal:t}),i.addEventListener("contextmenu",br,{signal:t}),i.tabIndex=-1}this.div.prepend(this.#c)}#D(e,t){t.preventDefault();const{isMac:r}=Gt.platform;if(t.button!==0||t.ctrlKey&&r)return;this.#r?.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,this.#l=[t.screenX,t.screenY];const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#F.bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",Mt,{passive:!1,signal:a}),window.addEventListener("contextmenu",br,{signal:a}),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const c=this.parent.div.style.cursor,u=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const d=()=>{s.abort(),this.parent.togglePointerEvents(!0),this.#r?.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=c,this.div.style.cursor=u,this.#B()};window.addEventListener("pointerup",d,{signal:a}),window.addEventListener("blur",d,{signal:a})}#L(e,t,r,i){this.width=r,this.height=i,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#B(){if(!this.#h)return;const{savedX:e,savedY:t,savedWidth:r,savedHeight:i}=this.#h;this.#h=null;const s=this.x,a=this.y,c=this.width,u=this.height;s===e&&a===t&&c===r&&u===i||this.addCommands({cmd:this.#L.bind(this,s,a,c,u),undo:this.#L.bind(this,e,t,r,i),mustExec:!0})}static _round(e){return Math.round(e*1e4)/1e4}#F(e,t){const[r,i]=this.parentDimensions,s=this.x,a=this.y,c=this.width,u=this.height,d=we.MIN_SIZE/r,f=we.MIN_SIZE/i,p=this.#P(this.rotation),g=(re,G)=>[p[0]*re+p[2]*G,p[1]*re+p[3]*G],y=this.#P(360-this.rotation),w=(re,G)=>[y[0]*re+y[2]*G,y[1]*re+y[3]*G];let b,x,A=!1,T=!1;switch(e){case"topLeft":A=!0,b=(re,G)=>[0,0],x=(re,G)=>[re,G];break;case"topMiddle":b=(re,G)=>[re/2,0],x=(re,G)=>[re/2,G];break;case"topRight":A=!0,b=(re,G)=>[re,0],x=(re,G)=>[0,G];break;case"middleRight":T=!0,b=(re,G)=>[re,G/2],x=(re,G)=>[0,G/2];break;case"bottomRight":A=!0,b=(re,G)=>[re,G],x=(re,G)=>[0,0];break;case"bottomMiddle":b=(re,G)=>[re/2,G],x=(re,G)=>[re/2,0];break;case"bottomLeft":A=!0,b=(re,G)=>[0,G],x=(re,G)=>[re,0];break;case"middleLeft":T=!0,b=(re,G)=>[0,G/2],x=(re,G)=>[re,G/2];break}const k=b(c,u),R=x(c,u);let P=g(...R);const M=we._round(s+P[0]),L=we._round(a+P[1]);let F=1,z=1,q,U;if(t.fromKeyboard)({deltaX:q,deltaY:U}=t);else{const{screenX:re,screenY:G}=t,[Q,ie]=this.#l;[q,U]=this.screenToPageTranslation(re-Q,G-ie),this.#l[0]=re,this.#l[1]=G}if([q,U]=w(q/r,U/i),A){const re=Math.hypot(c,u);F=z=Math.max(Math.min(Math.hypot(R[0]-k[0]-q,R[1]-k[1]-U)/re,1/c,1/u),d/c,f/u)}else T?F=sn(Math.abs(R[0]-k[0]-q),d,1)/c:z=sn(Math.abs(R[1]-k[1]-U),f,1)/u;const be=we._round(c*F),xe=we._round(u*z);P=g(...x(be,xe));const ve=M-P[0],De=L-P[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=be,this.height=xe,this.x=ve,this.y=De,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#r?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#y)return this._editToolbar;this._editToolbar=new vc(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,r]of e)await this._editToolbar.addButton(t,r);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#r?.destroy()}addContainer(e){const t=this._editToolbar?.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#r||(ri.initialize(we._l10n),this.#r=new ri(this),this.#e&&(this.#r.data=this.#e,this.#e=null)),this.#r}get altTextData(){return this.#r?.data}set altTextData(e){this.#r&&(this.#r.data=e)}get guessedAltText(){return this.#r?.guessedText}async setGuessedAltText(e){await this.#r?.setGuessedText(e)}serializeAltText(e){return this.#r?.serialize(e)}hasAltText(){return!!this.#r&&!this.#r.isEmpty()}hasAltTextData(){return this.#r?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.canAddComment?this.#n||=new Fd(this):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(this.#s){this._uiManager.isEditingMode()&&this.#s.classList.remove("hidden");return}this.hasComment&&(this.#s=this.#n.renderForStandalone(),this.div.append(this.#s))}}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#s=null}hideStandaloneCommentButton(){this.#s?.classList.add("hidden")}get comment(){if(!this.#n)return null;const{data:{richText:e,text:t,date:r,deleted:i}}=this.#n;return{text:t,richText:e,date:r,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){this.#n||=new Fd(this),typeof e=="object"&&e!==null?this.#n.restoreData(e):this.#n.data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:r}){if(!t||(this.#n||=new Fd(this),this.#n.setInitialText(e,r),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(e){this.#n||=new Fd(this),this.#n.edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){this.#n.setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[s]=this.pageDimensions,[a]=this.pageTranslation,c=a+s+1,u=i-100,d=c+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[c,u,d,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){this.#n.data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=this.#o?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),this.#z();const[t,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/r).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),xk(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#E||=new rf({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#H.bind(this),onPinching:this.#T.bind(this),onPinchEnd:this.#x.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),e}#H(){this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#r?.toggle(!1),this.parent.togglePointerEvents(!1)}#T(e,t,r){let s=.7*(r/t)+1-.7;if(s===1)return;const a=this.#P(this.rotation),c=(M,L)=>[a[0]*M+a[2]*L,a[1]*M+a[3]*L],[u,d]=this.parentDimensions,f=this.x,p=this.y,g=this.width,y=this.height,w=we.MIN_SIZE/u,b=we.MIN_SIZE/d;s=Math.max(Math.min(s,1/g,1/y),w/g,b/y);const x=we._round(g*s),A=we._round(y*s);if(x===g&&A===y)return;this.#u||=[f,p,g,y];const T=c(g/2,y/2),k=we._round(f+T[0]),R=we._round(p+T[1]),P=c(x/2,A/2);this.x=k-P[0],this.y=R-P[1],this.width=x,this.height=A,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#x(){this.#r?.toggle(!0),this.parent.togglePointerEvents(!0),this.#B()}pointerdown(e){const{isMac:t}=Gt.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(this.#m=!0,this._isDraggable){this.#j(e);return}this.#I(e)}#I(e){const{isMac:t}=Gt.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#j(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),a={capture:!0,passive:!1,signal:s},c=d=>{i.abort(),this.#i=null,this.#m=!1,this._uiManager.endDragSession()||this.#I(d),r&&this._onStopDragging()};t&&(this.#k=e.clientX,this.#A=e.clientY,this.#i=e.pointerId,this.#a=e.pointerType,window.addEventListener("pointermove",d=>{r||(r=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:f,clientY:p,pointerId:g}=d;if(g!==this.#i){Mt(d);return}const[y,w]=this.screenToPageTranslation(f-this.#k,p-this.#A);this.#k=f,this.#A=p,this._uiManager.dragSelectedEditors(y,w)},a),window.addEventListener("touchmove",Mt,a),window.addEventListener("pointerdown",d=>{d.pointerType===this.#a&&(this.#E||d.isPrimary)&&c(d),Mt(d)},a));const u=d=>{if(!this.#i||this.#i===d.pointerId){c(d);return}Mt(d)};window.addEventListener("pointerup",u,{signal:s}),window.addEventListener("blur",u,{signal:s})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#v&&clearTimeout(this.#v),this.#v=setTimeout(()=>{this.#v=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,r=this.rotation){const i=this.parentScale,[s,a]=this.pageDimensions,[c,u]=this.pageTranslation,d=e/i,f=t/i,p=this.x*s,g=this.y*a,y=this.width*s,w=this.height*a;switch(r){case 0:return[p+d+c,a-g-f-w+u,p+d+y+c,a-g-f+u];case 90:return[p+f+c,a-g+d+u,p+f+w+c,a-g+d+y+u];case 180:return[p-d-y+c,a-g+f+u,p-d+c,a-g+f+w+u];case 270:return[p-f-w+c,a-g-d-y+u,p-f+c,a-g-d+u];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,i,s,a]=e,c=s-r,u=a-i;switch(this.rotation){case 0:return[r,t-a,c,u];case 90:return[r,t-i,u,c];case 180:return[s,t-i,c,u];case 270:return[s,t-a,u,c];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&we._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:r,opacity:i,deleted:s,richText:a},uid:c,pageIndex:u,creationDate:d,modificationDate:f}=this;return{id:c,pageIndex:u,rect:this.getPDFRect(),richText:a,contentsObj:{str:e},creationDate:d,modificationDate:r||f,popupRef:!s,color:t,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#y=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#y=!1,!0):!1}isInEditMode(){return this.#y}shouldGetKeyboardEvents(){return this.#b}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return t<a&&i>0&&e<s&&r>0}#z(){if(this.#f||!this.div)return;this.#f=new AbortController;const e=this._uiManager.combinedSignal(this.#f);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#z()}rotate(e){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,t=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(e,t,r){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,i.#e=e.accessibilityData,i._isCopy=e.isCopy||!1;const[s,a]=i.pageDimensions,[c,u,d,f]=i.getRectInCurrentCoords(e.rect,a);return i.x=c/s,i.y=u/a,i.width=d/s,i.height=f/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#f?.abort(),this.#f=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),this.#v&&(clearTimeout(this.#v),this.#v=null),this.#N(),this.removeEditToolbar(),this.#S){for(const e of this.#S.values())clearTimeout(e);this.#S=null}this.parent=null,this.#E?.destroy(),this.#E=null,this.#d?.remove(),this.#d=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#O(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[r,i,s,a]=this.getPDFRect();return[we._round(r+(s-r)*e),we._round(i+(a-i)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(e){this.#n.commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){this.#n?.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const t=this.#c.children;if(!this.#t){this.#t=Array.from(t);const a=this.#X.bind(this),c=this.#G.bind(this),u=this._uiManager._signal;for(const d of this.#t){const f=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",a,{signal:u}),d.addEventListener("blur",c,{signal:u}),d.addEventListener("focus",this.#K.bind(this,f),{signal:u}),d.setAttribute("data-l10n-id",we._l10nResizer[f])}}const r=this.#t[0];let i=0;for(const a of t){if(a===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(s!==i){if(s<i)for(let c=0;c<i-s;c++)this.#c.append(this.#c.firstElementChild);else if(s>i)for(let c=0;c<s-i;c++)this.#c.firstElementChild.before(this.#c.lastElementChild);let a=0;for(const c of t){const d=this.#t[a++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",we._l10nResizer[d])}}this.#V(0),this.#b=!0,this.#c.firstElementChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#X(e){we._resizerKeyboardManager.exec(this,e)}#G(e){this.#b&&e.relatedTarget?.parentNode!==this.#c&&this.#N()}#K(e){this.#g=this.#b?e:""}#V(e){if(this.#t)for(const t of this.#t)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#b&&this.#F(this.#g,{deltaX:e,deltaY:t,fromKeyboard:!0})}#N(){this.#b=!1,this.#V(-1),this.#B()}_stopResizingWithKeyboard(){this.#N(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#r?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#r?.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(e){this.#p=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){this.#S||=new Map;const{action:r}=e;let i=this.#S.get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),this.#S.delete(r),this.#S.size===0&&(this.#S=null)},we._telemetryTimeout),this.#S.set(r,i);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#o=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#o=!0}updateFakeAnnotationElement(e){if(!this.#d&&!this.deleted){this.#d=e.addFakeAnnotation(this);return}if(this.deleted){this.#d.remove(),this.#d=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#d.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstElementChild:t}=e.container;t?.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}}class C4 extends we{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const Px=3285377520,ur=4294901760,ei=65535;class Ak{constructor(e){this.h1=e?e&4294967295:Px,this.h2=e?e&4294967295:Px}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let b=0,x=e.length;b<x;b++){const A=e.charCodeAt(b);A<=255?t[r++]=A:(t[r++]=A>>>8,t[r++]=A&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,a=new Uint32Array(t.buffer,0,i);let c=0,u=0,d=this.h1,f=this.h2;const p=3432918353,g=461845907,y=p&ei,w=g&ei;for(let b=0;b<i;b++)b&1?(c=a[b],c=c*p&ur|c*y&ei,c=c<<15|c>>>17,c=c*g&ur|c*w&ei,d^=c,d=d<<13|d>>>19,d=d*5+3864292196):(u=a[b],u=u*p&ur|u*y&ei,u=u<<15|u>>>17,u=u*g&ur|u*w&ei,f^=u,f=f<<13|f>>>19,f=f*5+3864292196);switch(c=0,s){case 3:c^=t[i*4+2]<<16;case 2:c^=t[i*4+1]<<8;case 1:c^=t[i*4],c=c*p&ur|c*y&ei,c=c<<15|c>>>17,c=c*g&ur|c*w&ei,i&1?d^=c:f^=c}this.h1=d,this.h2=f}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&ur|e*36045&ei,t=t*4283543511&ur|((t<<16|e>>>16)*2950163797&ur)>>>16,e^=t>>>1,e=e*444984403&ur|e*60499&ei,t=t*3301882366&ur|((t<<16|e>>>16)*3120437893&ur)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const iy=Object.freeze({map:null,hash:"",transfer:void 0});class E0{#e=!1;#t=null;#r=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=this.#n.get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return this.#n.get(e)}remove(e){const t=this.#n.get(e);if(t!==void 0&&(t instanceof we&&this.#r.delete(t.annotationElementId),this.#n.delete(e),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const r of this.#n.values())if(r instanceof we)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=this.#n.get(e);let i=!1;if(r!==void 0)for(const[s,a]of Object.entries(t))r[s]!==a&&(i=!0,r[s]=a);else i=!0,this.#n.set(e,t);i&&this.#s(),t instanceof we&&((this.#r||=new Map).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return this.#n.has(e)}get size(){return this.#n.size}#s(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Ck(this)}get serializable(){if(this.#n.size===0)return iy;const e=new Map,t=new Ak,r=[],i=Object.create(null);let s=!1;for(const[a,c]of this.#n){const u=c instanceof we?c.serialize(!1,i):c;c.page&&(c.pageIndex=c.page._pageIndex,delete c.page),u&&(e.set(a,u),t.update(`${a}:${JSON.stringify(u)}`),s||=!!u.bitmap)}if(s)for(const a of e.values())a.bitmap&&r.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:iy}get editorStats(){let e=null;const t=new Map;let r=0,i=0;for(const s of this.#n.values()){if(!(s instanceof we)){s.popup&&(s.popup.deleted?i+=1:r+=1);continue}s.isCommentDeleted?i+=1:s.hasEditedComment&&(r+=1);const a=s.telemetryFinalData;if(!a)continue;const{type:c}=a;t.has(c)||t.set(c,Object.getPrototypeOf(s).constructor),e||=Object.create(null);const u=e[c]||=new Map;for(const[d,f]of Object.entries(a)){if(d==="type")continue;let p=u.get(d);p||(p=new Map,u.set(d,p));const g=p.get(f)??0;p.set(f,g+1)}}if((i>0||r>0)&&(e||=Object.create(null),e.comments={deleted:i,edited:r}),!e)return null;for(const[s,a]of t)e[s]=a.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){this.#t=null}updateEditor(e,t){const r=this.#r?.get(e);return r?(r.updateFromAnnotationLayer(t),!0):!1}getEditor(e){return this.#r?.get(e)||null}get modifiedIds(){if(this.#t)return this.#t;const e=[];if(this.#r)for(const t of this.#r.values())t.serialize()&&e.push(t.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class Ck extends E0{#e;constructor(e){super();const{map:t,hash:r,transfer:i}=e.serializable,s=structuredClone(t,i?{transfer:i}:null);this.#e={map:s,hash:r,transfer:i}}get print(){nt("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return Re(this,"modifiedIds",{ids:new Set,hash:""})}}class k4{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:r}){if(!(!e||this.#e.has(e.loadedName))){if(et(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:a}=e,c=new FontFace(i,s,a);this.addNativeFontFace(c);try{await c.load(),this.#e.add(i),r?.(e)}catch{Pe(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}nt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw Pe(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return Re(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Re(this,"isSyncFontLoadingSupported",Sn||Gt.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(et(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:t,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Re(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(R,P){return R.charCodeAt(P)<<24|R.charCodeAt(P+1)<<16|R.charCodeAt(P+2)<<8|R.charCodeAt(P+3)&255}function i(R,P,M,L){const F=R.substring(0,P),z=R.substring(P+M);return F+L+z}let s,a;const c=this._document.createElement("canvas");c.width=1,c.height=1;const u=c.getContext("2d");let d=0;function f(R,P){if(++d>30){Pe("Load test font never loaded."),P();return}if(u.font="30px "+R,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0){P();return}setTimeout(f.bind(null,R,P))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=i(g,976,p.length,p);const w=16,b=1482184792;let x=r(g,w);for(s=0,a=p.length-3;s<a;s+=4)x=x-b+r(p,s)|0;s<p.length&&(x=x-b+r(p+"XXX",s)|0),g=i(g,w,4,o4(x));const A=`url(data:font/opentype;base64,${btoa(g)});`,T=`@font-face {font-family:"${p}";src:${A}}`;this.insertRule(T);const k=this._document.createElement("div");k.style.visibility="hidden",k.style.width=k.style.height="10px",k.style.position="absolute",k.style.top=k.style.left="0px";for(const R of[e.loadedName,p]){const P=this._document.createElement("span");P.textContent="Hi",P.style.fontFamily=R,k.append(P)}this._document.body.append(k),f(p,()=>{k.remove(),t.complete()})}}class T4{#e;constructor(e,t=null,r,i){this.compiledGlyphs=Object.create(null),this.#e=e,this._inspectFont=t,r&&Object.assign(this,r),i&&(this.charProcOperatorList=i)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${this.data.toBase64()});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return this._inspectFont?.(this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const r=this.loadedName+"_path_"+t;let i;try{i=e.get(r)}catch(a){Pe(`getPathGenerator - ignoring character: "${a}".`)}const s=Sk(i?.path);return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[t]=s}get black(){return this.#e.black}get bold(){return this.#e.bold}get disableFontFace(){return this.#e.disableFontFace??!1}set disableFontFace(e){Re(this,"disableFontFace",!!e)}get fontExtraProperties(){return this.#e.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#e.isInvalidPDFjsFont}get isType3Font(){return this.#e.isType3Font}get italic(){return this.#e.italic}get missingFile(){return this.#e.missingFile}get remeasure(){return this.#e.remeasure}get vertical(){return this.#e.vertical}get ascent(){return this.#e.ascent}get defaultWidth(){return this.#e.defaultWidth}get descent(){return this.#e.descent}get bbox(){return this.#e.bbox}set bbox(e){Re(this,"bbox",e)}get fontMatrix(){return this.#e.fontMatrix}get fallbackName(){return this.#e.fallbackName}get loadedName(){return this.#e.loadedName}get mimetype(){return this.#e.mimetype}get name(){return this.#e.name}get data(){return this.#e.data}clearData(){this.#e.clearData()}get cssFontInfo(){return this.#e.cssFontInfo}get systemFontInfo(){return this.#e.systemFontInfo}get defaultVMetrics(){return this.#e.defaultVMetrics}}class ka{#e;#t;#r;static strings=["fontFamily","fontWeight","italicAngle"];static write(e){const t=new TextEncoder,r={};let i=0;for(const d of ka.strings){const f=t.encode(e[d]);r[d]=f,i+=4+f.length}const s=new ArrayBuffer(i),a=new Uint8Array(s),c=new DataView(s);let u=0;for(const d of ka.strings){const f=r[d],p=f.length;c.setUint32(u,p),a.set(f,u+4),u+=4+p}return et(u===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#r=new TextDecoder}#n(e){et(e<ka.strings.length,"Invalid string index");let t=0;for(let i=0;i<e;i++)t+=this.#t.getUint32(t)+4;const r=this.#t.getUint32(t);return this.#r.decode(new Uint8Array(this.#e,t+4,r))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class Ta{#e;#t;#r;static strings=["css","loadedName","baseFontName","src"];static write(e){const t=new TextEncoder,r={};let i=0;for(const g of Ta.strings){const y=t.encode(e[g]);r[g]=y,i+=4+y.length}i+=4;let s,a,c=1+i;e.style&&(s=t.encode(e.style.style),a=t.encode(e.style.weight),c+=4+s.length+4+a.length);const u=new ArrayBuffer(c),d=new Uint8Array(u),f=new DataView(u);let p=0;f.setUint8(p++,e.guessFallback?1:0),f.setUint32(p,0),p+=4,i=0;for(const g of Ta.strings){const y=r[g],w=y.length;i+=4+w,f.setUint32(p,w),d.set(y,p+4),p+=4+w}return f.setUint32(p-i-4,i),e.style&&(f.setUint32(p,s.length),d.set(s,p+4),p+=4+s.length,f.setUint32(p,a.length),d.set(a,p+4),p+=4+a.length),et(p<=u.byteLength,"SubstitionInfo.write: Buffer overflow"),u.transferToFixedLength(p)}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#r=new TextDecoder}get guessFallback(){return this.#t.getUint8(0)!==0}#n(e){et(e<Ta.strings.length,"Invalid string index");let t=5;for(let i=0;i<e;i++)t+=this.#t.getUint32(t)+4;const r=this.#t.getUint32(t);return this.#r.decode(new Uint8Array(this.#e,t+4,r))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let e=1;e+=4+this.#t.getUint32(e);const t=this.#t.getUint32(e),r=this.#r.decode(new Uint8Array(this.#e,e+4,t));e+=4+t;const i=this.#t.getUint32(e),s=this.#r.decode(new Uint8Array(this.#e,e+4,i));return{style:r,weight:s}}}class at{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#e=Math.ceil(this.bools.length*2/8);static#t=this.#e+this.numbers.length*8;static#r=this.#t+1+8;static#n=this.#r+1+48;static#s=this.#n+1+6;#o;#i;#a;constructor({data:e,extra:t}){this.#o=e,this.#i=new TextDecoder,this.#a=new DataView(this.#o),t&&Object.assign(this,t)}#c(e){et(e<at.bools.length,"Invalid boolean index");const t=Math.floor(e/4),r=e*2%8,i=this.#a.getUint8(t)>>r&3;return i===0?void 0:i===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(e){return et(e<at.numbers.length,"Invalid number index"),this.#a.getFloat64(at.#e+e*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let e=at.#t;if(this.#a.getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<4;i++)r.push(this.#a.getInt16(e,!0)),e+=2;return r}get fontMatrix(){let e=at.#r;if(this.#a.getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<6;i++)r.push(this.#a.getFloat64(e,!0)),e+=8;return r}get defaultVMetrics(){let e=at.#n;if(this.#a.getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<3;i++)r.push(this.#a.getInt16(e,!0)),e+=2;return r}#h(e){et(e<at.strings.length,"Invalid string index");let t=at.#s+4;for(let s=0;s<e;s++)t+=this.#a.getUint32(t)+4;const r=this.#a.getUint32(t),i=new Uint8Array(r);return i.set(new Uint8Array(this.#o,t+4,r)),this.#i.decode(i)}get fallbackName(){return this.#h(0)}get loadedName(){return this.#h(1)}get mimetype(){return this.#h(2)}get name(){return this.#h(3)}get data(){let e=at.#s;const t=this.#a.getUint32(e);e+=4+t;const r=this.#a.getUint32(e);e+=4+r;const i=this.#a.getUint32(e);e+=4+i;const s=this.#a.getUint32(e);if(s!==0)return new Uint8Array(this.#o,e+4,s)}clearData(){let e=at.#s;const t=this.#a.getUint32(e);e+=4+t;const r=this.#a.getUint32(e);e+=4+r;const i=this.#a.getUint32(e);e+=4+i;const s=this.#a.getUint32(e);new Uint8Array(this.#o,e+4,s).fill(0),this.#a.setUint32(e,0)}get cssFontInfo(){let e=at.#s;const t=this.#a.getUint32(e);e+=4+t;const r=this.#a.getUint32(e);e+=4+r;const i=this.#a.getUint32(e);if(i===0)return null;const s=new Uint8Array(i);return s.set(new Uint8Array(this.#o,e+4,i)),new ka(s.buffer)}get systemFontInfo(){let e=at.#s;const t=this.#a.getUint32(e);e+=4+t;const r=this.#a.getUint32(e);if(r===0)return null;const i=new Uint8Array(r);return i.set(new Uint8Array(this.#o,e+4,r)),new Ta(i.buffer)}static write(e){const t=e.systemFontInfo?Ta.write(e.systemFontInfo):null,r=e.cssFontInfo?ka.write(e.cssFontInfo):null,i=new TextEncoder,s={};let a=0;for(const b of at.strings)s[b]=i.encode(e[b]),a+=4+s[b].length;const c=at.#s+4+a+4+(t?t.byteLength:0)+4+(r?r.byteLength:0)+4+(e.data?e.data.length:0),u=new ArrayBuffer(c),d=new Uint8Array(u),f=new DataView(u);let p=0;const g=at.bools.length;let y=0,w=0;for(let b=0;b<g;b++){const x=e[at.bools[b]];y|=(x===void 0?0:x?2:1)<<w,w+=2,(w===8||b===g-1)&&(f.setUint8(p++,y),y=0,w=0)}et(p===at.#e,"FontInfo.write: Boolean properties offset mismatch");for(const b of at.numbers)f.setFloat64(p,e[b]),p+=8;if(et(p===at.#t,"FontInfo.write: Number properties offset mismatch"),e.bbox){f.setUint8(p++,4);for(const b of e.bbox)f.setInt16(p,b,!0),p+=2}else f.setUint8(p++,0),p+=8;if(et(p===at.#r,"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){f.setUint8(p++,6);for(const b of e.fontMatrix)f.setFloat64(p,b,!0),p+=8}else f.setUint8(p++,0),p+=48;if(et(p===at.#n,"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){f.setUint8(p++,1);for(const b of e.defaultVMetrics)f.setInt16(p,b,!0),p+=2}else f.setUint8(p++,0),p+=6;et(p===at.#s,"FontInfo.write: DefaultVMetrics properties offset mismatch"),f.setUint32(at.#s,0),p+=4;for(const b of at.strings){const x=s[b],A=x.length;f.setUint32(p,A),d.set(x,p+4),p+=4+A}if(f.setUint32(at.#s,p-at.#s-4),!t)f.setUint32(p,0),p+=4;else{const b=t.byteLength;f.setUint32(p,b),et(p+4+b<=u.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),d.set(new Uint8Array(t),p+4),p+=4+b}if(!r)f.setUint32(p,0),p+=4;else{const b=r.byteLength;f.setUint32(p,b),et(p+4+b<=u.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),d.set(new Uint8Array(r),p+4),p+=4+b}return e.data===void 0?(f.setUint32(p,0),p+=4):(f.setUint32(p,e.data.length),d.set(e.data,p+4),p+=4+e.data.length),et(p<=u.byteLength,"FontInfo.write: Buffer overflow"),u.transferToFixedLength(p)}}class Qt{static#e=0;static#t=1;static#r=2;static#n=3;static#s=4;static#o=8;static#i=12;static#a=16;constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let t,r=null,i=[],s=[],a=[],c=[],u=null,d=null;switch(e[0]){case"RadialAxial":t=e[1]==="axial"?1:2,r=e[2],a=e[3],t===1?i.push(...e[4],...e[5]):i.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":t=3,u=e[1],i=e[2],s=e[3],c=e[4]||[],r=e[6],d=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const f=Math.floor(i.length/2),p=Math.floor(s.length/3),g=a.length,y=c.length;let w=0;for(const P of c)w+=1,w=Math.ceil(w/4)*4,w+=4+P.coords.length*4,w+=4+P.colors.length*4,P.verticesPerRow!==void 0&&(w+=4);const b=20+f*8+p*3+g*8+(r?16:0)+(d?3:0)+w,x=new ArrayBuffer(b),A=new DataView(x),T=new Uint8Array(x);A.setUint8(Qt.#e,t),A.setUint8(Qt.#t,r?1:0),A.setUint8(Qt.#r,d?1:0),A.setUint8(Qt.#n,u),A.setUint32(Qt.#s,f,!0),A.setUint32(Qt.#o,p,!0),A.setUint32(Qt.#i,g,!0),A.setUint32(Qt.#a,y,!0);let k=20;new Float32Array(x,k,f*2).set(i),k+=f*8,T.set(s,k),k+=p*3;for(const[P,M]of a)A.setFloat32(k,P,!0),k+=4,A.setUint32(k,parseInt(M.slice(1),16),!0),k+=4;if(r)for(const P of r)A.setFloat32(k,P,!0),k+=4;d&&(T.set(d,k),k+=3);for(let P=0;P<c.length;P++){const M=c[P];A.setUint8(k,M.type),k+=1,k=Math.ceil(k/4)*4,A.setUint32(k,M.coords.length,!0),k+=4,new Int32Array(x,k,M.coords.length).set(M.coords),k+=M.coords.length*4,A.setUint32(k,M.colors.length,!0),k+=4,new Int32Array(x,k,M.colors.length).set(M.colors),k+=M.colors.length*4,M.verticesPerRow!==void 0&&(A.setUint32(k,M.verticesPerRow,!0),k+=4)}return x}getIR(){const e=this.view,t=this.data[Qt.#e],r=!!this.data[Qt.#t],i=!!this.data[Qt.#r],s=e.getUint32(Qt.#s,!0),a=e.getUint32(Qt.#o,!0),c=e.getUint32(Qt.#i,!0),u=e.getUint32(Qt.#a,!0);let d=20;const f=new Float32Array(this.buffer,d,s*2);d+=s*8;const p=new Uint8Array(this.buffer,d,a*3);d+=a*3;const g=[];for(let x=0;x<c;++x){const A=e.getFloat32(d,!0);d+=4;const T=e.getUint32(d,!0);d+=4,g.push([A,`#${T.toString(16).padStart(6,"0")}`])}let y=null;if(r){y=[];for(let x=0;x<4;++x)y.push(e.getFloat32(d,!0)),d+=4}let w=null;i&&(w=new Uint8Array(this.buffer,d,3),d+=3);const b=[];for(let x=0;x<u;++x){const A=e.getUint8(d);d+=1,d=Math.ceil(d/4)*4;const T=e.getUint32(d,!0);d+=4;const k=new Int32Array(this.buffer,d,T);d+=T*4;const R=e.getUint32(d,!0);d+=4;const P=new Int32Array(this.buffer,d,R);d+=R*4;const M={type:A,coords:k,colors:P};A===Jg.LATTICE&&(M.verticesPerRow=e.getUint32(d,!0),d+=4),b.push(M)}if(t===1)return["RadialAxial","axial",y,g,Array.from(f.slice(0,2)),Array.from(f.slice(2,4)),null,null];if(t===2)return["RadialAxial","radial",y,g,[f[0],f[1]],[f[3],f[4]],f[2],f[5]];if(t===3){const x=this.data[Qt.#n];let A=null;if(f.length>0){let T=f[0],k=f[0],R=f[1],P=f[1];for(let M=0;M<f.length;M+=2){const L=f[M],F=f[M+1];T=T>L?L:T,R=R>F?F:R,k=k<L?L:k,P=P<F?F:P}A=[T,R,k,P]}return["Mesh",x,f,p,b,A,y,w]}throw new Error(`Unsupported pattern kind: ${t}`)}}class E4{static write(e){let t,r;return Gt.isFloat16ArraySupported?(r=new ArrayBuffer(e.length*2),t=new Float16Array(r)):(r=new ArrayBuffer(e.length*4),t=new Float32Array(r)),t.set(e),r}#e;constructor(e){this.#e=e}get path(){return Gt.isFloat16ArraySupported?new Float16Array(this.#e):new Float32Array(this.#e)}}function _4(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(Sn)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function P4(n){if(Sn&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return tf(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n?.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Nd(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const sy=n=>typeof n=="object"&&Number.isInteger(n?.num)&&n.num>=0&&Number.isInteger(n?.gen)&&n.gen>=0,R4=n=>typeof n=="object"&&typeof n?.name=="string",M4=d4.bind(null,sy,R4);class D4{#e=new Map;#t=Promise.resolve();postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};this.#t.then(()=>{for(const[i]of this.#e)i.call(this,r)})}addEventListener(e,t,r=null){let i=null;if(r?.signal instanceof AbortSignal){const{signal:s}=r;if(s.aborted){Pe("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,t);i=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}this.#e.set(t,i)}removeEventListener(e,t){this.#e.get(t)?.(),this.#e.delete(t)}terminate(){for(const[,e]of this.#e)e?.();this.#e.clear()}}const Od={DATA:1,ERROR:2},Nt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Rx(){}function Nn(n){if(n instanceof xs||n instanceof ey||n instanceof xx||n instanceof Mh||n instanceof Zm)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||nt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new xs(n.message);case"InvalidPDFException":return new ey(n.message);case"PasswordException":return new xx(n.message,n.code);case"ResponseException":return new Mh(n.message,n.status,n.missing);case"UnknownErrorException":return new Zm(n.message,n.details)}return new Zm(n.message,n.toString())}class sc{#e=new AbortController;constructor(e,t,r){this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#n(e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===Od.DATA)i.resolve(e.data);else if(e.callback===Od.ERROR)i.reject(Nn(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(a){s.postMessage({sourceName:r,targetName:i,callback:Od.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:r,targetName:i,callback:Od.ERROR,callbackId:e.callbackId,reason:Nn(a)})});return}if(e.streamId){this.#r(e);return}t(e.data)}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,t,r,i){const s=this.streamId++,a=this.sourceName,c=this.targetName,u=this.comObj;return new ReadableStream({start:d=>{const f=Promise.withResolvers();return this.streamControllers[s]={controller:d,startCall:f,pullCall:null,cancelCall:null,isClosed:!1},u.postMessage({sourceName:a,targetName:c,action:e,streamId:s,data:t,desiredSize:d.desiredSize},i),f.promise},pull:d=>{const f=Promise.withResolvers();return this.streamControllers[s].pullCall=f,u.postMessage({sourceName:a,targetName:c,stream:Nt.PULL,streamId:s,desiredSize:d.desiredSize}),f.promise},cancel:d=>{et(d instanceof Error,"cancel must have a valid reason");const f=Promise.withResolvers();return this.streamControllers[s].cancelCall=f,this.streamControllers[s].isClosed=!0,u.postMessage({sourceName:a,targetName:c,stream:Nt.CANCEL,streamId:s,reason:Nn(d)}),f.promise}},r)}#r(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this,c=this.actionHandler[e.action],u={enqueue(d,f=1,p){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=f,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:Nt.ENQUEUE,streamId:t,chunk:d},p)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:Nt.CLOSE,streamId:t}),delete a.streamSinks[t])},error(d){et(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:Nt.ERROR,streamId:t,reason:Nn(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[t]=u,Promise.try(c,e.data,u).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Nt.START_COMPLETE,streamId:t,success:!0})},function(d){s.postMessage({sourceName:r,targetName:i,stream:Nt.START_COMPLETE,streamId:t,reason:Nn(d)})})}#n(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this.streamControllers[t],c=this.streamSinks[t];switch(e.stream){case Nt.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(Nn(e.reason));break;case Nt.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(Nn(e.reason));break;case Nt.PULL:if(!c){s.postMessage({sourceName:r,targetName:i,stream:Nt.PULL_COMPLETE,streamId:t,success:!0});break}c.desiredSize<=0&&e.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=e.desiredSize,Promise.try(c.onPull||Rx).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Nt.PULL_COMPLETE,streamId:t,success:!0})},function(d){s.postMessage({sourceName:r,targetName:i,stream:Nt.PULL_COMPLETE,streamId:t,reason:Nn(d)})});break;case Nt.ENQUEUE:if(et(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case Nt.CLOSE:if(et(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),this.#s(a,t);break;case Nt.ERROR:et(a,"error should have stream controller"),a.controller.error(Nn(e.reason)),this.#s(a,t);break;case Nt.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(Nn(e.reason)),this.#s(a,t);break;case Nt.CANCEL:if(!c)break;const u=Nn(e.reason);Promise.try(c.onCancel||Rx,u).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Nt.CANCEL_COMPLETE,streamId:t,success:!0})},function(d){s.postMessage({sourceName:r,targetName:i,stream:Nt.CANCEL_COMPLETE,streamId:t,reason:Nn(d)})}),c.sinkCapability.reject(u),c.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async#s(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]}destroy(){this.#e?.abort(),this.#e=null}}class kk{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){nt("Abstract method `_createCanvas` called.")}}class I4 extends kk{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}class Tk{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){nt("Abstract method `_fetch` called.")}}class Mx extends Tk{async _fetch(e){const t=await qc(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):tf(t)}}class Ek{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,i,s){return"none"}destroy(e=!1){}}class L4 extends Ek{#e;#t;#r;#n;#s;#o;#i=0;constructor({docId:e,ownerDocument:t=globalThis.document}){super(),this.#n=e,this.#s=t}get#a(){return this.#t||=new Map}get#c(){return this.#o||=new Map}get#l(){if(!this.#r){const e=this.#s.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const r=this.#s.createElementNS(Ei,"svg");r.setAttribute("width",0),r.setAttribute("height",0),this.#r=this.#s.createElementNS(Ei,"defs"),e.append(r),r.append(this.#r),this.#s.body.append(e)}return this.#r}#h(e){if(e.length===1){const u=e[0],d=new Array(256);for(let p=0;p<256;p++)d[p]=u[p]/255;const f=d.join(",");return[f,f,f]}const[t,r,i]=e,s=new Array(256),a=new Array(256),c=new Array(256);for(let u=0;u<256;u++)s[u]=t[u]/255,a[u]=r[u]/255,c[u]=i[u]/255;return[s.join(","),a.join(","),c.join(",")]}#d(e){if(this.#e===void 0){this.#e="";const t=this.#s.URL;t!==this.#s.baseURI&&(nf(t)?Pe('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=yk(t,""))}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let t=this.#a.get(e);if(t)return t;const[r,i,s]=this.#h(e),a=e.length===1?r:`${r}${i}${s}`;if(t=this.#a.get(a),t)return this.#a.set(e,t),t;const c=`g_${this.#n}_transfer_map_${this.#i++}`,u=this.#d(c);this.#a.set(e,u),this.#a.set(a,u);const d=this.#m(c);return this.#p(r,i,s,d),u}addHCMFilter(e,t){const r=`${e}-${t}`,i="base";let s=this.#c.get(i);if(s?.key===r||(s?(s.filter?.remove(),s.key=r,s.url="none",s.filter=null):(s={key:r,url:"none",filter:null},this.#c.set(i,s)),!e||!t))return s.url;const a=this.#b(e);e=ae.makeHexColor(...a);const c=this.#b(t);if(t=ae.makeHexColor(...c),this.#l.style.color="",e==="#000000"&&t==="#ffffff"||e===t)return s.url;const u=new Array(256);for(let y=0;y<=255;y++){const w=y/255;u[y]=w<=.03928?w/12.92:((w+.055)/1.055)**2.4}const d=u.join(","),f=`g_${this.#n}_hcm_filter`,p=s.filter=this.#m(f);this.#p(d,d,d,p),this.#g(p);const g=(y,w)=>{const b=a[y]/255,x=c[y]/255,A=new Array(w+1);for(let T=0;T<=w;T++)A[T]=b+T/w*(x-b);return A.join(",")};return this.#p(g(0,5),g(1,5),g(2,5),p),s.url=this.#d(f),s.url}addAlphaFilter(e){let t=this.#a.get(e);if(t)return t;const[r]=this.#h([e]),i=`alpha_${r}`;if(t=this.#a.get(i),t)return this.#a.set(e,t),t;const s=`g_${this.#n}_alpha_map_${this.#i++}`,a=this.#d(s);this.#a.set(e,a),this.#a.set(i,a);const c=this.#m(s);return this.#y(r,c),a}addLuminosityFilter(e){let t=this.#a.get(e||"luminosity");if(t)return t;let r,i;if(e?([r]=this.#h([e]),i=`luminosity_${r}`):i="luminosity",t=this.#a.get(i),t)return this.#a.set(e,t),t;const s=`g_${this.#n}_luminosity_map_${this.#i++}`,a=this.#d(s);this.#a.set(e,a),this.#a.set(i,a);const c=this.#m(s);return this.#f(c),e&&this.#y(r,c),a}addHighlightHCMFilter(e,t,r,i,s){const a=`${t}-${r}-${i}-${s}`;let c=this.#c.get(e);if(c?.key===a||(c?(c.filter?.remove(),c.key=a,c.url="none",c.filter=null):(c={key:a,url:"none",filter:null},this.#c.set(e,c)),!t||!r))return c.url;const[u,d]=[t,r].map(this.#b.bind(this));let f=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),p=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[g,y]=[i,s].map(this.#b.bind(this));p<f&&([f,p,g,y]=[p,f,y,g]),this.#l.style.color="";const w=(A,T,k)=>{const R=new Array(256),P=(p-f)/k,M=A/255,L=(T-A)/(255*k);let F=0;for(let z=0;z<=k;z++){const q=Math.round(f+z*P),U=M+z*L;for(let be=F;be<=q;be++)R[be]=U;F=q+1}for(let z=F;z<256;z++)R[z]=R[F-1];return R.join(",")},b=`g_${this.#n}_hcm_${e}_filter`,x=c.filter=this.#m(b);return this.#g(x),this.#p(w(g[0],y[0],5),w(g[1],y[1],5),w(g[2],y[2],5),x),c.url=this.#d(b),c.url}destroy(e=!1){e&&this.#o?.size||(this.#r?.parentNode.parentNode.remove(),this.#r=null,this.#t?.clear(),this.#t=null,this.#o?.clear(),this.#o=null,this.#i=0)}#f(e){const t=this.#s.createElementNS(Ei,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#g(e){const t=this.#s.createElementNS(Ei,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#m(e){const t=this.#s.createElementNS(Ei,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#l.append(t),t}#u(e,t,r){const i=this.#s.createElementNS(Ei,t);i.setAttribute("type","discrete"),i.setAttribute("tableValues",r),e.append(i)}#p(e,t,r,i){const s=this.#s.createElementNS(Ei,"feComponentTransfer");i.append(s),this.#u(s,"feFuncR",e),this.#u(s,"feFuncG",t),this.#u(s,"feFuncB",r)}#y(e,t){const r=this.#s.createElementNS(Ei,"feComponentTransfer");t.append(r),this.#u(r,"feFuncA",e)}#b(e){return this.#l.style.color=e,Zc(getComputedStyle(this.#l).getPropertyValue("color"))}}class _k{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){nt("Abstract method `_fetch` called.")}}class Dx extends _k{async _fetch(e){const t=await qc(e,"arraybuffer");return new Uint8Array(t)}}class Pk{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){nt("Abstract method `_fetch` called.")}}class Ix extends Pk{async _fetch(e){const t=await qc(e,"arraybuffer");return new Uint8Array(t)}}Sn&&Pe("Please use the `legacy` build in Node.js environments.");async function _0(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class F4 extends Ek{}class N4 extends kk{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class O4 extends Tk{async _fetch(e){return _0(e)}}class B4 extends _k{async _fetch(e){return _0(e)}}class j4 extends Pk{async _fetch(e){return _0(e)}}const Jo="__forcedDependency",{floor:Lx,ceil:Fx}=Math;function Bd(n,e,t,r,i,s){n[e*4+0]=Math.min(n[e*4+0],t),n[e*4+1]=Math.min(n[e*4+1],r),n[e*4+2]=Math.max(n[e*4+2],i),n[e*4+3]=Math.max(n[e*4+3],s)}const oy=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class $4{#e;#t;constructor(e,t){this.#e=e,this.#t=t}get length(){return this.#e.length}isEmpty(e){return this.#e[e]===oy}minX(e){return this.#t[e*4+0]/256}minY(e){return this.#t[e*4+1]/256}maxX(e){return(this.#t[e*4+2]+1)/256}maxY(e){return(this.#t[e*4+3]+1)/256}}const jd=(n,e)=>{if(!n)return;let t=n.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},n.set(e,t)),t};class z4{#e={__proto__:null};#t={__proto__:null,transform:[],moveText:[],sameLineText:[],[Jo]:[]};#r=new Map;#n=[];#s=[];#o=[[1,0,0,1,0,0]];#i=[-1/0,-1/0,1/0,1/0];#a=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#h=new Map;#d=new Map;#f;#g;#m;#u;#p;constructor(e,t,r=!1){this.#f=e.width,this.#g=e.height,this.#y(t),r&&(this.#p=new Map)}growOperationsCount(e){e>=this.#u.length&&this.#y(e,this.#u)}#y(e,t){const r=new ArrayBuffer(e*4);this.#m=new Uint8ClampedArray(r),this.#u=new Uint32Array(r),t&&t.length>0?(this.#u.set(t),this.#u.fill(oy,t.length)):this.#u.fill(oy)}save(e){return this.#e={__proto__:this.#e},this.#t={__proto__:this.#t,transform:{__proto__:this.#t.transform},moveText:{__proto__:this.#t.moveText},sameLineText:{__proto__:this.#t.sameLineText},[Jo]:{__proto__:this.#t[Jo]}},this.#i={__proto__:this.#i},this.#n.push(e),this}restore(e){const t=Object.getPrototypeOf(this.#e);if(t===null)return this;this.#e=t,this.#t=Object.getPrototypeOf(this.#t),this.#i=Object.getPrototypeOf(this.#i);const r=this.#n.pop();return r!==void 0&&(jd(this.#p,e)?.dependencies.add(r),this.#u[e]=this.#u[r]),this}recordOpenMarker(e){return this.#n.push(e),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(e){const t=this.#n.pop();return t!==void 0&&(jd(this.#p,e)?.dependencies.add(t),this.#u[e]=this.#u[t]),this}beginMarkedContent(e){return this.#s.push(e),this}endMarkedContent(e){const t=this.#s.pop();return t!==void 0&&(jd(this.#p,e)?.dependencies.add(t),this.#u[e]=this.#u[t]),this}pushBaseTransform(e){return this.#o.push(ae.multiplyByDOMMatrix(this.#o.at(-1),e.getTransform())),this}popBaseTransform(){return this.#o.length>1&&this.#o.pop(),this}recordSimpleData(e,t){return this.#e[e]=t,this}recordIncrementalData(e,t){return this.#t[e].push(t),this}resetIncrementalData(e,t){return this.#t[e].length=0,this}recordNamedData(e,t){return this.#r.set(e,t),this}recordSimpleDataFromNamed(e,t,r){this.#e[e]=this.#r.get(t)??r}recordFutureForcedDependency(e,t){return this.recordIncrementalData(Jo,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in this.#e&&this.recordFutureForcedDependency(t,this.#e[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of this.#l)this.recordFutureForcedDependency(Jo,e);return this}resetBBox(e){return this.#c!==e&&(this.#c=e,this.#a[0]=1/0,this.#a[1]=1/0,this.#a[2]=-1/0,this.#a[3]=-1/0),this}recordClipBox(e,t,r,i,s,a){const c=ae.multiplyByDOMMatrix(this.#o.at(-1),t.getTransform()),u=[1/0,1/0,-1/0,-1/0];ae.axialAlignedBoundingBox([r,s,i,a],c,u);const d=ae.intersect(this.#i,u);return d?(this.#i[0]=d[0],this.#i[1]=d[1],this.#i[2]=d[2],this.#i[3]=d[3]):(this.#i[0]=this.#i[1]=1/0,this.#i[2]=this.#i[3]=-1/0),this}recordBBox(e,t,r,i,s,a){const c=this.#i;if(c[0]===1/0)return this;const u=ae.multiplyByDOMMatrix(this.#o.at(-1),t.getTransform());if(c[0]===-1/0)return ae.axialAlignedBoundingBox([r,s,i,a],u,this.#a),this;const d=[1/0,1/0,-1/0,-1/0];return ae.axialAlignedBoundingBox([r,s,i,a],u,d),this.#a[0]=Math.min(this.#a[0],Math.max(d[0],c[0])),this.#a[1]=Math.min(this.#a[1],Math.max(d[1],c[1])),this.#a[2]=Math.max(this.#a[2],Math.min(d[2],c[2])),this.#a[3]=Math.max(this.#a[3],Math.min(d[3],c[3])),this}recordCharacterBBox(e,t,r,i=1,s=0,a=0,c){const u=r.bbox;let d,f;if(u&&(d=u[2]!==u[0]&&u[3]!==u[1]&&this.#d.get(r),d!==!1&&(f=[0,0,0,0],ae.axialAlignedBoundingBox(u,r.fontMatrix,f),(i!==1||s!==0||a!==0)&&ae.scaleMinMax([i,0,0,-i,s,a],f),d)))return this.recordBBox(e,t,f[0],f[2],f[1],f[3]);if(!c)return this.recordFullPageBBox(e);const p=c();return u&&f&&d===void 0&&(d=f[0]<=s-p.actualBoundingBoxLeft&&f[2]>=s+p.actualBoundingBoxRight&&f[1]<=a-p.actualBoundingBoxAscent&&f[3]>=a+p.actualBoundingBoxDescent,this.#d.set(r,d),d)?this.recordBBox(e,t,f[0],f[2],f[1],f[3]):this.recordBBox(e,t,s-p.actualBoundingBoxLeft,s+p.actualBoundingBoxRight,a-p.actualBoundingBoxAscent,a+p.actualBoundingBoxDescent)}recordFullPageBBox(e){return this.#a[0]=Math.max(0,this.#i[0]),this.#a[1]=Math.max(0,this.#i[1]),this.#a[2]=Math.min(this.#f,this.#i[2]),this.#a[3]=Math.min(this.#g,this.#i[3]),this}getSimpleIndex(e){return this.#e[e]}recordDependencies(e,t){const r=this.#l,i=this.#e,s=this.#t;for(const a of t)a in this.#e?r.add(i[a]):a in s&&s[a].forEach(r.add,r);return this}recordNamedDependency(e,t){return this.#r.has(t)&&this.#l.add(this.#r.get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[Jo]),this.#p){const r=jd(this.#p,e),{dependencies:i}=r;this.#l.forEach(i.add,i),this.#n.forEach(i.add,i),this.#s.forEach(i.add,i),i.delete(e),r.isRenderingOperation=!0}if(this.#c===e){const r=Lx(this.#a[0]*256/this.#f),i=Lx(this.#a[1]*256/this.#g),s=Fx(this.#a[2]*256/this.#f),a=Fx(this.#a[3]*256/this.#g);Bd(this.#m,e,r,i,s,a);for(const c of this.#l)c!==e&&Bd(this.#m,c,r,i,s,a);for(const c of this.#n)c!==e&&Bd(this.#m,c,r,i,s,a);for(const c of this.#s)c!==e&&Bd(this.#m,c,r,i,s,a);t||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(e,t=!1){const r=Array.from(this.#l);this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const i of r)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,t=!1){return this.#c===e&&(this.#c=-1,this.#i[0]=Math.max(this.#i[0],this.#a[0]),this.#i[1]=Math.max(this.#i[1],this.#a[1]),this.#i[2]=Math.min(this.#i[2],this.#a[2]),this.#i[3]=Math.min(this.#i[3],this.#a[3]),t||this.#l.clear()),this}_takePendingDependencies(){const e=this.#l;return this.#l=new Set,e}_extractOperation(e){const t=this.#h.get(e);return this.#h.delete(e),t}_pushPendingDependencies(e){for(const t of e)this.#l.add(t)}take(){return this.#d.clear(),new $4(this.#u,this.#m)}takeDebugMetadata(){return this.#p}}class Dh{#e;#t;#r;#n=0;#s=0;constructor(e,t,r){if(e instanceof Dh&&e.#r===!!r)return e;this.#e=e,this.#t=t,this.#r=!!r}growOperationsCount(){throw new Error("Unreachable")}save(e){return this.#s++,this.#e.save(this.#t),this}restore(e){return this.#s>0&&(this.#e.restore(this.#t),this.#s--),this}recordOpenMarker(e){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#t:this.#e.getOpenMarker()}recordCloseMarker(e){return this.#n--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return this.#e.pushBaseTransform(e),this}popBaseTransform(){return this.#e.popBaseTransform(),this}recordSimpleData(e,t){return this.#e.recordSimpleData(e,this.#t),this}recordIncrementalData(e,t){return this.#e.recordIncrementalData(e,this.#t),this}resetIncrementalData(e,t){return this.#e.resetIncrementalData(e,this.#t),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,r){return this.#e.recordSimpleDataFromNamed(e,t,this.#t),this}recordFutureForcedDependency(e,t){return this.#e.recordFutureForcedDependency(e,this.#t),this}inheritSimpleDataAsFutureForcedDependencies(e){return this.#e.inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#e.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return this.#r||this.#e.resetBBox(this.#t),this}recordClipBox(e,t,r,i,s,a){return this.#r||this.#e.recordClipBox(this.#t,t,r,i,s,a),this}recordBBox(e,t,r,i,s,a){return this.#r||this.#e.recordBBox(this.#t,t,r,i,s,a),this}recordCharacterBBox(e,t,r,i,s,a,c){return this.#r||this.#e.recordCharacterBBox(this.#t,t,r,i,s,a,c),this}recordFullPageBBox(e){return this.#r||this.#e.recordFullPageBBox(this.#t),this}getSimpleIndex(e){return this.#e.getSimpleIndex(e)}recordDependencies(e,t){return this.#e.recordDependencies(this.#t,t),this}recordNamedDependency(e,t){return this.#e.recordNamedDependency(this.#t,t),this}recordOperation(e){return this.#e.recordOperation(this.#t,!0),this}recordShowTextOperation(e){return this.#e.recordShowTextOperation(this.#t,!0),this}bboxToClipBoxDropOperation(e){return this.#r||this.#e.bboxToClipBoxDropOperation(this.#t,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const dr={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},on={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function ay(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,r),n.clip(i)}class P0{isModifyingCurrentTransform(){return!1}getPattern(){nt("Abstract method `getPattern` called.")}}class V4 extends P0{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}isOriginBased(){return this._p0[0]===0&&this._p0[1]===0&&(!this.isRadial()||this._p1[0]===0&&this._p1[1]===0)}isRadial(){return this._type==="radial"}_createGradient(e,t=null){let r,i=this._p0,s=this._p1;if(t&&(i=i.slice(),s=s.slice(),ae.applyTransform(i,t),ae.applyTransform(s,t)),this._type==="axial")r=e.createLinearGradient(i[0],i[1],s[0],s[1]);else if(this._type==="radial"){let a=this._r0,c=this._r1;if(t){const u=new Float32Array(2);ae.singularValueDecompose2dScale(t,u),a*=u[0],c*=u[0]}r=e.createRadialGradient(i[0],i[1],a,s[0],s[1],c)}for(const a of this._colorStops)r.addColorStop(a[0],a[1]);return r}getPattern(e,t,r,i){let s;if(i===on.STROKE||i===on.FILL){if(this.isOriginBased()){let g=ae.transform(r,t.baseTransform);this.matrix&&(g=ae.transform(g,this.matrix));const y=.001,w=Math.hypot(g[0],g[1]),b=Math.hypot(g[2],g[3]),x=(g[0]*g[2]+g[1]*g[3])/(w*b);if(Math.abs(x)<y)if(this.isRadial()){if(Math.abs(w-b)<y)return this._createGradient(e,g)}else return this._createGradient(e,g)}const a=t.current.getClippedPathBoundingBox(i,Ct(e))||[0,0,0,0],c=Math.ceil(a[2]-a[0])||1,u=Math.ceil(a[3]-a[1])||1,d=t.cachedCanvases.getCanvas("pattern",c,u),f=d.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-a[0],-a[1]),r=ae.transform(r,[1,0,0,1,a[0],a[1]]),f.transform(...t.baseTransform),this.matrix&&f.transform(...this.matrix),ay(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),s=e.createPattern(d.canvas,"no-repeat");const p=new DOMMatrix(r);s.setTransform(p)}else ay(e,this._bbox),s=this._createGradient(e);return s}}function tg(n,e,t,r,i,s,a,c){const u=e.coords,d=e.colors,f=n.data,p=n.width*4;let g;u[t+1]>u[r+1]&&(g=t,t=r,r=g,g=s,s=a,a=g),u[r+1]>u[i+1]&&(g=r,r=i,i=g,g=a,a=c,c=g),u[t+1]>u[r+1]&&(g=t,t=r,r=g,g=s,s=a,a=g);const y=(u[t]+e.offsetX)*e.scaleX,w=(u[t+1]+e.offsetY)*e.scaleY,b=(u[r]+e.offsetX)*e.scaleX,x=(u[r+1]+e.offsetY)*e.scaleY,A=(u[i]+e.offsetX)*e.scaleX,T=(u[i+1]+e.offsetY)*e.scaleY;if(w>=T)return;const k=d[s],R=d[s+1],P=d[s+2],M=d[a],L=d[a+1],F=d[a+2],z=d[c],q=d[c+1],U=d[c+2],be=Math.round(w),xe=Math.round(T);let ve,De,re,G,Q,ie,ne,O;for(let Y=be;Y<=xe;Y++){if(Y<x){const me=Y<w?0:(w-Y)/(w-x);ve=y-(y-b)*me,De=k-(k-M)*me,re=R-(R-L)*me,G=P-(P-F)*me}else{let me;Y>T?me=1:x===T?me=0:me=(x-Y)/(x-T),ve=b-(b-A)*me,De=M-(M-z)*me,re=L-(L-q)*me,G=F-(F-U)*me}let W;Y<w?W=0:Y>T?W=1:W=(w-Y)/(w-T),Q=y-(y-A)*W,ie=k-(k-z)*W,ne=R-(R-q)*W,O=P-(P-U)*W;const se=Math.round(Math.min(ve,Q)),pe=Math.round(Math.max(ve,Q));let de=p*Y+se*4;for(let me=se;me<=pe;me++)W=(ve-me)/(ve-Q),W<0?W=0:W>1&&(W=1),f[de++]=De-(De-ie)*W|0,f[de++]=re-(re-ne)*W|0,f[de++]=G-(G-O)*W|0,f[de++]=255}}function U4(n,e,t){const r=e.coords,i=e.colors;let s,a;switch(e.type){case Jg.LATTICE:const c=e.verticesPerRow,u=Math.floor(r.length/c)-1,d=c-1;for(s=0;s<u;s++){let f=s*c;for(let p=0;p<d;p++,f++)tg(n,t,r[f],r[f+1],r[f+c],i[f],i[f+1],i[f+c]),tg(n,t,r[f+c+1],r[f+1],r[f+c],i[f+c+1],i[f+1],i[f+c])}break;case Jg.TRIANGLES:for(s=0,a=r.length;s<a;s+=3)tg(n,t,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class H4 extends P0{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,r){const c=Math.floor(this._bounds[0]),u=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-c,f=Math.ceil(this._bounds[3])-u,p=Math.min(Math.ceil(Math.abs(d*e[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(f*e[1]*1.1)),3e3),y=d/p,w=f/g,b={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-u,scaleX:1/y,scaleY:1/w},x=p+4,A=g+4,T=r.getCanvas("mesh",x,A),k=T.context,R=k.createImageData(p,g);if(t){const M=R.data;for(let L=0,F=M.length;L<F;L+=4)M[L]=t[0],M[L+1]=t[1],M[L+2]=t[2],M[L+3]=255}for(const M of this._figures)U4(R,M,b);return k.putImageData(R,2,2),{canvas:T.canvas,offsetX:c-2*y,offsetY:u-2*w,scaleX:y,scaleY:w}}isModifyingCurrentTransform(){return!0}getPattern(e,t,r,i){ay(e,this._bbox);const s=new Float32Array(2);if(i===on.SHADING)ae.singularValueDecompose2dScale(Ct(e),s);else if(this.matrix){ae.singularValueDecompose2dScale(this.matrix,s);const[c,u]=s;ae.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=c,s[1]*=u}else ae.singularValueDecompose2dScale(t.baseTransform,s);const a=this._createMeshCanvas(s,i===on.SHADING?null:this._background,t.cachedCanvases);return i!==on.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class W4 extends P0{getPattern(){return"hotpink"}}function G4(n){switch(n[0]){case"RadialAxial":return new V4(n);case"Mesh":return new H4(n);case"Dummy":return new W4}throw new Error(`Unknown IR type: ${n[0]}`)}const Nx={COLORED:1,UNCOLORED:2};class R0{static MAX_PATTERN_SIZE=3e3;constructor(e,t,r,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e,t){const{bbox:r,operatorList:i,paintType:s,tilingType:a,color:c,canvasGraphicsFactory:u}=this;let{xstep:d,ystep:f}=this;d=Math.abs(d),f=Math.abs(f),ef("TilingType: "+a);const p=r[0],g=r[1],y=r[2],w=r[3],b=y-p,x=w-g,A=new Float32Array(2);ae.singularValueDecompose2dScale(this.matrix,A);const[T,k]=A;ae.singularValueDecompose2dScale(this.baseTransform,A);const R=T*A[0],P=k*A[1];let M=b,L=x,F=!1,z=!1;const q=Math.ceil(d*R),U=Math.ceil(f*P),be=Math.ceil(b*R),xe=Math.ceil(x*P);q>=be?M=d:F=!0,U>=xe?L=f:z=!0;const ve=this.getSizeAndScale(M,this.ctx.canvas.width,R),De=this.getSizeAndScale(L,this.ctx.canvas.height,P),re=e.cachedCanvases.getCanvas("pattern",ve.size,De.size),G=re.context,Q=u.createCanvasGraphics(G,t);if(Q.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(Q,s,c),G.translate(-ve.scale*p,-De.scale*g),Q.transform(0,ve.scale,0,0,De.scale,0,0),G.save(),Q.dependencyTracker?.save(),this.clipBbox(Q,p,g,y,w),Q.baseTransform=Ct(Q.ctx),Q.executeOperatorList(i),Q.endDrawing(),Q.dependencyTracker?.restore(),G.restore(),F||z){const ie=re.canvas;F&&(M=d),z&&(L=f);const ne=this.getSizeAndScale(M,this.ctx.canvas.width,R),O=this.getSizeAndScale(L,this.ctx.canvas.height,P),Y=ne.size,W=O.size,se=e.cachedCanvases.getCanvas("pattern-workaround",Y,W),pe=se.context,de=F?Math.floor(b/d):0,me=z?Math.floor(x/f):0;for(let _e=0;_e<=de;_e++)for(let Ve=0;Ve<=me;Ve++)pe.drawImage(ie,Y*_e,W*Ve,Y,W,0,0,Y,W);return{canvas:se.canvas,scaleX:ne.scale,scaleY:O.scale,offsetX:p,offsetY:g}}return{canvas:re.canvas,scaleX:ve.scale,scaleY:De.scale,offsetX:p,offsetY:g}}getSizeAndScale(e,t,r){const i=Math.max(R0.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,t,r,i,s){const a=i-t,c=s-r;e.ctx.rect(t,r,a,c),ae.axialAlignedBoundingBox([t,r,i,s],Ct(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const i=e.ctx,s=e.current;switch(t){case Nx.COLORED:const{fillStyle:a,strokeStyle:c}=this.ctx;i.fillStyle=s.fillColor=a,i.strokeStyle=s.strokeColor=c;break;case Nx.UNCOLORED:i.fillStyle=i.strokeStyle=r,s.fillColor=s.strokeColor=r;break;default:throw new i4(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,r,i,s){let a=r;i!==on.SHADING&&(a=ae.transform(a,t.baseTransform),this.matrix&&(a=ae.transform(a,this.matrix)));const c=this.createPatternCanvas(t,s);let u=new DOMMatrix(a);u=u.translate(c.offsetX,c.offsetY),u=u.scale(1/c.scaleX,1/c.scaleY);const d=e.createPattern(c.canvas,"repeat");return d.setTransform(u),d}}function X4({src:n,srcPos:e=0,dest:t,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const c=Gt.isLittleEndian?4278190080:255,[u,d]=a?[s,c]:[c,s],f=r>>3,p=r&7,g=n.length;t=new Uint32Array(t.buffer);let y=0;for(let w=0;w<i;w++){for(const x=e+f;e<x;e++){const A=e<g?n[e]:255;t[y++]=A&128?d:u,t[y++]=A&64?d:u,t[y++]=A&32?d:u,t[y++]=A&16?d:u,t[y++]=A&8?d:u,t[y++]=A&4?d:u,t[y++]=A&2?d:u,t[y++]=A&1?d:u}if(p===0)continue;const b=e<g?n[e++]:255;for(let x=0;x<p;x++)t[y++]=b&1<<7-x?d:u}return{srcPos:e,destPos:y}}const Ox=16,Bx=100,K4=15,jx=10,On=16,ng=new DOMMatrix,Xn=new Float32Array(2),ya=new Float32Array([1/0,1/0,-1/0,-1/0]);function Y4(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,r){e.translate(t,r),this.__originalTranslate(t,r)},n.scale=function(t,r){e.scale(t,r),this.__originalScale(t,r)},n.transform=function(t,r,i,s,a,c){e.transform(t,r,i,s,a,c),this.__originalTransform(t,r,i,s,a,c)},n.setTransform=function(t,r,i,s,a,c){e.setTransform(t,r,i,s,a,c),this.__originalSetTransform(t,r,i,s,a,c)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,i,s,a,c){e.bezierCurveTo(t,r,i,s,a,c),this.__originalBezierCurveTo(t,r,i,s,a,c)},n.rect=function(t,r,i,s){e.rect(t,r,i,s),this.__originalRect(t,r,i,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class q4{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,r)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function $d(n,e,t,r,i,s,a,c,u,d){const[f,p,g,y,w,b]=Ct(n);if(p===0&&g===0){const T=a*f+w,k=Math.round(T),R=c*y+b,P=Math.round(R),M=(a+u)*f+w,L=Math.abs(Math.round(M)-k)||1,F=(c+d)*y+b,z=Math.abs(Math.round(F)-P)||1;return n.setTransform(Math.sign(f),0,0,Math.sign(y),k,P),n.drawImage(e,t,r,i,s,0,0,L,z),n.setTransform(f,p,g,y,w,b),[L,z]}if(f===0&&y===0){const T=c*g+w,k=Math.round(T),R=a*p+b,P=Math.round(R),M=(c+d)*g+w,L=Math.abs(Math.round(M)-k)||1,F=(a+u)*p+b,z=Math.abs(Math.round(F)-P)||1;return n.setTransform(0,Math.sign(p),Math.sign(g),0,k,P),n.drawImage(e,t,r,i,s,0,0,z,L),n.setTransform(f,p,g,y,w,b),[z,L]}n.drawImage(e,t,r,i,s,a,c,u,d);const x=Math.hypot(f,p),A=Math.hypot(g,y);return[x*u,A*d]}class $x{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=Zg;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Ht.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(e,t,r){r?.(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=ya.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=on.FILL,t=null){const r=this.minMax.slice();if(e===on.STROKE){t||nt("Stroke bounding box must include transform."),ae.singularValueDecompose2dScale(t,Xn);const i=Xn[0]*this.lineWidth/2,s=Xn[1]*this.lineWidth/2;r[0]-=i,r[1]-=s,r[2]+=i,r[3]+=s}return r}updateClipFromPath(){const e=ae.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(ya,0)}getClippedPathBoundingBox(e=on.FILL,t=null){return ae.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function zx(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,i=t%On,s=(t-i)/On,a=i===0?s:s+1,c=n.createImageData(r,On);let u=0,d;const f=e.data,p=c.data;let g,y,w,b;if(e.kind===fh.GRAYSCALE_1BPP){const x=f.byteLength,A=new Uint32Array(p.buffer,0,p.byteLength>>2),T=A.length,k=r+7>>3,R=4294967295,P=Gt.isLittleEndian?4278190080:255;for(g=0;g<a;g++){for(w=g<s?On:i,d=0,y=0;y<w;y++){const M=x-u;let L=0;const F=M>k?r:M*8-7,z=F&-8;let q=0,U=0;for(;L<z;L+=8)U=f[u++],A[d++]=U&128?R:P,A[d++]=U&64?R:P,A[d++]=U&32?R:P,A[d++]=U&16?R:P,A[d++]=U&8?R:P,A[d++]=U&4?R:P,A[d++]=U&2?R:P,A[d++]=U&1?R:P;for(;L<F;L++)q===0&&(U=f[u++],q=128),A[d++]=U&q?R:P,q>>=1}for(;d<T;)A[d++]=0;n.putImageData(c,0,g*On)}}else if(e.kind===fh.RGBA_32BPP){for(y=0,b=r*On*4,g=0;g<s;g++)p.set(f.subarray(u,u+b)),u+=b,n.putImageData(c,0,y),y+=On;g<a&&(b=r*i*4,p.set(f.subarray(u,u+b)),n.putImageData(c,0,y))}else if(e.kind===fh.RGB_24BPP)for(w=On,b=r*w,g=0;g<a;g++){for(g>=s&&(w=i,b=r*w),d=0,y=b;y--;)p[d++]=f[u++],p[d++]=f[u++],p[d++]=f[u++],p[d++]=255;n.putImageData(c,0,g*On)}else throw new Error(`bad image kind: ${e.kind}`)}function Vx(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,i=t%On,s=(t-i)/On,a=i===0?s:s+1,c=n.createImageData(r,On);let u=0;const d=e.data,f=c.data;for(let p=0;p<a;p++){const g=p<s?On:i;({srcPos:u}=X4({src:d,srcPos:u,dest:f,width:r,height:g,nonBlackColor:0})),n.putImageData(c,0,p*On)}}function Vl(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function zd(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function Ux(n,e){if(e)return!0;ae.singularValueDecompose2dScale(n,Xn);const t=Math.fround(hi.pixelRatio*Na.PDF_TO_CSS_UNITS);return Xn[0]<=t&&Xn[1]<=t}const Q4=["butt","round","square"],Z4=["miter","round","bevel"],J4={},Hx={};class Ea{constructor(e,t,r,i,s,{optionalContentConfig:a,markedContentStack:c=null},u,d,f){this.ctx=e,this.current=new $x(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=a,this.cachedCanvases=new q4(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=u,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=f??null}getObject(e,t,r=null){return typeof t=="string"?(this.dependencyTracker?.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):r}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=c,r){const u=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform(...Ct(this.compositeCtx))}this.ctx.save(),zd(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Ct(this.ctx)}executeOperatorList(e,t,r,i,s){const a=e.argsArray,c=e.fnArray;let u=t||0;const d=a.length;if(d===u)return u;const f=d-u>jx&&typeof r=="function",p=f?Date.now()+K4:0;let g=0;const y=this.commonObjs,w=this.objs;let b,x;for(;;){if(i!==void 0&&u===i.nextBreakPoint)return i.breakIt(u,r),u;if(!s||s(u))if(b=c[u],x=a[u]??null,b!==Ic.dependency)x===null?this[b](u):this[b](u,...x);else for(const A of x){this.dependencyTracker?.recordNamedData(A,u);const T=A.startsWith("g_")?y:w;if(!T.has(A))return T.get(A,r),u}if(u++,u===d)return u;if(f&&++g>jx){if(Date.now()>p)return r(),u;g=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),c=r,u=i,d="prescale1",f,p;for(;s>2&&c>1||a>2&&u>1;){let g=c,y=u;s>2&&c>1&&(g=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),s/=c/g),a>2&&u>1&&(y=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u)/2,a/=u/y),f=this.cachedCanvases.getCanvas(d,g,y),p=f.context,p.clearRect(0,0,g,y),p.drawImage(e,0,0,c,u,0,0,g,y),e=f.canvas,c=g,u=y,d=d==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:c,paintHeight:u}}_createMaskCanvas(e,t){const r=this.ctx,{width:i,height:s}=t,a=this.current.fillColor,c=this.current.patternFill,u=Ct(r);let d,f,p,g;if((t.bitmap||t.data)&&t.count>1){const q=t.bitmap||t.data.buffer;f=JSON.stringify(c?u:[u.slice(0,4),a]),d=this._cachedBitmapsMap.get(q),d||(d=new Map,this._cachedBitmapsMap.set(q,d));const U=d.get(f);if(U&&!c){const be=Math.round(Math.min(u[0],u[2])+u[4]),xe=Math.round(Math.min(u[1],u[3])+u[5]);return this.dependencyTracker?.recordDependencies(e,dr.transformAndFill),{canvas:U,offsetX:be,offsetY:xe}}p=U}p||(g=this.cachedCanvases.getCanvas("maskCanvas",i,s),Vx(g.context,t));let y=ae.transform(u,[1/i,0,0,-1/s,0,0]);y=ae.transform(y,[1,0,0,1,0,-s]);const w=ya.slice();ae.axialAlignedBoundingBox([0,0,i,s],y,w);const[b,x,A,T]=w,k=Math.round(A-b)||1,R=Math.round(T-x)||1,P=this.cachedCanvases.getCanvas("fillCanvas",k,R),M=P.context,L=b,F=x;M.translate(-L,-F),M.transform(...y),p||(p=this._scaleImage(g.canvas,Jr(M)),p=p.img,d&&c&&d.set(f,p)),M.imageSmoothingEnabled=Ux(Ct(M),t.interpolate),$d(M,p,0,0,p.width,p.height,0,0,i,s),M.globalCompositeOperation="source-in";const z=ae.transform(Jr(M),[1,0,0,1,-L,-F]);return M.fillStyle=c?a.getPattern(r,this,z,on.FILL,e):a,M.fillRect(0,0,i,s),d&&!c&&(this.cachedCanvases.delete("fillCanvas"),d.set(f,P.canvas)),this.dependencyTracker?.recordDependencies(e,dr.transformAndFill),{canvas:P.canvas,offsetX:Math.round(L),offsetY:Math.round(F)}}setLineWidth(e,t){this.dependencyTracker?.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){this.dependencyTracker?.recordSimpleData("lineCap",e),this.ctx.lineCap=Q4[t]}setLineJoin(e,t){this.dependencyTracker?.recordSimpleData("lineJoin",e),this.ctx.lineJoin=Z4[t]}setMiterLimit(e,t){this.dependencyTracker?.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,r){this.dependencyTracker?.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=r)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){for(const[r,i]of t)switch(r){case"LW":this.setLineWidth(e,i);break;case"LC":this.setLineCap(e,i);break;case"LJ":this.setLineJoin(e,i);break;case"ML":this.setMiterLimit(e,i);break;case"D":this.setDash(e,i[0],i[1]);break;case"RI":this.setRenderingIntent(e,i);break;case"FL":this.setFlatness(e,i);break;case"Font":this.setFont(e,i[0],i[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=i;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=i;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=i;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",e),this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,r=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,t,r);this.suspendedCtx=this.ctx;const a=this.ctx=s.context;a.setTransform(this.suspendedCtx.getTransform()),Vl(this.suspendedCtx,a),Y4(a,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Vl(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,i){const s=i[0],a=i[1],c=i[2]-s,u=i[3]-a;c===0||u===0||(this.genericComposeSMask(t.context,r,c,u,t.subtype,t.backdrop,t.transferMap,s,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,i,s,a,c,u,d,f,p){let g=e.canvas,y=u-f,w=d-p;if(a)if(y<0||w<0||y+r>g.width||w+i>g.height){const x=this.cachedCanvases.getCanvas("maskExtension",r,i),A=x.context;A.drawImage(g,-y,-w),A.globalCompositeOperation="destination-atop",A.fillStyle=a,A.fillRect(0,0,r,i),A.globalCompositeOperation="source-over",g=x.canvas,y=w=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const x=new Path2D;x.rect(y,w,r,i),e.clip(x),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(y,w,r,i),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&c?t.filter=this.filterFactory.addAlphaFilter(c):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(c));const b=new Path2D;b.rect(u,d,r,i),t.clip(b),t.globalCompositeOperation="destination-in",t.drawImage(g,y,w,r,i,u,d,r,i),t.restore()}save(e){this.inSMaskMode&&Vl(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),this.dependencyTracker?.save(e)}restore(e){if(this.dependencyTracker?.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Vl(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,r,i,s,a,c){this.dependencyTracker?.recordIncrementalData("transform",e),this.ctx.transform(t,r,i,s,a,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r,i){let[s]=r;if(!i){s||=r[0]=new Path2D,this[t](e,s);return}if(this.dependencyTracker!==null){const a=t===Ic.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-a,i[2]+a,i[1]-a,i[3]+a).recordDependencies(e,["transform"])}s instanceof Path2D||(s=r[0]=Sk(s)),ae.axialAlignedBoundingBox(i,Ct(this.ctx),this.current.minMax),this[t](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,r=!0){const i=this.ctx,s=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&s?.getPattern){const a=s.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=s.getPattern(i,this,Jr(i),on.STROKE,e),a){const c=new Path2D;c.addPath(t,i.getTransform().invertSelf().multiplySelf(a)),t=c}this.rescaleAndStroke(t,!1),i.restore()}else this.rescaleAndStroke(t,!0);this.dependencyTracker?.recordDependencies(e,dr.stroke),r&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(on.STROKE,Ct(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,r=!0){const i=this.ctx,s=this.current.fillColor,a=this.current.patternFill;let c=!1;if(a){const d=s.isModifyingCurrentTransform()?i.getTransform():null;if(this.dependencyTracker?.save(e),i.save(),i.fillStyle=s.getPattern(i,this,Jr(i),on.FILL,e),d){const f=new Path2D;f.addPath(t,i.getTransform().invertSelf().multiplySelf(d)),t=f}c=!0}const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(i.fill(t,"evenodd"),this.pendingEOFill=!1):i.fill(t)),this.dependencyTracker?.recordDependencies(e,dr.fill),c&&(i.restore(),this.dependencyTracker?.restore(e)),r&&this.consumePath(e,t,u)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){this.ctx.fill(t),this.dependencyTracker?.recordDependencies(e,dr.rawFillPath).recordOperation(e)}clip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=J4}eoClip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=Hx}beginText(e){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,r=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;t!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(t!==void 0){const i=new Path2D,s=r.getTransform().invertSelf();for(const{transform:a,x:c,y:u,fontSize:d,path:f}of t)f&&i.addPath(f,new DOMMatrix(a).preMultiplySelf(s).translate(c,u).scale(d,-d));r.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,t){this.dependencyTracker?.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){this.dependencyTracker?.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){this.dependencyTracker?.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){this.dependencyTracker?.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,r){this.dependencyTracker?.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const i=this.commonObjs.get(t),s=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=i.fontMatrix||Zg,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&Pe("Invalid font matrix for font "+t),r<0?(r=-r,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=r,i.isType3Font)return;const a=i.loadedName||"sans-serif",c=i.systemFontInfo?.css||`"${a}", ${i.fallbackName}`;let u="normal";i.black?u="900":i.bold&&(u="bold");const d=i.italic?"italic":"normal";let f=r;r<Ox?f=Ox:r>Bx&&(f=Bx),this.current.fontSizeScale=r/f,this.ctx.font=`${d} ${u} ${f}px ${c}`}setTextRenderingMode(e,t){this.dependencyTracker?.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){this.dependencyTracker?.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,r){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=r}setLeadingMoveText(e,t,r){this.setLeading(e,-r),this.moveText(e,t,r)}setTextMatrix(e,t){this.dependencyTracker?.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:r}=this;r.textMatrix=t,r.textMatrixScale=Math.hypot(t[0],t[1]),r.x=r.lineX=0,r.y=r.lineY=0}nextLine(e){this.moveText(e,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}#r(e,t,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(t)),i}paintChar(e,t,r,i,s,a){const c=this.ctx,u=this.current,d=u.font,f=u.textRenderingMode,p=u.fontSize/u.fontSizeScale,g=f&Ht.FILL_STROKE_MASK,y=!!(f&Ht.ADD_TO_PATH_FLAG),w=u.patternFill&&!d.missingFile,b=u.patternStroke&&!d.missingFile;let x;if((d.disableFontFace||y||w||b)&&!d.missingFile&&(x=d.getPathGenerator(this.commonObjs,t)),x&&(d.disableFontFace||w||b)){c.save(),c.translate(r,i),c.scale(p,-p),this.dependencyTracker?.recordCharacterBBox(e,c,d);let A;if(g===Ht.FILL||g===Ht.FILL_STROKE)if(s){A=c.getTransform(),c.setTransform(...s);const T=this.#r(x,A,s);c.fill(T)}else c.fill(x);if(g===Ht.STROKE||g===Ht.FILL_STROKE)if(a){A||=c.getTransform(),c.setTransform(...a);const{a:T,b:k,c:R,d:P}=A,M=ae.inverseTransform(a),L=ae.transform([T,k,R,P,0,0],M);ae.singularValueDecompose2dScale(L,Xn),c.lineWidth*=Math.max(Xn[0],Xn[1])/p,c.stroke(this.#r(x,A,a))}else c.lineWidth/=p,c.stroke(x);c.restore()}else(g===Ht.FILL||g===Ht.FILL_STROKE)&&(c.fillText(t,r,i),this.dependencyTracker?.recordCharacterBBox(e,c,d,p,r,i,()=>c.measureText(t))),(g===Ht.STROKE||g===Ht.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(e,c,d,p,r,i,()=>c.measureText(t)).recordDependencies(e,dr.stroke),c.strokeText(t,r,i));y&&((this.pendingTextPaths||=[]).push({transform:Ct(c),x:r,y:i,fontSize:p,path:x}),this.dependencyTracker?.recordCharacterBBox(e,c,d,p,r,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return Re(this,"isFontSubpixelAAEnabled",r)}showText(e,t){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,dr.showText).resetBBox(e),this.current.textRenderingMode&Ht.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const r=this.current,i=r.font;if(i.isType3Font){this.showType3Text(e,t),this.dependencyTracker?.recordShowTextOperation(e);return}const s=r.fontSize;if(s===0){this.dependencyTracker?.recordOperation(e);return}const a=this.ctx,c=r.fontSizeScale,u=r.charSpacing,d=r.wordSpacing,f=r.fontDirection,p=r.textHScale*f,g=t.length,y=i.vertical,w=y?1:-1,b=i.defaultVMetrics,x=s*r.fontMatrix[0],A=r.textRenderingMode===Ht.FILL&&!i.disableFontFace&&!r.patternFill;a.save(),r.textMatrix&&a.transform(...r.textMatrix),a.translate(r.x,r.y+r.textRise),f>0?a.scale(p,-1):a.scale(p,1);let T,k;const R=r.textRenderingMode&Ht.FILL_STROKE_MASK,P=R===Ht.FILL||R===Ht.FILL_STROKE,M=R===Ht.STROKE||R===Ht.FILL_STROKE;if(P&&r.patternFill){a.save();const U=r.fillColor.getPattern(a,this,Jr(a),on.FILL,e);T=Ct(a),a.restore(),a.fillStyle=U}if(M&&r.patternStroke){a.save();const U=r.strokeColor.getPattern(a,this,Jr(a),on.STROKE,e);k=Ct(a),a.restore(),a.strokeStyle=U}let L=r.lineWidth;const F=r.textMatrixScale;if(F===0||L===0?M&&(L=this.getSinglePixelWidth()):L/=F,c!==1&&(a.scale(c,c),L/=c),a.lineWidth=L,i.isInvalidPDFjsFont){const U=[];let be=0;for(const ve of t)U.push(ve.unicode),be+=ve.width;const xe=U.join("");if(a.fillText(xe,0,0),this.dependencyTracker!==null){const ve=a.measureText(xe);this.dependencyTracker.recordBBox(e,this.ctx,-ve.actualBoundingBoxLeft,ve.actualBoundingBoxRight,-ve.actualBoundingBoxAscent,ve.actualBoundingBoxDescent).recordShowTextOperation(e)}r.x+=be*x*p,a.restore(),this.compose();return}let z=0,q;for(q=0;q<g;++q){const U=t[q];if(typeof U=="number"){z+=w*U*s/1e3;continue}let be=!1;const xe=(U.isSpace?d:0)+u,ve=U.fontChar,De=U.accent;let re,G,Q=U.width;if(y){const O=U.vmetric||b,Y=-(U.vmetric?O[1]:Q*.5)*x,W=O[2]*x;Q=O?-O[0]:Q,re=Y/c,G=(z+W)/c}else re=z/c,G=0;let ie;if(i.remeasure&&Q>0){ie=a.measureText(ve);const O=ie.width*1e3/s*c;if(Q<O&&this.isFontSubpixelAAEnabled){const Y=Q/O;be=!0,a.save(),a.scale(Y,1),re/=Y}else Q!==O&&(re+=(Q-O)/2e3*s/c)}if(this.contentVisible&&(U.isInFont||i.missingFile)){if(A&&!De)a.fillText(ve,re,G),this.dependencyTracker?.recordCharacterBBox(e,a,ie?{bbox:null}:i,s/c,re,G,()=>ie??a.measureText(ve));else if(this.paintChar(e,ve,re,G,T,k),De){const O=re+s*De.offset.x/c,Y=G-s*De.offset.y/c;this.paintChar(e,De.fontChar,O,Y,T,k)}}const ne=y?Q*x-xe*f:Q*x+xe*f;z+=ne,be&&a.restore()}y?r.y-=z:r.x+=z*p,a.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(e)}showType3Text(e,t){const r=this.ctx,i=this.current,s=i.font,a=i.fontSize,c=i.fontDirection,u=s.vertical?1:-1,d=i.charSpacing,f=i.wordSpacing,p=i.textHScale*c,g=i.fontMatrix||Zg,y=t.length,w=i.textRenderingMode===Ht.INVISIBLE;let b,x,A,T;if(w||a===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),i.textMatrix&&r.transform(...i.textMatrix),r.translate(i.x,i.y+i.textRise),r.scale(p,c);const k=this.dependencyTracker;for(this.dependencyTracker=k?new Dh(k,e):null,b=0;b<y;++b){if(x=t[b],typeof x=="number"){T=u*x*a/1e3,this.ctx.translate(T,0),i.x+=T*p;continue}const R=(x.isSpace?f:0)+d,P=s.charProcOperatorList[x.operatorListId];P?this.contentVisible&&(this.save(),r.scale(a,a),r.transform(...g),this.executeOperatorList(P),this.restore()):Pe(`Type3 character "${x.operatorListId}" is not available.`);const M=[x.width,0];ae.applyTransform(M,g),A=M[0]*a+R,r.translate(A,0),i.x+=A*p}r.restore(),k&&(this.dependencyTracker=k)}setCharWidth(e,t,r){}setCharWidthAndBounds(e,t,r,i,s,a,c){const u=new Path2D;u.rect(i,s,a-i,c-s),this.ctx.clip(u),this.dependencyTracker?.recordBBox(e,this.ctx,i,a,s,c).recordClipBox(e,this.ctx,i,a,s,c),this.endPath(e)}getColorN_Pattern(e,t){let r;if(t[0]==="TilingPattern"){const i=this.baseTransform||Ct(this.ctx),s={createCanvasGraphics:(a,c)=>new Ea(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Dh(this.dependencyTracker,c,!0):null)};r=new R0(t,this.ctx,s,i)}else r=this._getPattern(e,t[1],t[2]);return r}setStrokeColorN(e,...t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,r=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=G4(this.getObject(e,t)),this.cachedPatterns.set(t,i)),r&&(i.matrix=r),i}shadingFill(e,t){if(!this.contentVisible)return;const r=this.ctx;this.save(e);const i=this._getPattern(e,t);r.fillStyle=i.getPattern(r,this,Jr(r),on.SHADING,e);const s=Jr(r);if(s){const{width:a,height:c}=r.canvas,u=ya.slice();ae.axialAlignedBoundingBox([0,0,a,c],s,u);const[d,f,p,g]=u;this.ctx.fillRect(d,f,p-d,g-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,dr.transform).recordDependencies(e,dr.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){nt("Should not call beginInlineImage")}beginImageData(){nt("Should not call beginImageData")}paintFormXObjectBegin(e,t,r){if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=Ct(this.ctx),r)){ae.axialAlignedBoundingBox(r,this.baseTransform,this.current.minMax);const[i,s,a,c]=r,u=new Path2D;u.rect(i,s,a-i,c-s),this.ctx.clip(u),this.dependencyTracker?.recordClipBox(e,this.ctx,i,a,s,c),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;t.isolated||ef("TODO: Support non-isolated groups."),t.knockout&&Pe("Knockout groups not supported.");const i=Ct(r);if(t.matrix&&r.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=ya.slice();ae.axialAlignedBoundingBox(t.bbox,Ct(r),s);const a=[0,0,r.canvas.width,r.canvas.height];s=ae.intersect(s,a)||[0,0,0,0];const c=Math.floor(s[0]),u=Math.floor(s[1]),d=Math.max(Math.ceil(s[2])-c,1),f=Math.max(Math.ceil(s[3])-u,1);this.current.startNewPathAndClipBox([0,0,d,f]);let p="groupAt"+this.groupLevel;t.smask&&(p+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(p,d,f),y=g.context;y.translate(-c,-u),y.transform(...i);let w=new Path2D;const[b,x,A,T]=t.bbox;if(w.rect(b,x,A-b,T-x),t.matrix){const k=new Path2D;k.addPath(w,new DOMMatrix(t.matrix)),w=k}y.clip(w),t.smask&&this.smaskStack.push({canvas:g.canvas,context:y,offsetX:c,offsetY:u,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(r.setTransform(1,0,0,1,0,0),r.translate(c,u),r.save()),Vl(r,y),this.ctx=y,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(r),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(e,t){if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const s=Ct(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...s);const a=ya.slice();ae.axialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],s,a),this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(e,t,r,i,s,a){if(this.#e(),zd(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const c=r[2]-r[0],u=r[3]-r[1];if(a&&this.annotationCanvasMap){i=i.slice(),i[4]-=r[0],i[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=c,r[3]=u,ae.singularValueDecompose2dScale(Ct(this.ctx),Xn);const{viewportScale:d}=this,f=Math.ceil(c*this.outputScaleX*d),p=Math.ceil(u*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(f,p);const{canvas:g,context:y}=this.annotationCanvas;this.annotationCanvasMap.set(t,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=y,this.ctx.save(),this.ctx.setTransform(Xn[0],0,0,-Xn[1],0,u*Xn[1]),zd(this.ctx)}else{zd(this.ctx),this.endPath(e);const d=new Path2D;d.rect(r[0],r[1],c,u),this.ctx.clip(d)}}this.current=new $x(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){if(!this.contentVisible)return;const r=t.count;t=this.getObject(e,t.data,t),t.count=r;const i=this.ctx,s=this._createMaskCanvas(e,t),a=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(a,s.offsetX,s.offsetY),this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+a.width,s.offsetY,s.offsetY+a.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r,i=0,s=0,a,c){if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const u=this.ctx;u.save();const d=Ct(u);u.transform(r,i,s,a,0,0);const f=this._createMaskCanvas(e,t);u.setTransform(1,0,0,1,f.offsetX-d[4],f.offsetY-d[5]),this.dependencyTracker?.resetBBox(e);for(let p=0,g=c.length;p<g;p+=2){const y=ae.transform(d,[r,i,s,a,c[p],c[p+1]]);u.drawImage(f.canvas,y[4],y[5]),this.dependencyTracker?.recordBBox(e,this.ctx,y[4],y[4]+f.canvas.width,y[5],y[5]+f.canvas.height)}u.restore(),this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageMaskXObjectGroup(e,t){if(!this.contentVisible)return;const r=this.ctx,i=this.current.fillColor,s=this.current.patternFill;this.dependencyTracker?.resetBBox(e).recordDependencies(e,dr.transformAndFill);for(const a of t){const{data:c,width:u,height:d,transform:f}=a,p=this.cachedCanvases.getCanvas("maskCanvas",u,d),g=p.context;g.save();const y=this.getObject(e,c,a);Vx(g,y),g.globalCompositeOperation="source-in",g.fillStyle=s?i.getPattern(g,this,Jr(r),on.FILL,e):i,g.fillRect(0,0,u,d),g.restore(),r.save(),r.transform(...f),r.scale(1,-1),$d(r,p.canvas,0,0,u,d,0,-1,1,1),this.dependencyTracker?.recordBBox(e,r,0,u,0,d),r.restore()}this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const r=this.getObject(e,t);if(!r){Pe("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,r)}paintImageXObjectRepeat(e,t,r,i,s){if(!this.contentVisible)return;const a=this.getObject(e,t);if(!a){Pe("Dependent image isn't ready yet");return}const c=a.width,u=a.height,d=[];for(let f=0,p=s.length;f<p;f+=2)d.push({transform:[r,0,0,i,s[f],s[f+1]],x:0,y:0,w:c,h:u});this.paintInlineImageXObjectGroup(e,a,d)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e,t){if(!this.contentVisible)return;const r=t.width,i=t.height,s=this.ctx;this.save(e);const{filter:a}=s;a!=="none"&&a!==""&&(s.filter="none"),s.scale(1/r,-1/i);let c;if(t.bitmap)c=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)c=t;else{const f=this.cachedCanvases.getCanvas("inlineImage",r,i).context;zx(f,t),c=this.applyTransferMapsToCanvas(f)}const u=this._scaleImage(c,Jr(s));s.imageSmoothingEnabled=Ux(Ct(s),t.interpolate),this.dependencyTracker?.resetBBox(e).recordBBox(e,s,0,r,-i,0).recordDependencies(e,dr.imageXObject).recordOperation(e),$d(s,u.img,0,0,u.paintWidth,u.paintHeight,0,-i,r,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,r){if(!this.contentVisible)return;const i=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const a=t.width,c=t.height,d=this.cachedCanvases.getCanvas("inlineImage",a,c).context;zx(d,t),s=this.applyTransferMapsToCanvas(d)}this.dependencyTracker?.resetBBox(e);for(const a of r)i.save(),i.transform(...a.transform),i.scale(1,-1),$d(i,s,a.x,a.y,a.w,a.h,0,-1,1,1),this.dependencyTracker?.recordBBox(e,i,0,1,-1,0),i.restore();this.dependencyTracker?.recordOperation(e),this.compose()}paintSolidColorImageMask(e){this.contentVisible&&(this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,dr.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,r){}beginMarkedContent(e,t){this.dependencyTracker?.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,r){this.dependencyTracker?.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){this.dependencyTracker?.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,r){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const s=this.ctx;this.pendingClip?(i||(this.pendingClip===Hx?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):this.dependencyTracker?.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Ct(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:i,d:s}=this.ctx.getTransform();let a,c;if(r===0&&i===0){const u=Math.abs(t),d=Math.abs(s);if(u===d)if(e===0)a=c=1/u;else{const f=u*e;a=c=f<1?1/f:1}else if(e===0)a=1/u,c=1/d;else{const f=u*e,p=d*e;a=f<1?1/f:1,c=p<1?1/p:1}}else{const u=Math.abs(t*s-r*i),d=Math.hypot(t,r),f=Math.hypot(i,s);if(e===0)a=f/u,c=d/u;else{const p=e*u;a=f>p?f/p:1,c=d>p?d/p:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:r,current:{lineWidth:i}}=this,[s,a]=this.getScaleForStroking();if(s===a){r.lineWidth=(i||1)*s,r.stroke(e);return}const c=r.getLineDash();t&&r.save(),r.scale(s,a),ng.a=1/s,ng.d=1/a;const u=new Path2D;if(u.addPath(e,ng),c.length>0){const d=Math.max(s,a);r.setLineDash(c.map(f=>f/d)),r.lineDashOffset/=d}r.lineWidth=i||1,r.stroke(u),t&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const n in Ic)Ea.prototype[n]!==void 0&&(Ea.prototype[Ic[n]]=Ea.prototype[n]);class _a{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}}class eV{#e;#t;constructor({parsedData:e,rawData:t}){this.#e=e,this.#t=t}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}[Symbol.iterator](){return this.#e.entries()}}const ia=Symbol("INTERNAL");class tV{#e=!1;#t=!1;#r=!1;#n=!0;constructor(e,{name:t,intent:r,usage:i,rbGroups:s}){this.#e=!!(e&Wn.DISPLAY),this.#t=!!(e&Wn.PRINT),this.name=t,this.intent=r,this.usage=i,this.rbGroups=s}get visible(){if(this.#r)return this.#n;if(!this.#n)return!1;const{print:e,view:t}=this.usage;return this.#e?t?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,t,r=!1){e!==ia&&nt("Internal method `_setVisible` called."),this.#r=r,this.#n=t}}class nV{#e=null;#t=new Map;#r=null;#n=null;constructor(e,t=Wn.DISPLAY){if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#n=e.order;for(const r of e.groups)this.#t.set(r.id,new tV(t,r));if(e.baseState==="OFF")for(const r of this.#t.values())r._setVisible(ia,!1);for(const r of e.on)this.#t.get(r)._setVisible(ia,!0);for(const r of e.off)this.#t.get(r)._setVisible(ia,!1);this.#r=this.getHash()}}#s(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let i=1;i<t;i++){const s=e[i];let a;if(Array.isArray(s))a=this.#s(s);else if(this.#t.has(s))a=this.#t.get(s).visible;else return Pe(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return r==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return ef("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(Pe(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#s(e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!this.#t.has(t))return Pe(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!this.#t.has(t))return Pe(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!this.#t.has(t))return Pe(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!this.#t.has(t))return Pe(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!1}return!0}return Pe(`Unknown optional content policy ${e.policy}.`),!0}return Pe(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,r=!0){const i=this.#t.get(e);if(!i){Pe(`Optional content group not found: ${e}`);return}if(r&&t&&i.rbGroups.length)for(const s of i.rbGroups)for(const a of s)a!==e&&this.#t.get(a)?._setVisible(ia,!1,!0);i._setVisible(ia,!!t,!0),this.#e=null}setOCGState({state:e,preserveRB:t}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=this.#t.get(i);if(s)switch(r){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!s.visible,t);break}}this.#e=null}get hasInitialVisibility(){return this.#r===null||this.getHash()===this.#r}getOrder(){return this.#t.size?this.#n?this.#n.slice():[...this.#t.keys()]:null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;const e=new Ak;for(const[t,r]of this.#t)e.update(`${t}:${r.visible}`);return this.#e=e.hexdigest()}[Symbol.iterator](){return this.#t.entries()}}class sf{#e=null;#t=null;_fullReader=null;_rangeReaders=new Set;_source=null;constructor(e,t,r){this._source=e,this.#e=t,this.#t=r}get _progressiveDataLength(){return this._fullReader?._loaded??0}getFullReader(){return et(!this._fullReader,"BasePDFStream.getFullReader can only be called once."),this._fullReader=new this.#e(this)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new this.#t(this,e,t);return this._rangeReaders.add(r),r}cancelAllRequests(e){this._fullReader?.cancel(e);for(const t of new Set(this._rangeReaders))t.cancel(e)}}class of{onProgress=null;_contentLength=0;_filename=null;_headersCapability=Promise.withResolvers();_isRangeSupported=!1;_isStreamingSupported=!1;_loaded=0;_stream=null;constructor(e){this._stream=e}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){nt("Abstract method `read` called")}cancel(e){nt("Abstract method `cancel` called")}}class af{_stream=null;constructor(e,t,r){this._stream=e}async read(){nt("Abstract method `read` called")}cancel(e){nt("Abstract method `cancel` called")}}function Wx(n){return n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer}class rV extends sf{_progressiveDone=!1;_queuedChunks=[];constructor(e){super(e,iV,sV);const{pdfDataRangeTransport:t}=e,{initialData:r,progressiveDone:i}=t;if(r?.length>0){const s=Wx(r);this._queuedChunks.push(s)}this._progressiveDone=i,t.addRangeListener((s,a)=>{this.#e(s,a)}),t.addProgressListener((s,a)=>{a!==void 0&&this._fullReader?.onProgress?.({loaded:s,total:a})}),t.addProgressiveReadListener(s=>{this.#e(void 0,s)}),t.addProgressiveDoneListener(()=>{this._fullReader?.progressiveDone(),this._progressiveDone=!0}),t.transportReady()}#e(e,t){const r=Wx(t);if(e===void 0)this._fullReader?this._fullReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.keys().find(s=>s._begin===e);et(i,"#onReceiveData - no `PDFDataTransportStreamRangeReader` instance found."),i._enqueue(r)}}getFullReader(){const e=super.getFullReader();return this._queuedChunks=null,e}getRangeReader(e,t){const r=super.getRangeReader(e,t);return r&&(r.onDone=()=>this._rangeReaders.delete(r),this._source.pdfDataRangeTransport.requestDataRange(e,t)),r}cancelAllRequests(e){super.cancelAllRequests(e),this._source.pdfDataRangeTransport.abort()}}class iV extends of{_done=!1;_queuedChunks=null;_requests=[];constructor(e){super(e);const{pdfDataRangeTransport:t,disableRange:r,disableStream:i}=e._source,{length:s,contentDispositionFilename:a}=t;this._queuedChunks=e._queuedChunks||[];for(const c of this._queuedChunks)this._loaded+=c.byteLength;this._done=e._progressiveDone,this._contentLength=s,this._isStreamingSupported=!i,this._isRangeSupported=!r,C0(a)&&(this._filename=a),this._headersCapability.resolve()}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||=!0}}class sV extends af{onDone=null;_begin=-1;_done=!1;_queuedChunk=null;_requests=[];constructor(e,t,r){super(e,t,r),this._begin=t}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this.onDone?.()}}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this.onDone?.()}}function oV(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let f=c(t);return f=unescape(f),f=u(f),f=d(f),s(f)}if(t=a(n),t){const f=d(t);return s(f)}if(t=r("filename","i").exec(n),t){t=t[1];let f=c(t);return f=d(f),s(f)}function r(f,p){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function i(f,p){if(f){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const g=new TextDecoder(f,{fatal:!0}),y=tf(p);p=g.decode(y),e=!1}catch{}}return p}function s(f){return e&&/[\x80-\xff]/.test(f)&&(f=i("utf-8",f),e&&(f=i("iso-8859-1",f))),f}function a(f){const p=[];let g;const y=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=y.exec(f))!==null;){let[,b,x,A]=g;if(b=parseInt(b,10),b in p){if(b===0)break;continue}p[b]=[x,A]}const w=[];for(let b=0;b<p.length&&b in p;++b){let[x,A]=p[b];A=c(A),x&&(A=unescape(A),b===0&&(A=u(A))),w.push(A)}return w.join("")}function c(f){if(f.startsWith('"')){const p=f.slice(1).split('\\"');for(let g=0;g<p.length;++g){const y=p[g].indexOf('"');y!==-1&&(p[g]=p[g].slice(0,y),p.length=g+1),p[g]=p[g].replaceAll(/\\(.)/g,"$1")}f=p.join('"')}return f}function u(f){const p=f.indexOf("'");if(p===-1)return f;const g=f.slice(0,p),w=f.slice(p+1).replace(/^[^']*'/,"");return i(g,w)}function d(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,g,y,w){if(y==="q"||y==="Q")return w=w.replaceAll("_"," "),w=w.replaceAll(/=([0-9a-fA-F]{2})/g,function(b,x){return String.fromCharCode(parseInt(x,16))}),i(g,w);try{w=atob(w)}catch{}return i(g,w)})}return""}function Rk(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const r in e){const i=e[r];i!==void 0&&t.append(r,i)}return t}function lf(n){return URL.parse(n)?.origin??null}function Mk({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||r||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function Dk(n){const e=n.get("Content-Disposition");if(e){let t=oV(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(C0(t))return t}return null}function cf(n,e){return new Mh(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function Ik(n,e){if(n!==e)throw new Error(`Expected range response-origin "${n}" to match "${e}".`)}function Lk(n,e,t,r){return fetch(n,{method:"GET",headers:e,signal:r.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"})}function Fk(n,e){if(n!==200&&n!==206)throw cf(n,e)}function Nk(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(Pe(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class aV extends sf{_responseOrigin=null;constructor(e){super(e,lV,cV),this.isHttp=/^https?:/i.test(e.url),this.headers=Rk(this.isHttp,e.httpHeaders)}}class lV extends of{_abortController=new AbortController;_reader=null;constructor(e){super(e);const{disableRange:t,disableStream:r,length:i,rangeChunkSize:s,url:a,withCredentials:c}=e._source;this._contentLength=i,this._isStreamingSupported=!r,this._isRangeSupported=!t;const u=new Headers(e.headers);Lk(a,u,c,this._abortController).then(d=>{e._responseOrigin=lf(d.url),Fk(d.status,a),this._reader=d.body.getReader();const f=d.headers,{allowRangeRequests:p,suggestedLength:g}=Mk({responseHeaders:f,isHttp:e.isHttp,rangeChunkSize:s,disableRange:t});this._isRangeSupported=p,this._contentLength=g||this._contentLength,this._filename=Dk(f),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new xs("Streaming is disabled.")),this._headersCapability.resolve()}).catch(this._headersCapability.reject)}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:Nk(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class cV extends af{_abortController=new AbortController;_readCapability=Promise.withResolvers();_reader=null;constructor(e,t,r){super(e,t,r);const{url:i,withCredentials:s}=e._source,a=new Headers(e.headers);a.append("Range",`bytes=${t}-${r-1}`),Lk(i,a,s,this._abortController).then(c=>{const u=lf(c.url);Ik(u,e._responseOrigin),Fk(c.status,i),this._reader=c.body.getReader(),this._readCapability.resolve()}).catch(this._readCapability.reject)}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:{value:Nk(e),done:!1}}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}const rg=200,Gx=206;function uV(n){return typeof n!="string"?n:tf(n).buffer}class dV extends sf{#e=new WeakMap;_responseOrigin=null;constructor(e){super(e,hV,fV),this.url=e.url,this.isHttp=/^https?:/i.test(this.url),this.headers=Rk(this.isHttp,e.httpHeaders)}_request(e){const t=new XMLHttpRequest,r={validateStatus:null,onHeadersReceived:e.onHeadersReceived,onDone:e.onDone,onError:e.onError,onProgress:e.onProgress};this.#e.set(t,r),t.open("GET",this.url),t.withCredentials=this._source.withCredentials;for(const[i,s]of this.headers)t.setRequestHeader(i,s);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.validateStatus=i=>i===Gx||i===rg):r.validateStatus=i=>i===rg,t.responseType="arraybuffer",et(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>e.onError(t.status),t.onreadystatechange=this.#r.bind(this,t),t.onprogress=this.#t.bind(this,t),t.send(null),t}#t(e,t){this.#e.get(e)?.onProgress?.(t)}#r(e,t){const r=this.#e.get(e);if(!r||(e.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),e.readyState!==4)||!this.#e.has(e))return;if(this.#e.delete(e),e.status===0&&this.isHttp){r.onError(e.status);return}const i=e.status||rg;if(!r.validateStatus(i)){r.onError(e.status);return}const s=uV(e.response);if(i===Gx){const a=e.getResponseHeader("Content-Range");/bytes (\d+)-(\d+)\/(\d+)/.test(a)?r.onDone(s):(Pe('Missing or invalid "Content-Range" header.'),r.onError(0))}else s?r.onDone(s):r.onError(e.status)}_abortRequest(e){this.#e.has(e)&&(this.#e.delete(e),e.abort())}getRangeReader(e,t){const r=super.getRangeReader(e,t);return r&&(r.onClosed=()=>this._rangeReaders.delete(r)),r}}class hV extends of{_cachedChunks=[];_done=!1;_requests=[];_storedError=null;constructor(e){super(e);const{length:t}=e._source;this._contentLength=t,this._fullRequestXhr=e._request({onHeadersReceived:this.#e.bind(this),onDone:this.#t.bind(this),onError:this.#r.bind(this),onProgress:this.#n.bind(this)})}#e(){const e=this._stream,{disableRange:t,rangeChunkSize:r}=e._source,i=this._fullRequestXhr;e._responseOrigin=lf(i.responseURL);const s=i.getAllResponseHeaders(),a=new Headers(s?s.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(d=>{const[f,...p]=d.split(": ");return[f,p.join(": ")]}):[]),{allowRangeRequests:c,suggestedLength:u}=Mk({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:r,disableRange:t});c&&(this._isRangeSupported=!0),this._contentLength=u||this._contentLength,this._filename=Dk(a),this._isRangeSupported&&e._abortRequest(i),this._headersCapability.resolve()}#t(e){if(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._cachedChunks.push(e),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}#r(e){this._storedError=cf(e,this._stream.url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}#n(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._abortRequest(this._fullRequestXhr),this._fullRequestXhr=null}}class fV extends af{onClosed=null;_done=!1;_queuedChunk=null;_requests=[];_storedError=null;constructor(e,t,r){super(e,t,r),this._requestXhr=e._request({begin:t,end:r,onHeadersReceived:this.#e.bind(this),onDone:this.#t.bind(this),onError:this.#r.bind(this),onProgress:null})}#e(){const e=lf(this._requestXhr?.responseURL);try{Ik(e,this._stream._responseOrigin)}catch(t){this._storedError=t,this.#r(0)}}#t(e){this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this.onClosed?.()}#r(e){this._storedError??=cf(e,this._stream.url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._abortRequest(this._requestXhr),this.onClosed?.()}}const pV=/^[a-z][a-z0-9\-+.]+:/i;function mV(n){if(pV.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}function Ok(n){const{Readable:e}=process.getBuiltinModule("stream");return typeof e.toWeb=="function"?e.toWeb(n):process.getBuiltinModule("module").createRequire(import.meta.url)("node-readable-to-web-readable-stream").makeDefaultReadableStreamFromNodeReadable(n)}function Bk(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(Pe(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class gV extends sf{constructor(e){super(e,yV,vV),this.url=mV(e.url),et(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs.")}}class yV extends of{_reader=null;constructor(e){super(e);const{disableRange:t,disableStream:r,length:i,rangeChunkSize:s}=e._source;this._contentLength=i,this._isStreamingSupported=!r,this._isRangeSupported=!t;const a=e.url,c=process.getBuiltinModule("fs");c.promises.lstat(a).then(u=>{const d=c.createReadStream(a),f=Ok(d);this._reader=f.getReader();const{size:p}=u;p<=2*s&&(this._isRangeSupported=!1),this._contentLength=p,!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new xs("Streaming is disabled.")),this._headersCapability.resolve()}).catch(u=>{u.code==="ENOENT"&&(u=cf(0,a.href)),this._headersCapability.reject(u)})}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:Bk(e),done:!1})}cancel(e){this._reader?.cancel(e)}}class vV extends af{_readCapability=Promise.withResolvers();_reader=null;constructor(e,t,r){super(e,t,r);const i=e.url,s=process.getBuiltinModule("fs");try{const a=s.createReadStream(i,{start:t,end:r-1}),c=Ok(a);this._reader=c.getReader(),this._readCapability.resolve()}catch(a){this._readCapability.reject(a)}}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:{value:Bk(e),done:!1}}cancel(e){this._reader?.cancel(e)}}const Ul=Symbol("INITIAL_DATA");class jk{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:Ul}}get(e,t=null){if(t){const i=this.#t(e);return i.promise.then(()=>t(i.data)),null}const r=this.#e[e];if(!r||r.data===Ul)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=this.#e[e];return!!t&&t.data!==Ul}delete(e){const t=this.#e[e];return!t||t.data===Ul?!1:(delete this.#e[e],!0)}resolve(e,t=null){const r=this.#t(e);r.data=t,r.resolve()}clear(){for(const e in this.#e){const{data:t}=this.#e[e];t?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:t}=this.#e[e];t!==Ul&&(yield[e,t])}}}const bV=1e5,Xx=30;class Gn{#e=Promise.withResolvers();#t=null;#r=!1;#n=!!globalThis.FontInspector?.enabled;#s=null;#o=null;#i=0;#a=0;#c=null;#l=null;#h=0;#d=0;#f=Object.create(null);#g=[];#m=null;#u=[];#p=new WeakMap;#y=null;static#b=new Map;static#v=new Map;static#k=new WeakMap;static#A=null;static#S=new Set;constructor({textContentSource:e,container:t,viewport:r}){if(e instanceof ReadableStream)this.#m=e;else if(typeof e=="object")this.#m=new ReadableStream({start(u){u.enqueue(e),u.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#l=t,this.#d=r.scale*hi.pixelRatio,this.#h=r.rotation,this.#o={div:null,properties:null,ctx:null};const{pageWidth:i,pageHeight:s,pageX:a,pageY:c}=r.rawDims;this.#y=[1,0,0,-1,-a,c+s],this.#a=i,this.#i=s,Gn.#P(),t.style.setProperty("--min-font-size",Gn.#A),co(t,r),this.#e.promise.finally(()=>{Gn.#S.delete(this),this.#o=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Gt.platform;return Re(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{this.#c.read().then(({value:t,done:r})=>{if(r){this.#e.resolve();return}this.#s??=t.lang,Object.assign(this.#f,t.styles),this.#E(t.items),e()},this.#e.reject)};return this.#c=this.#m.getReader(),Gn.#S.add(this),e(),this.#e.promise}update({viewport:e,onBefore:t=null}){const r=e.scale*hi.pixelRatio,i=e.rotation;if(i!==this.#h&&(t?.(),this.#h=i,co(this.#l,{rotation:i})),r!==this.#d){t?.(),this.#d=r;const s={div:null,properties:null,ctx:Gn.#R(this.#s)};for(const a of this.#u)s.properties=this.#p.get(a),s.div=a,this.#C(s)}}cancel(){const e=new xs("TextLayer task cancelled.");this.#c?.cancel(e).catch(()=>{}),this.#c=null,this.#e.reject(e)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#g}#E(e){if(this.#r)return;this.#o.ctx??=Gn.#R(this.#s);const t=this.#u,r=this.#g;for(const i of e){if(t.length>bV){Pe("Ignoring additional textDivs for performance reasons."),this.#r=!0;return}if(i.str===void 0){if(i.type==="beginMarkedContentProps"||i.type==="beginMarkedContent"){const s=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),i.id&&this.#t.setAttribute("id",`${i.id}`),i.tag==="Artifact"&&(this.#t.ariaHidden=!0),s.append(this.#t)}else i.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}r.push(i.str),this.#w(i)}}#w(e){const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#u.push(t);const i=ae.transform(this.#y,e.transform);let s=Math.atan2(i[1],i[0]);const a=this.#f[e.fontName];a.vertical&&(s+=Math.PI/2);let c=this.#n&&a.fontSubstitution||a.fontFamily;c=Gn.fontFamilyMap.get(c)||c;const u=Math.hypot(i[2],i[3]),d=u*Gn.#O(c,a,this.#s);let f,p;s===0?(f=i[4],p=i[5]-d):(f=i[4]+d*Math.sin(s),p=i[5]-d*Math.cos(s));const g=t.style;g.left=`${(100*f/this.#a).toFixed(2)}%`,g.top=`${(100*p/this.#i).toFixed(2)}%`,g.setProperty("--font-height",`${u.toFixed(2)}px`),g.fontFamily=c,r.fontSize=u,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#n&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let y=!1;if(e.str.length>1)y=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const w=Math.abs(e.transform[0]),b=Math.abs(e.transform[3]);w!==b&&Math.max(w,b)/Math.min(w,b)>1.5&&(y=!0)}if(y&&(r.canvasWidth=a.vertical?e.height:e.width),this.#p.set(t,r),this.#o.div=t,this.#o.properties=r,this.#C(this.#o),r.hasText&&this.#t.append(t),r.hasEOL){const w=document.createElement("br");w.setAttribute("role","presentation"),this.#t.append(w)}}#C(e){const{div:t,properties:r,ctx:i}=e,{style:s}=t;if(r.canvasWidth!==0&&r.hasText){const{fontFamily:a}=s,{canvasWidth:c,fontSize:u}=r;Gn.#_(i,u*this.#d,a);const{width:d}=i.measureText(t.textContent);d>0&&s.setProperty("--scale-x",c*this.#d/d)}r.angle!==0&&s.setProperty("--rotate",`${r.angle}deg`)}static cleanup(){if(!(this.#S.size>0)){this.#b.clear();for(const{canvas:e}of this.#v.values())e.remove();this.#v.clear()}}static#R(e=null){let t=this.#v.get(e||="");if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#v.set(e,t),this.#k.set(t,{size:0,family:""})}return t}static#_(e,t,r){const i=this.#k.get(e);t===i.size&&r===i.family||(e.font=`${t}px ${r}`,i.size=t,i.family=r)}static#P(){if(this.#A!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#A=e.getBoundingClientRect().height,e.remove()}static#O(e,t,r){const i=this.#b.get(e);if(i)return i;const s=this.#R(r);s.canvas.width=s.canvas.height=Xx,this.#_(s,Xx,e);const a=s.measureText(""),c=a.fontBoundingBoxAscent,u=Math.abs(a.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let d=.8;return c?d=c/(c+u):(Gt.platform.isFirefox&&Pe("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?d=t.ascent:t.descent&&(d=1+t.descent)),this.#b.set(e,d),d}}const wV=100;function $k(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new M0,{docId:t}=e,r=n.url?_4(n.url):null,i=n.data?P4(n.data):null,s=n.httpHeaders||null,a=n.withCredentials===!0,c=n.password??null,u=n.range instanceof zk?n.range:null,d=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let f=n.worker instanceof Fc?n.worker:null;const p=n.verbosity,g=typeof n.docBaseUrl=="string"&&!nf(n.docBaseUrl)?n.docBaseUrl:null,y=Nd(n.cMapUrl),w=n.cMapPacked!==!1,b=n.CMapReaderFactory||(Sn?O4:Mx),x=Nd(n.iccUrl),A=Nd(n.standardFontDataUrl),T=n.StandardFontDataFactory||(Sn?B4:Dx),k=Nd(n.wasmUrl),R=n.WasmFactory||(Sn?j4:Ix),P=n.stopAtErrors!==!0,M=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,L=n.isEvalSupported!==!1,F=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Sn,z=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!Sn&&(Gt.platform.isFirefox||!globalThis.chrome),q=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,U=typeof n.disableFontFace=="boolean"?n.disableFontFace:Sn,be=n.fontExtraProperties===!0,xe=n.enableXfa===!0,ve=n.ownerDocument||globalThis.document,De=n.disableRange===!0,re=n.disableStream===!0,G=n.disableAutoFetch===!0,Q=n.pdfBug===!0,ie=n.CanvasFactory||(Sn?N4:I4),ne=n.FilterFactory||(Sn?F4:L4),O=n.enableHWA===!0,Y=n.useWasm!==!1,W=u?u.length:n.length??NaN,se=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Sn&&!U,pe=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(b===Mx&&T===Dx&&R===Ix&&y&&A&&k&&ic(y,document.baseURI)&&ic(A,document.baseURI)&&ic(k,document.baseURI)),de=null;t4(p);const me={canvasFactory:new ie({ownerDocument:ve,enableHWA:O}),filterFactory:new ne({docId:t,ownerDocument:ve}),cMapReaderFactory:pe?null:new b({baseUrl:y,isCompressed:w}),standardFontDataFactory:pe?null:new T({baseUrl:A}),wasmFactory:pe?null:new R({baseUrl:k})};f||(f=Fc.create({verbosity:p,port:_a.workerPort}),e._worker=f);const _e={docId:t,apiVersion:"5.4.624",data:i,password:c,disableAutoFetch:G,rangeChunkSize:d,length:W,docBaseUrl:g,enableXfa:xe,evaluatorOptions:{maxImageSize:M,disableFontFace:U,ignoreErrors:P,isEvalSupported:L,isOffscreenCanvasSupported:F,isImageDecoderSupported:z,canvasMaxAreaInBytes:q,fontExtraProperties:be,useSystemFonts:se,useWasm:Y,useWorkerFetch:pe,cMapUrl:y,iccUrl:x,standardFontDataUrl:A,wasmUrl:k}},Ve={ownerDocument:ve,pdfBug:Q,styleElement:de,enableHWA:O,loadingParams:{disableAutoFetch:G,enableXfa:xe}};return f.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const $t=f.messageHandler.sendWithPromise("GetDocRequest",_e,i?[i.buffer]:null);let Sr;if(u)Sr=new rV({pdfDataRangeTransport:u,disableRange:De,disableStream:re});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");const fi=ic(r)?aV:Sn?gV:dV;Sr=new fi({url:r,length:W,httpHeaders:s,withCredentials:a,rangeChunkSize:d,disableRange:De,disableStream:re})}return $t.then(fi=>{if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const pi=new sc(t,fi,f.port),ks=new AV(pi,e,Sr,Ve,me);e._transport=ks,pi.send("Ready",null)})}).catch(e._capability.reject),e}class M0{static#e=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${M0.#e++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}class zk{#e=Promise.withResolvers();#t=[];#r=[];#n=[];#s=[];constructor(e,t,r=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=i}addRangeListener(e){this.#s.push(e)}addProgressListener(e){this.#n.push(e)}addProgressiveReadListener(e){this.#r.push(e)}addProgressiveDoneListener(e){this.#t.push(e)}onDataRange(e,t){for(const r of this.#s)r(e,t)}onDataProgress(e,t){this.#e.promise.then(()=>{for(const r of this.#n)r(e,t)})}onDataProgressiveRead(e){this.#e.promise.then(()=>{for(const t of this.#r)t(e)})}onDataProgressiveDone(){this.#e.promise.then(()=>{for(const e of this.#t)e()})}transportReady(){this.#e.resolve()}requestDataRange(e,t){nt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class SV{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Re(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(e){return this._transport.extractPages(e)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class xV{#e=!1;#t=Qe.instance;constructor(e,t,r,i=!1){this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=i?new Cx:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new jk,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}set pageNumber(e){this._pageIndex=e-1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new Qc({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Re(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,canvas:t=e.canvas,viewport:r,intent:i="display",annotationMode:s=gs.ENABLE,transform:a=null,background:c=null,optionalContentConfigPromise:u=null,annotationCanvasMap:d=null,pageColors:f=null,printAnnotationStorage:p=null,isEditing:g=!1,recordOperations:y=!1,operationsFilter:w=null}){this._stats?.time("Overall");const b=this._transport.getRenderingIntent(i,s,p,g),{renderingIntent:x,cacheKey:A}=b;this.#e=!1,u||=this._transport.getOptionalContentConfig(x);let T=this._intentStates.get(A);T||(T=Object.create(null),this._intentStates.set(A,T)),T.streamReaderCancelTimeout&&(clearTimeout(T.streamReaderCancelTimeout),T.streamReaderCancelTimeout=null);const k=!!(x&Wn.PRINT);T.displayReadyCapability||(T.displayReadyCapability=Promise.withResolvers(),T.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(b));const R=!!(this._pdfBug&&globalThis.StepperManager?.enabled),P=!this.recordedBBoxes&&(y||R),M=z=>{if(T.renderTasks.delete(L),P){const q=L.gfx?.dependencyTracker.take();q&&(L.stepper&&L.stepper.setOperatorBBoxes(q,L.gfx.dependencyTracker.takeDebugMetadata()),y&&(this.recordedBBoxes=q))}k&&(this.#e=!0),this.#r(),z?(L.capability.reject(z),this._abortOperatorList({intentState:T,reason:z instanceof Error?z:new Error(z)})):L.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},L=new va({callback:M,params:{canvas:t,canvasContext:e,dependencyTracker:P?new z4(t,T.operatorList.length,R):null,viewport:r,transform:a,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:T.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!k,pdfBug:this._pdfBug,pageColors:f,enableHWA:this._transport.enableHWA,operationsFilter:w});(T.renderTasks||=new Set).add(L);const F=L.task;return Promise.all([T.displayReadyCapability.promise,u]).then(([z,q])=>{if(this.destroyed){M();return}if(this._stats?.time("Rendering"),!(q.renderingIntent&x))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");L.initializeGraphics({transparency:z,optionalContentConfig:q}),L.operatorListChanged()}).catch(M),F}getOperatorList({intent:e="display",annotationMode:t=gs.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){function s(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(u))}const a=this._transport.getRenderingIntent(e,t,r,i,!0);let c=this._intentStates.get(a.cacheKey);c||(c=Object.create(null),this._intentStates.set(a.cacheKey,c));let u;return c.opListReadCapability||(u=Object.create(null),u.operatorListChanged=s,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||=new Set).add(u),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(a)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageId:this.#t.getPageId(this._pageIndex+1)-1,pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>Lc.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,i){function s(){a.read().then(function({value:u,done:d}){if(d){r(c);return}c.lang??=u.lang,Object.assign(c.styles,u.styles),c.items.push(...u.items),s()},i)}const a=t.getReader(),c={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),this.#e=!1,Promise.all(e)}cleanup(e=!1){this.#e=!0;const t=this.#r();return e&&t&&(this._stats&&=new Cx),t}#r(){if(!this.#e||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}_startRenderPage(e,t){const r=this._intentStates.get(t);r&&(this._stats?.timeEnd("Page Request"),r.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let r=0,i=e.length;r<i;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&this.#r()}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r,modifiedIds:i}){const{map:s,transfer:a}=r,u=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageId:this.#t.getPageId(this._pageIndex+1)-1,pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:i},a).getReader(),d=this._intentStates.get(t);d.streamReader=u;const f=()=>{u.read().then(({value:p,done:g})=>{if(g){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,d),f())},p=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const g of d.renderTasks)g.operatorListChanged();this.#r()}if(d.displayReadyCapability)d.displayReadyCapability.reject(p);else if(d.opListReadCapability)d.opListReadCapability.reject(p);else throw p}})};f()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof A0){let i=wV;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new xs(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}var ys,Lr,Pi,to,Lh,no,ro,kn,ph,Vk,Uk,oc,Pa,mh;const St=class St{constructor({name:e=null,port:t=null,verbosity:r=n4()}={}){Yr(this,kn);Yr(this,ys,Promise.withResolvers());Yr(this,Lr,null);Yr(this,Pi,null);Yr(this,to,null);if(this.name=e,this.destroyed=!1,this.verbosity=r,t){if(wt(St,ro).has(t))throw new Error("Cannot use more than one PDFWorker per port.");wt(St,ro).set(t,this),qr(this,kn,Vk).call(this,t)}else qr(this,kn,Uk).call(this)}get promise(){return wt(this,ys).promise}get port(){return wt(this,Pi)}get messageHandler(){return wt(this,Lr)}destroy(){this.destroyed=!0,wt(this,to)?.terminate(),Ln(this,to,null),wt(St,ro).delete(wt(this,Pi)),Ln(this,Pi,null),wt(this,Lr)?.destroy(),Ln(this,Lr,null)}static create(e){const t=wt(this,ro).get(e?.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new St(e)}static get workerSrc(){if(_a.workerSrc)return _a.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Re(this,"_setupFakeWorkerGlobal",(async()=>wt(this,Pa,mh)?wt(this,Pa,mh):(await import(this.workerSrc)).WorkerMessageHandler)())}};ys=new WeakMap,Lr=new WeakMap,Pi=new WeakMap,to=new WeakMap,Lh=new WeakMap,no=new WeakMap,ro=new WeakMap,kn=new WeakSet,ph=function(){wt(this,ys).resolve(),wt(this,Lr).send("configure",{verbosity:this.verbosity})},Vk=function(e){Ln(this,Pi,e),Ln(this,Lr,new sc("main","worker",e)),wt(this,Lr).on("ready",()=>{}),qr(this,kn,ph).call(this)},Uk=function(){if(wt(St,no)||wt(St,Pa,mh)){qr(this,kn,oc).call(this);return}let{workerSrc:e}=St;try{St._isSameOrigin(window.location,e)||(e=St._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new sc("main","worker",t),i=()=>{s.abort(),r.destroy(),t.terminate(),this.destroyed?wt(this,ys).reject(new Error("Worker was destroyed")):qr(this,kn,oc).call(this)},s=new AbortController;t.addEventListener("error",()=>{wt(this,to)||i()},{signal:s.signal}),r.on("test",c=>{if(s.abort(),this.destroyed||!c){i();return}Ln(this,Lr,r),Ln(this,Pi,t),Ln(this,to,t),qr(this,kn,ph).call(this)}),r.on("ready",c=>{if(s.abort(),this.destroyed){i();return}try{a()}catch{qr(this,kn,oc).call(this)}});const a=()=>{const c=new Uint8Array;r.send("test",c,[c.buffer])};a();return}catch{ef("The worker has been disabled.")}qr(this,kn,oc).call(this)},oc=function(){wt(St,no)||(Pe("Setting up fake worker."),Ln(St,no,!0)),St._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){wt(this,ys).reject(new Error("Worker was destroyed"));return}const t=new D4;Ln(this,Pi,t);const r=`fake${Zb(St,Lh)._++}`,i=new sc(r+"_worker",r,t);e.setup(i,t),Ln(this,Lr,new sc(r,r+"_worker",t)),qr(this,kn,ph).call(this)}).catch(e=>{wt(this,ys).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Pa=new WeakSet,mh=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},Yr(St,Pa),Yr(St,Lh,0),Yr(St,no,!1),Yr(St,ro,new WeakMap),Sn&&(Ln(St,no,!0),_a.workerSrc||="./pdf.worker.mjs"),St._isSameOrigin=(e,t)=>{const r=URL.parse(e);if(!r?.origin||r.origin==="null")return!1;const i=new URL(t,r);return r.origin===i.origin},St._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},St.fromPort=e=>{if(p4("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return St.create(e)};let Fc=St;class AV{downloadInfoCapability=Promise.withResolvers();#e=null;#t=new Map;#r=null;#n=new Map;#s=new Map;#o=new Map;#i=null;#a=Qe.instance;constructor(e,t,r,i,s){this.messageHandler=e,this.loadingTask=t,this.#r=r,this.commonObjs=new jk,this.fontLoader=new k4({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.enableHWA=i.enableHWA,this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this.setupMessageHandler(),this.#a.addListener(this.#c.bind(this))}#c(){const e=new Map,t=new Map;for(let r=0,i=this.#a.pagesNumber;r<i;r++){const s=this.#a.getPrevPageNumber(r+1)-1,a=this.#n.get(s);a&&e.set(r,a);const c=this.#s.get(s);c&&t.set(r,c)}this.#n=e,this.#s=t}#l(e,t=null){const r=this.#t.get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,t);return this.#t.set(e,i),i}#h({loaded:e,total:t}){this.loadingTask.onProgress?.({loaded:e,total:t,percent:sn(Math.round(e/t*100),0,100)})}get annotationStorage(){return Re(this,"annotationStorage",new E0)}getRenderingIntent(e,t=gs.ENABLE,r=null,i=!1,s=!1){let a=Wn.DISPLAY,c=iy;switch(e){case"any":a=Wn.ANY;break;case"display":break;case"print":a=Wn.PRINT;break;default:Pe(`getRenderingIntent - invalid intent: ${e}`)}const u=a&Wn.PRINT&&r instanceof Ck?r:this.annotationStorage;switch(t){case gs.DISABLE:a+=Wn.ANNOTATIONS_DISABLE;break;case gs.ENABLE:break;case gs.ENABLE_FORMS:a+=Wn.ANNOTATIONS_FORMS;break;case gs.ENABLE_STORAGE:a+=Wn.ANNOTATIONS_STORAGE,c=u.serializable;break;default:Pe(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(a+=Wn.IS_EDITING),s&&(a+=Wn.OPLIST);const{ids:d,hash:f}=u.modifiedIds,p=[a,c.hash,f];return{renderingIntent:a,cacheKey:p.join("_"),annotationStorageSerializable:c,modifiedIds:d}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#i?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of this.#n.values())e.push(r._destroy());this.#n.clear(),this.#s.clear(),this.#o.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),Gn.cleanup(),this.#r?.cancelAllRequests(new xs("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,i)=>{et(this.#r,"GetReader - no `BasePDFStream` instance available."),this.#e=this.#r.getFullReader(),this.#e.onProgress=s=>this.#h(s),i.onPull=()=>{this.#e.read().then(function({value:s,done:a}){if(a){i.close();return}et(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this.#e.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async r=>{await this.#e.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:a}=this.#e;return i&&s&&(this.#e.onProgress=null),{isStreamingSupported:i,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(r,i)=>{et(this.#r,"GetRangeReader - no `BasePDFStream` instance available.");const s=this.#r.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:a,done:c}){if(c){i.close();return}et(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{s.cancel(a),i.ready.catch(c=>{if(!this.destroyed)throw c})}}),e.on("GetDoc",({pdfInfo:r})=>{this.#a.pagesNumber=r.numPages,this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new SV(r,this))}),e.on("DocException",r=>{t._capability.reject(Nn(r))}),e.on("PasswordRequest",r=>{this.#i=Promise.withResolvers();try{if(!t.onPassword)throw Nn(r);const i=s=>{s instanceof Error?this.#i.reject(s):this.#i.resolve({password:s})};t.onPassword(i,r.code)}catch(i){this.#i.reject(i)}return this.#i.promise}),e.on("DataLoaded",r=>{this.#h({loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;this.#n.get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":if("error"in s){const p=s.error;Pe(`Error during font loading: ${p}`),this.commonObjs.resolve(r,p);break}const a=new at(s),c=this._params.pdfBug&&globalThis.FontInspector?.enabled?(p,g)=>globalThis.FontInspector.fontAdded(p,g):null,u=new T4(a,c,s.extra,s.charProcOperatorList);this.fontLoader.bind(u).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!u.fontExtraProperties&&u.data&&u.clearData(),this.commonObjs.resolve(r,u)});break;case"CopyLocalImage":const{imageRef:d}=s;et(d,"The imageRef must be defined.");for(const p of this.#n.values())for(const[,g]of p.objs)if(g?.ref===d)return g.dataLen?(this.commonObjs.resolve(r,structuredClone(g)),g.dataLen):null;break;case"FontPath":this.commonObjs.resolve(r,new E4(s));break;case"Image":this.commonObjs.resolve(r,s);break;case"Pattern":const f=new Qt(s);this.commonObjs.resolve(r,f.getIR());break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,a])=>{if(this.destroyed)return;const c=this.#n.get(i);if(!c.objs.has(r)){if(c._intentStates.size===0){a?.bitmap?.close();return}switch(s){case"Image":case"Pattern":c.objs.resolve(r,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{this.destroyed||this.#h(r)}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[r.type];if(!i)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Pe("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this.#e?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}extractPages(e){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:e})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this.#a.pagesNumber)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=this.#a.getPageId(e)-1,i=this.#s.get(t);if(i)return i;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:r}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&this.#o.set(a.refStr,r);const c=new xV(t,a,this,this._params.pdfBug);return this.#n.set(t,c),c});return this.#s.set(t,s),s}async getPageIndex(e){if(!sy(e))throw new Error("Invalid pageIndex request.");const t=await this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen});return this.#a.getPageNumber(t+1)-1}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:this.#a.getPageId(e+1)-1,intent:t})}getFieldObjects(){return this.#l("GetFieldObjects")}hasJSActions(){return this.#l("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return this.#l("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:this.#a.getPageId(e+1)-1})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:this.#a.getPageId(e+1)-1})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#l("GetOptionalContentConfig").then(t=>new nV(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=this.#t.get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(i=>({info:i[0],metadata:i[1]?new eV(i[1]):null,contentDispositionFilename:this.#e?.filename??null,contentLength:this.#e?.contentLength??null,hasStructTree:i[2]}));return this.#t.set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of this.#n.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),Gn.cleanup()}}cachedPageNumber(e){if(!sy(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`,r=this.#o.get(t);return r>=0?this.#a.getPageNumber(r+1):null}}class CV{_internalRenderTask=null;onContinue=null;onError=null;constructor(e){this._internalRenderTask=e}get promise(){return this._internalRenderTask.capability.promise}cancel(e=0){this._internalRenderTask.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this._internalRenderTask.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this._internalRenderTask;return e.form||e.canvas&&t?.size>0}}class va{#e=null;static#t=new WeakSet;constructor({callback:e,params:t,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:c,canvasFactory:u,filterFactory:d,useRequestAnimationFrame:f=!1,pdfBug:p=!1,pageColors:g=null,enableHWA:y=!1,operationsFilter:w=null}){this.callback=e,this.params=t,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=c,this.canvasFactory=u,this.filterFactory=d,this._pdfBug=p,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=f===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new CV(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=y,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=w}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(va.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");va.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:r,transform:i,background:s,dependencyTracker:a}=this.params,c=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Ea(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:i,viewport:r,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),va.#t.delete(this._canvas),e||=new A0(`Rendering cancelled, page ${this._pageIndex+1}`,t),this.callback(e),this.task.onError?.(e)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),va.#t.delete(this._canvas),this.callback())))}}const kV="5.4.624",TV="384c6208b";class pr{#e=null;#t=null;#r;#n=null;#s=!1;#o=!1;#i=null;#a;#c=null;#l=null;static#h=null;static get _keyboardManager(){return Re(this,"_keyboardManager",new Jc([[["Escape","mac+Escape"],pr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],pr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],pr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],pr.prototype._moveToPrevious],[["Home","mac+Home"],pr.prototype._moveToBeginning],[["End","mac+End"],pr.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){e?(this.#o=!1,this.#i=e):this.#o=!0,this.#l=e?._uiManager||t,this.#a=this.#l._eventBus,this.#r=e?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",pr.#h||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",this.#i&&(e.ariaControls=`${this.#i.id}_colorpicker_dropdown`);const t=this.#l._signal;e.addEventListener("click",this.#m.bind(this),{signal:t}),e.addEventListener("keydown",this.#g.bind(this),{signal:t});const r=this.#t=document.createElement("span");return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=this.#r,e.append(r),e}renderMainDropdown(){const e=this.#n=this.#d();return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}#d(){const e=document.createElement("div"),t=this.#l._signal;e.addEventListener("contextmenu",br,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#i&&(e.id=`${this.#i.id}_colorpicker_dropdown`);for(const[r,i]of this.#l.highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",pr.#h[r]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=i,s.ariaSelected=i===this.#r,s.addEventListener("click",this.#f.bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",this.#g.bind(this),{signal:t}),e}#f(e,t){t.stopPropagation(),this.#a.dispatch("switchannotationeditorparams",{source:this,type:$e.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#m(e);return}const t=e.target.getAttribute("data-color");t&&this.#f(t,e)}_moveToNext(e){if(!this.#p){this.#m(e);return}if(e.target===this.#e){this.#n.firstElementChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#n?.firstElementChild||e.target===this.#e){this.#p&&this._hideDropdownFromKeyboard();return}this.#p||this.#m(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#p){this.#m(e);return}this.#n.firstElementChild?.focus()}_moveToEnd(e){if(!this.#p){this.#m(e);return}this.#n.lastElementChild?.focus()}#g(e){pr._keyboardManager.exec(this,e)}#m(e){if(this.#p){this.hideDropdown();return}if(this.#s=e.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#e.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const t=this.#n=this.#d();this.#e.append(t)}#u(e){this.#n?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#e.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#p(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#o){if(!this.#p){this.#i?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#s})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#n)return;const t=this.#l.highlightColors.values();for(const r of this.#n.children)r.ariaSelected=t.next().value===e.toUpperCase()}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#n?.remove(),this.#n=null}}class Nc{#e=null;#t=null;#r=null;static#n=null;constructor(e){this.#t=e,this.#r=e._uiManager,Nc.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#e)return this.#e;const{editorType:e,colorType:t,color:r}=this.#t,i=this.#e=document.createElement("input");return i.type="color",i.value=r||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",Nc.#n[e]),i.addEventListener("input",()=>{this.#r.updateParams(t,i.value)},{signal:this.#r._signal}),i}update(e){this.#e&&(this.#e.value=e)}destroy(){this.#e?.remove(),this.#e=null}hideDropdown(){}}function Kx(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Hl(n){return Math.max(0,Math.min(255,255*n))}class Yx{static CMYK_G([e,t,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Hl(e),[e,e,e]}static G_HTML([e]){const t=Kx(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(Hl)}static RGB_HTML(e){return`#${e.map(Kx).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,r,i]){return[Hl(1-Math.min(1,e+i)),Hl(1-Math.min(1,r+i)),Hl(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const i=1-e,s=1-t,a=1-r,c=Math.min(i,s,a);return["CMYK",i,s,a,c]}}class EV{create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){nt("Abstract method `_createSVG` called.")}}class Ih extends EV{_createSVG(e){return document.createElementNS(Ei,e)}}const _V=9,uo=new WeakSet,PV=new Date().getTimezoneOffset()*60*1e3;class ig{static create(e){switch(e.data.annotationType){case Ot.LINK:return new D0(e);case Ot.TEXT:return new MV(e);case Ot.WIDGET:switch(e.data.fieldType){case"Tx":return new DV(e);case"Btn":return e.data.radioButton?new Hk(e):e.data.checkBox?new LV(e):new FV(e);case"Ch":return new NV(e);case"Sig":return new IV(e)}return new mo(e);case Ot.POPUP:return new ly(e);case Ot.FREETEXT:return new Wk(e);case Ot.LINE:return new BV(e);case Ot.SQUARE:return new jV(e);case Ot.CIRCLE:return new $V(e);case Ot.POLYLINE:return new Gk(e);case Ot.CARET:return new VV(e);case Ot.INK:return new I0(e);case Ot.POLYGON:return new zV(e);case Ot.HIGHLIGHT:return new Xk(e);case Ot.UNDERLINE:return new UV(e);case Ot.SQUIGGLY:return new HV(e);case Ot.STRIKEOUT:return new WV(e);case Ot.STAMP:return new Kk(e);case Ot.FILEATTACHMENT:return new GV(e);default:return new Et(e)}}}class Et{#e=null;#t=!1;#r=null;constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,t&&(this.contentElement=this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e?.str||t?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Et._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:e}=this,t=this.annotationStorage?.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const e=this.annotationStorage?.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:r,rect:i}=this.data;let s=-1/0,a=-1/0;if(t?.length>=8){for(let c=0;c<t.length;c+=8)t[c+1]>a?(a=t[c+1],s=t[c+2]):t[c+1]===a&&(s=Math.max(s,t[c+2]));return[s,a]}if(r?.length>=1){for(const c of r)for(let u=0,d=c.length;u<d;u+=2)c[u+1]>a?(a=c[u+1],s=c[u]):c[u+1]===a&&(s=Math.max(s,c[u]));if(s!==1/0)return[s,a]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-s)/r,e[1]=100*(e[1]-a)/i,e}get commentText(){const{data:e}=this;return this.annotationStorage.getRawValue(`${Dc}${e.id}`)?.popup?.contents||e.contentsObj?.str||""}set commentText(e){const{data:t}=this,r={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:r})||this.annotationStorage.setValue(`${Dc}${t.id}`,{id:t.id,annotationType:t.annotationType,page:this.parent.page,popup:r,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){(this.#r?.popup||this.popup)?.remove(),this.#r=this.popup=null}updateEdited(e){if(!this.container)return;e.rect&&(this.#e||={rect:this.data.rect.slice(0)});const{rect:t,popup:r}=e;t&&this.#n(t);let i=this.#r?.popup||this.popup;!i&&r?.text&&(this._createPopup(r),i=this.#r.popup),i&&(i.updateEdited(e),r?.deleted&&(i.remove(),this.#r=null,this.popup=null))}resetEdited(){this.#e&&(this.#n(this.#e.rect),this.#r?.popup.resetEdited(),this.#e=null)}#n(e){const{container:{style:t},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:c,pageY:u}}}}=this;r?.splice(0,4,...e),t.left=`${100*(e[0]-c)/s}%`,t.top=`${100*(a-e[3]+u)/a}%`,i===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(i)}_createContainer(e){const{data:t,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),!(this instanceof mo)&&!(this instanceof D0)&&(s.tabIndex=0);const{style:a}=s;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof ly){const{rotation:b}=t;return!t.hasOwnCanvas&&b!==0&&this.setRotation(b,s),s}const{width:c,height:u}=this;if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const b=t.borderStyle.horizontalCornerRadius,x=t.borderStyle.verticalCornerRadius;if(b>0||x>0){const T=`calc(${b}px * var(--total-scale-factor)) / calc(${x}px * var(--total-scale-factor))`;a.borderRadius=T}else if(this instanceof Hk){const T=`calc(${c}px * var(--total-scale-factor)) / calc(${u}px * var(--total-scale-factor))`;a.borderRadius=T}switch(t.borderStyle.style){case ra.SOLID:a.borderStyle="solid";break;case ra.DASHED:a.borderStyle="dashed";break;case ra.BEVELED:Pe("Unimplemented border style: beveled");break;case ra.INSET:Pe("Unimplemented border style: inset");break;case ra.UNDERLINE:a.borderBottomStyle="solid";break}const A=t.borderColor||null;A?(this.#t=!0,a.borderColor=ae.makeHexColor(A[0]|0,A[1]|0,A[2]|0)):a.borderWidth=0}const d=ae.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:f,pageHeight:p,pageX:g,pageY:y}=i.rawDims;a.left=`${100*(d[0]-g)/f}%`,a.top=`${100*(d[1]-y)/p}%`;const{rotation:w}=t;return t.hasOwnCanvas||w===0?(a.width=`${100*c/f}%`,a.height=`${100*u/p}%`):this.setRotation(w,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims;let{width:s,height:a}=this;e%180!==0&&([s,a]=[a,s]),t.style.width=`${100*s/r}%`,t.style.height=`${100*a/i}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,i)=>{const s=i.detail[t],a=s[0],c=s.slice(1);i.target.style[r]=Yx[`${a}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[r]:Yx[`${a}_rgb`](c)})};return Re(this,"_commonActions",{display:t=>{const{display:r}=t.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const i of Object.keys(t.detail))(e[i]||r[i])?.(t)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[i,s]of Object.entries(t)){const a=r[i];if(a){const c={detail:{[i]:s},target:e};a(c),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,i,s]=this.data.rect.map(b=>Math.fround(b));if(e.length===8){const[b,x,A,T]=e.subarray(2,6);if(i===b&&s===x&&t===A&&r===T)return}const{style:a}=this.container;let c;if(this.#t){const{borderColor:b,borderWidth:x}=a;a.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${b}" stroke-width="${x}">`],this.container.classList.add("hasBorder")}const u=i-t,d=s-r,{svgFactory:f}=this,p=f.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0),p.role="none";const g=f.createElement("defs");p.append(g);const y=f.createElement("clipPath"),w=`clippath_${this.data.id}`;y.setAttribute("id",w),y.setAttribute("clipPathUnits","objectBoundingBox"),g.append(y);for(let b=2,x=e.length;b<x;b+=8){const A=e[b],T=e[b+1],k=e[b+2],R=e[b+3],P=f.createElement("rect"),M=(k-t)/u,L=(s-T)/d,F=(A-k)/u,z=(T-R)/d;P.setAttribute("x",M),P.setAttribute("y",L),P.setAttribute("width",F),P.setAttribute("height",z),y.append(P),c?.push(`<rect vector-effect="non-scaling-stroke" x="${M}" y="${L}" width="${F}" height="${z}"/>`)}this.#t&&(c.push("</g></svg>')"),a.backgroundImage=c.join("")),this.container.append(p),this.container.style.clipPath=`url(#${w})`}_createPopup(e=null){const{data:t}=this;let r,i;e?(r={str:e.text},i=e.date):(r=t.contentsObj,i=t.modificationDate),this.#r=new ly({data:{color:t.color,titleObj:t.titleObj,modificationDate:i,contentsObj:r,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]})}get hasPopupElement(){return!!(this.#r||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#r}render(){nt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:a,exportValues:c}of i){if(s===-1||a===t)continue;const u=typeof c=="string"?c:null,d=document.querySelector(`[data-element-id="${a}"]`);if(d&&!uo.has(d)){Pe(`_getElementsByName - element not allowed: ${a}`);continue}r.push({id:a,exportValue:u,domElement:d})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,a=i.getAttribute("data-element-id");a!==t&&uo.has(i)&&r.push({id:a,exportValue:s,domElement:i})}return r}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class RV extends Et{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}class D0 extends Et{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let i=!1;return e.url?(t.addLinkAttributes(r,e.url,e.newWindow),i=!0):e.action?(this._bindNamedAction(r,e.action,e.overlaidText),i=!0):e.attachment?(this.#t(r,e.attachment,e.overlaidText,e.attachmentDest),i=!0):e.setOCGState?(this.#r(r,e.setOCGState,e.overlaidText),i=!0):e.dest?(this._bindLink(r,e.dest,e.overlaidText),i=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),i=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(r,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&(this.contentElement=r,this.container.append(r)),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t,r=""){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||t==="")&&this.#e(),r&&(e.title=r)}_bindNamedAction(e,t,r=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),r&&(e.title=r),this.#e()}#t(e,t,r="",i=null){e.href=this.linkService.getAnchorUrl(""),t.description?e.title=t.description:r&&(e.title=r),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,i),!1),this.#e()}#r(e,t,r=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),r&&(e.title=r),this.#e()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(t.actions)){const s=r.get(i);s&&(e[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:i}}),!1))}t.overlaidText&&(e.title=t.overlaidText),e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,t){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){Pe('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{r?.();const{fields:i,refs:s,include:a}=t,c=[];if(i.length!==0||s.length!==0){const f=new Set(s);for(const p of i){const g=this._fieldObjects[p]||[];for(const{id:y}of g)f.add(y)}for(const p of Object.values(this._fieldObjects))for(const g of p)f.has(g.id)===a&&c.push(g)}else for(const f of Object.values(this._fieldObjects))c.push(...f);const u=this.annotationStorage,d=[];for(const f of c){const{id:p}=f;switch(d.push(p),f.type){case"text":{const y=f.defaultValue||"";u.setValue(p,{value:y});break}case"checkbox":case"radiobutton":{const y=f.defaultValue===f.exportValues;u.setValue(p,{value:y});break}case"combobox":case"listbox":{const y=f.defaultValue||"";u.setValue(p,{value:y});break}default:continue}const g=document.querySelector(`[data-element-id="${p}"]`);if(g){if(!uo.has(g)){Pe(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}}),!1}}}class MV extends Et{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class mo extends Et{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Gt.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,i,s){r.includes("mouse")?e.addEventListener(r,a=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(r,a=>{if(r==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a)}})})}_setEventListeners(e,t,r,i){for(const[s,a]of r)(a==="Action"||this.data.actions?.[a])&&((a==="Focus"||a==="Blur")&&(t||={focused:!1}),this._setEventListener(e,t,s,a,i),a==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,t,"blur","Blur",null):a==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":ae.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||_V,s=e.style;let a;const c=2,u=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-c),f=Math.round(d/(Qm*i))||1,p=d/f;a=Math.min(i,u(p/Qm))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-c);a=Math.min(i,u(d/Qm))}s.fontSize=`calc(${a}px * var(--total-scale-factor))`,s.color=ae.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class DV extends mo{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,i){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=r),s.setValue(a.id,{[i]:r})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const i=e.getValue(t,{value:this.data.fieldValue});let s=i.value||"";const a=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;a&&s.length>a&&(s=s.slice(0,a));let c=i.formattedValue||this.data.textContent?.join(`
`)||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const u={userValue:s,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=c??s,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",c??s),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),uo.add(r),this.contentElement=r,r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const{datetimeFormat:d,datetimeType:f,timeStep:p}=this.data,g=!!f&&this.enableScripting;d&&(r.title=d),this._setRequired(r,this.data.required),a&&(r.maxLength=a),r.addEventListener("input",w=>{e.setValue(t,{value:w.target.value}),this.setPropertyOnSiblings(r,"value",w.target.value,"value"),u.formattedValue=null}),r.addEventListener("resetform",w=>{const b=this.data.defaultFieldValue??"";r.value=u.userValue=b,u.formattedValue=null});let y=w=>{const{formattedValue:b}=u;b!=null&&(w.target.value=b),w.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",b=>{if(u.focused)return;const{target:x}=b;if(g&&(x.type=f,p&&(x.step=p)),u.userValue){const A=u.userValue;if(g)if(f==="time"){const T=new Date(A),k=[T.getHours(),T.getMinutes(),T.getSeconds()];x.value=k.map(R=>R.toString().padStart(2,"0")).join(":")}else x.value=new Date(A-PV).toISOString().split(f==="date"?"T":".",1)[0];else x.value=A}u.lastCommittedValue=x.value,u.commitKey=1,this.data.actions?.Focus||(u.focused=!0)}),r.addEventListener("updatefromsandbox",b=>{this.showElementAndHideCanvas(b.target);const x={value(A){u.userValue=A.detail.value??"",g||e.setValue(t,{value:u.userValue.toString()}),A.target.value=u.userValue},formattedValue(A){const{formattedValue:T}=A.detail;u.formattedValue=T,T!=null&&A.target!==document.activeElement&&(A.target.value=T);const k={formattedValue:T};g&&(k.value=T),e.setValue(t,k)},selRange(A){A.target.setSelectionRange(...A.detail.selRange)},charLimit:A=>{const{charLimit:T}=A.detail,{target:k}=A;if(T===0){k.removeAttribute("maxLength");return}k.setAttribute("maxLength",T);let R=u.userValue;!R||R.length<=T||(R=R.slice(0,T),k.value=u.userValue=R,e.setValue(t,{value:R}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:R,willCommit:!0,commitKey:1,selStart:k.selectionStart,selEnd:k.selectionEnd}}))}};this._dispatchEventFromSandbox(x,b)}),r.addEventListener("keydown",b=>{u.commitKey=1;let x=-1;if(b.key==="Escape"?x=0:b.key==="Enter"&&!this.data.multiLine?x=2:b.key==="Tab"&&(u.commitKey=3),x===-1)return;const{value:A}=b.target;u.lastCommittedValue!==A&&(u.lastCommittedValue=A,u.userValue=A,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:A,willCommit:!0,commitKey:x,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}}))});const w=y;y=null,r.addEventListener("blur",b=>{if(!u.focused||!b.relatedTarget)return;this.data.actions?.Blur||(u.focused=!1);const{target:x}=b;let{value:A}=x;if(g){if(A&&f==="time"){const T=A.split(":").map(k=>parseInt(k,10));A=new Date(2e3,0,1,T[0],T[1],T[2]||0).valueOf(),x.step=""}else A.includes("T")||(A=`${A}T00:00`),A=new Date(A).valueOf();x.type="text"}u.userValue=A,u.lastCommittedValue!==A&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:A,willCommit:!0,commitKey:u.commitKey,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}}),w(b)}),this.data.actions?.Keystroke&&r.addEventListener("beforeinput",b=>{u.lastCommittedValue=null;const{data:x,target:A}=b,{value:T,selectionStart:k,selectionEnd:R}=A;let P=k,M=R;switch(b.inputType){case"deleteWordBackward":{const L=T.substring(0,k).match(/\w*[^\w]*$/);L&&(P-=L[0].length);break}case"deleteWordForward":{const L=T.substring(k).match(/^[^\w]*\w*/);L&&(M+=L[0].length);break}case"deleteContentBackward":k===R&&(P-=1);break;case"deleteContentForward":k===R&&(M+=1);break}b.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,change:x||"",willCommit:!1,selStart:P,selEnd:M}})}),this._setEventListeners(r,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],b=>b.target.value)}if(y&&r.addEventListener("blur",y),this.data.comb){const b=(this.data.rect[2]-this.data.rect[0])/a;r.classList.add("comb"),r.style.letterSpacing=`calc(${b}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class IV extends mo{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class LV extends mo{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return uo.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",a=>{const{name:c,checked:u}=a.target;for(const d of this._getElementsByName(c,r)){const f=u&&d.exportValue===t.exportValue;d.domElement&&(d.domElement.checked=f),e.setValue(d.id,{value:f})}e.setValue(r,{value:u})}),s.addEventListener("resetform",a=>{const c=t.defaultFieldValue||"Off";a.target.checked=c===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const c={value(u){u.target.checked=u.detail.value!=="Off",e.setValue(r,{value:u.target.checked})}};this._dispatchEventFromSandbox(c,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Hk extends mo{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(r,{value:i})),i)for(const a of this._getElementsByName(t.fieldName,r))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(uo.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",a=>{const{name:c,checked:u}=a.target;for(const d of this._getElementsByName(c,r))e.setValue(d.id,{value:!1});e.setValue(r,{value:u})}),s.addEventListener("resetform",a=>{const c=t.defaultFieldValue;a.target.checked=c!=null&&c===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;s.addEventListener("updatefromsandbox",c=>{const u={value:d=>{const f=a===d.detail.value;for(const p of this._getElementsByName(d.target.name)){const g=f&&p.id===r;p.domElement&&(p.domElement.checked=g),e.setValue(p.id,{value:g})}}};this._dispatchEventFromSandbox(u,c)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class FV extends D0{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class NV extends mo{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");uo.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue;for(const g of i.options)g.selected=g.value===p});for(const f of this.data.options){const p=document.createElement("option");p.textContent=f.displayValue,p.value=f.exportValue,r.value.includes(f.exportValue)&&(p.setAttribute("selected",!0),s=!1),i.append(p)}let a=null;if(s){const f=document.createElement("option");f.value=" ",f.setAttribute("hidden",!0),f.setAttribute("selected",!0),i.prepend(f),a=()=>{f.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const c=f=>{const p=f?"value":"textContent",{options:g,multiple:y}=i;return y?Array.prototype.filter.call(g,w=>w.selected).map(w=>w[p]):g.selectedIndex===-1?null:g[g.selectedIndex][p]};let u=c(!1);const d=f=>{const p=f.target.options;return Array.prototype.map.call(p,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",f=>{const p={value(g){a?.();const y=g.detail.value,w=new Set(Array.isArray(y)?y:[y]);for(const b of i.options)b.selected=w.has(b.value);e.setValue(t,{value:c(!0)}),u=c(!1)},multipleSelection(g){i.multiple=!0},remove(g){const y=i.options,w=g.detail.remove;y[w].selected=!1,i.remove(w),y.length>0&&Array.prototype.findIndex.call(y,x=>x.selected)===-1&&(y[0].selected=!0),e.setValue(t,{value:c(!0),items:d(g)}),u=c(!1)},clear(g){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),u=c(!1)},insert(g){const{index:y,displayValue:w,exportValue:b}=g.detail.insert,x=i.children[y],A=document.createElement("option");A.textContent=w,A.value=b,x?x.before(A):i.append(A),e.setValue(t,{value:c(!0),items:d(g)}),u=c(!1)},items(g){const{items:y}=g.detail;for(;i.length!==0;)i.remove(0);for(const w of y){const{displayValue:b,exportValue:x}=w,A=document.createElement("option");A.textContent=b,A.value=x,i.append(A)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:c(!0),items:d(g)}),u=c(!1)},indices(g){const y=new Set(g.detail.indices);for(const w of g.target.options)w.selected=y.has(w.index);e.setValue(t,{value:c(!0)}),u=c(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(p,f)}),i.addEventListener("input",f=>{const p=c(!0),g=c(!1);e.setValue(t,{value:p}),f.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:u,change:g,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],f=>f.target.value)):i.addEventListener("input",function(f){e.setValue(t,{value:c(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class ly extends Et{constructor(e){const{data:t,elements:r,parent:i}=e,s=!!i._commentManager;if(super(e,{isRenderable:!s&&Et._hasPopupData(t)}),this.elements=r,s&&Et._hasPopupData(t)){const a=this.popup=this.#e();for(const c of r)c.popup=a}else this.popup=null}#e(){return new OV({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=this.#e(),r=[];for(const i of this.elements)i.popup=t,i.container.ariaHasPopup="dialog",r.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(i=>`${ga}${i}`).join(",")),this.container}}class OV{#e=null;#t=this.#H.bind(this);#r=this.#j.bind(this);#n=this.#I.bind(this);#s=this.#x.bind(this);#o=null;#i=null;#a=null;#c=null;#l=null;#h=null;#d=null;#f=!1;#g=null;#m=null;#u=null;#p=null;#y=null;#b=null;#v=null;#k=null;#A=null;#S=null;#E=!1;#w=null;#C=null;constructor({container:e,color:t,elements:r,titleObj:i,modificationDate:s,contentsObj:a,richText:c,parent:u,rect:d,parentRect:f,open:p,commentManager:g=null}){this.#i=e,this.#A=i,this.#a=a,this.#k=c,this.#h=u,this.#o=t,this.#v=d,this.#d=f,this.#l=r,this.#e=g,this.#w=r[0],this.#c=ty.toDateObject(s),this.trigger=r.flatMap(y=>y.getElementsToTriggerPopup()),g||(this.#R(),this.#i.hidden=!0,p&&this.#x())}#R(){if(this.#m)return;this.#m=new AbortController;const{signal:e}=this.#m;for(const t of this.trigger)t.addEventListener("click",this.#s,{signal:e}),t.addEventListener("pointerenter",this.#n,{signal:e}),t.addEventListener("pointerleave",this.#r,{signal:e}),t.classList.add("popupTriggerArea");for(const t of this.#l)t.container?.addEventListener("keydown",this.#t,{signal:e})}#_(){const e=this.#l.find(t=>t.hasCommentButton);e&&(this.#y=e._normalizePoint(e.commentButtonPosition))}renderCommentButton(){if(this.#p){this.#p.parentNode||this.#w.container.after(this.#p);return}if(this.#y||this.#_(),!this.#y)return;const{signal:e}=this.#m=new AbortController,t=this.#w.hasOwnCommentButton,r=()=>{this.#e.toggleCommentPopup(this,!0,void 0,!t)},i=()=>{this.#e.toggleCommentPopup(this,!1,!0,!t)},s=()=>{this.#e.toggleCommentPopup(this,!1,!1)};if(t){this.#p=this.#w.container;for(const a of this.trigger)a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.addEventListener("keydown",this.#t,{signal:e}),a.addEventListener("click",r,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),a.classList.add("popupTriggerArea")}else{const a=this.#p=document.createElement("button");a.className="annotationCommentButton";const c=this.#w.container;a.style.zIndex=c.style.zIndex+1,a.tabIndex=0,a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#O(),this.#P(),a.addEventListener("keydown",this.#t,{signal:e}),a.addEventListener("click",r,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),c.after(a)}}#P(){if(this.#w.extraPopupElement&&!this.#w.editor)return;this.#p||this.renderCommentButton();const[e,t]=this.#y,{style:r}=this.#p;r.left=`calc(${e}%)`,r.top=`calc(${t}% - var(--comment-button-dim))`}#O(){this.#w.extraPopupElement||(this.#p||this.renderCommentButton(),this.#p.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:e,opacity:t}=this.#w.commentData;return e?this.#h._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{this.#p?.focus()},0)}getData(){const{richText:e,color:t,opacity:r,creationDate:i,modificationDate:s}=this.#w.commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:r,creationDate:i,modificationDate:s}}get elementBeforePopup(){return this.#p}get comment(){return this.#C||=this.#w.commentText,this.#C}set comment(e){e!==this.comment&&(this.#w.commentText=this.#C=e)}focus(){this.#w.container?.focus()}get parentBoundingClientRect(){return this.#w.layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){this.#p&&(this.#p.classList.toggle("selected",e),this.#p.ariaExpanded=t)}setSelectedCommentButton(e){this.#p.classList.toggle("selected",e)}get commentPopupPosition(){if(this.#b)return this.#b;const{x:e,y:t,height:r}=this.#p.getBoundingClientRect(),{x:i,y:s,width:a,height:c}=this.#w.layer.getBoundingClientRect();return[(e-i)/a,(t+r-s)/c]}set commentPopupPosition(e){this.#b=e}hasDefaultPopupPosition(){return this.#b===null}get commentButtonPosition(){return this.#y}get commentButtonWidth(){return this.#p.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,r]=this.#b||this.commentButtonPosition.map(d=>d/100),i=this.parentBoundingClientRect,{x:s,y:a,width:c,height:u}=i;this.#e.showDialog(null,this,s+t*c,a+r*u,{...e,parentDimensions:i})}render(){if(this.#g)return;const e=this.#g=document.createElement("div");if(e.className="popup",this.#o){const r=e.style.outlineColor=ae.makeHexColor(...this.#o);e.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`}const t=document.createElement("span");if(t.className="header",this.#A?.str){const r=document.createElement("span");r.className="title",t.append(r),{dir:r.dir,str:r.textContent}=this.#A}if(e.append(t),this.#c){const r=document.createElement("time");r.className="popupDate",r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),r.dateTime=this.#c.toISOString(),t.append(r)}wk({html:this.#D||this.#a.str,dir:this.#a?.dir,className:"popupContent"},e),this.#i.append(e)}get#D(){const e=this.#k,t=this.#a;return e?.str&&(!t?.str||t.str===e.str)&&this.#k.html||null}get#L(){return this.#D?.attributes?.style?.fontSize||0}get#B(){return this.#D?.attributes?.style?.color||null}#F(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:this.#B,fontSize:this.#L?`calc(${this.#L}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return r}#H(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#f)&&this.#x()}updateEdited({rect:e,popup:t,deleted:r}){if(this.#e){r?(this.remove(),this.#C=null):t&&(t.deleted?this.remove():(this.#O(),this.#C=t.text)),e&&(this.#y=null,this.#_(),this.#P());return}if(r||t?.deleted){this.remove();return}this.#R(),this.#S||={contentsObj:this.#a,richText:this.#k},e&&(this.#u=null),t&&t.text&&(this.#k=this.#F(t.text),this.#c=ty.toDateObject(t.date),this.#a=null),this.#g?.remove(),this.#g=null}resetEdited(){this.#S&&({contentsObj:this.#a,richText:this.#k}=this.#S,this.#S=null,this.#g?.remove(),this.#g=null,this.#u=null)}remove(){if(this.#m?.abort(),this.#m=null,this.#g?.remove(),this.#g=null,this.#E=!1,this.#f=!1,this.#p?.remove(),this.#p=null,this.trigger)for(const e of this.trigger)e.classList.remove("popupTriggerArea")}#T(){if(this.#u!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:i,pageY:s}}}=this.#h;let a=!!this.#d,c=a?this.#d:this.#v;for(const w of this.#l)if(!c||ae.intersect(w.data.rect,c)!==null){c=w.data.rect,a=!0;break}const u=ae.normalizeRect([c[0],e[3]-c[1]+e[1],c[2],e[3]-c[3]+e[1]]),f=a?c[2]-c[0]+5:0,p=u[0]+f,g=u[1];this.#u=[100*(p-i)/t,100*(g-s)/r];const{style:y}=this.#i;y.left=`${this.#u[0]}%`,y.top=`${this.#u[1]}%`}#x(){if(this.#e){this.#e.toggleCommentPopup(this,!1);return}this.#f=!this.#f,this.#f?(this.#I(),this.#i.addEventListener("click",this.#s),this.#i.addEventListener("keydown",this.#t)):(this.#j(),this.#i.removeEventListener("click",this.#s),this.#i.removeEventListener("keydown",this.#t))}#I(){this.#g||this.render(),this.isVisible?this.#f&&this.#i.classList.add("focused"):(this.#T(),this.#i.hidden=!1,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)+1e3)}#j(){this.#i.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#i.hidden=!0,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)-1e3)}forceHide(){this.#E=this.isVisible,this.#E&&(this.#i.hidden=!0)}maybeShow(){this.#e||(this.#R(),this.#E&&(this.#g||this.#I(),this.#E=!1,this.#i.hidden=!1))}get isVisible(){return this.#e?!1:this.#i.hidden===!1}}class Wk extends Et{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Me.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class BV extends Et{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:e,width:t,height:r}=this,i=this.svgFactory.create(t,r,!0),s=this.#e=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),s.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),s.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),s.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),s.setAttribute("stroke-width",e.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class jV extends Et{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:e,width:t,height:r}=this,i=this.svgFactory.create(t,r,!0),s=e.borderStyle.width,a=this.#e=this.svgFactory.createElement("svg:rect");return a.setAttribute("x",s/2),a.setAttribute("y",s/2),a.setAttribute("width",t-s),a.setAttribute("height",r-s),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class $V extends Et{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:e,width:t,height:r}=this,i=this.svgFactory.create(t,r,!0),s=e.borderStyle.width,a=this.#e=this.svgFactory.createElement("svg:ellipse");return a.setAttribute("cx",t/2),a.setAttribute("cy",r/2),a.setAttribute("rx",t/2-s/2),a.setAttribute("ry",r/2-s/2),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Gk extends Et{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:r,popupRef:i},width:s,height:a}=this;if(!t)return this.container;const c=this.svgFactory.create(s,a,!0);let u=[];for(let f=0,p=t.length;f<p;f+=2){const g=t[f]-e[0],y=e[3]-t[f+1];u.push(`${g},${y}`)}u=u.join(" ");const d=this.#e=this.svgFactory.createElement(this.svgElementName);return d.setAttribute("points",u),d.setAttribute("stroke-width",r.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),c.append(d),this.container.append(c),!i&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class zV extends Gk{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class VV extends Et{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}class I0 extends Et{#e=null;#t=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Me.HIGHLIGHT:Me.INK}#r(e,t){switch(e){case 90:return{transform:`rotate(90) translate(${-t[0]},${t[1]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};case 180:return{transform:`rotate(180) translate(${-t[2]},${t[1]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]};case 270:return{transform:`rotate(270) translate(${-t[2]},${t[3]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};default:return{transform:`translate(${-t[0]},${t[3]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:t,inkLists:r,borderStyle:i,popupRef:s}}=this,{transform:a,width:c,height:u}=this.#r(t,e),d=this.svgFactory.create(c,u,!0),f=this.#e=this.svgFactory.createElement("svg:g");d.append(f),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke-linecap","round"),f.setAttribute("stroke-linejoin","round"),f.setAttribute("stroke-miterlimit",10),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),f.setAttribute("transform",a);for(let p=0,g=r.length;p<g;p++){const y=this.svgFactory.createElement(this.svgElementName);this.#t.push(y),y.setAttribute("points",r[p].join(",")),f.append(y)}return!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:t,points:r,rect:i}=e,s=this.#e;if(t>=0&&s.setAttribute("stroke-width",t||1),r)for(let a=0,c=this.#t.length;a<c;a++)this.#t[a].setAttribute("points",r[a].join(","));if(i){const{transform:a,width:c,height:u}=this.#r(this.data.rotation,i);s.parentElement.setAttribute("viewBox",`0 0 ${c} ${u}`),s.setAttribute("transform",a)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class Xk extends Et{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Me.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class UV extends Et{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class HV extends Et{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class WV extends Et{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class Kk extends Et{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Me.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class GV extends Et{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...t})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let r;t.hasAppearance||t.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(t.fillAlpha*100)}%);`)),r.addEventListener("dblclick",this.#t.bind(this)),this.#e=r;const{isMac:i}=Gt.platform;return e.addEventListener("keydown",s=>{s.key==="Enter"&&(i?s.metaKey:s.ctrlKey)&&this.#t()}),!t.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class L0{#e=null;#t=null;#r=null;#n=new Map;#s=null;#o=null;#i=[];#a=!1;constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:a,structTreeLayer:c,commentManager:u,linkService:d,annotationStorage:f}){this.div=e,this.#e=t,this.#t=r,this.#s=c||null,this.#o=d||null,this.#r=f||new E0,this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=u||null}hasEditableAnnotations(){return this.#n.size>0}async render(e){const{annotations:t}=e,r=this.div;co(r,this.viewport);const i=new Map,s=[],a={data:null,layer:r,linkService:this.#o,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Ih,annotationStorage:this.#r,enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const c of t){if(c.noHTML)continue;const u=c.annotationType===Ot.POPUP;if(u){const p=i.get(c.id);if(!p)continue;if(!this._commentManager){s.push(c);continue}a.elements=p}else if(c.rect[2]===c.rect[0]||c.rect[3]===c.rect[1])continue;a.data=c;const d=ig.create(a);if(!d.isRenderable)continue;if(!u&&(this.#i.push(d),c.popupRef)){const p=i.get(c.popupRef);p?p.push(d):i.set(c.popupRef,[d])}const f=d.render();c.hidden&&(f.style.visibility="hidden"),d._isEditable&&(this.#n.set(d.data.id,d),this._annotationEditorUIManager?.renderAnnotationElement(d))}await this.#c();for(const c of s){const u=a.elements=i.get(c.id);a.data=c;const d=ig.create(a);if(!d.isRenderable)continue;const f=d.render();d.contentElement.id=`${ga}${c.id}`,c.hidden&&(f.style.visibility="hidden"),u.at(-1).container.after(f)}this.#l()}async#c(){if(this.#i.length===0)return;this.div.replaceChildren();const e=[];if(!this.#a){this.#a=!0;for(const{contentElement:r,data:{id:i}}of this.#i){const s=r.id=`${ga}${i}`;e.push(this.#s?.getAriaAttributes(s).then(a=>{if(a)for(const[c,u]of a)r.setAttribute(c,u)}))}}this.#i.sort(({data:{rect:[r,i,s,a]}},{data:{rect:[c,u,d,f]}})=>{if(r===s&&i===a)return 1;if(c===d&&u===f)return-1;const p=a,g=i,y=(i+a)/2,w=f,b=u,x=(u+f)/2;if(y>=w&&x<=g)return-1;if(x>=p&&y<=b)return 1;const A=(r+s)/2,T=(c+d)/2;return A-T});const t=document.createDocumentFragment();for(const r of this.#i)t.append(r.container),this._commentManager?(r.extraPopupElement?.popup||r.popup)?.renderCommentButton():r.extraPopupElement&&t.append(r.extraPopupElement.render());if(this.div.append(t),await Promise.all(e),this.#e)for(const r of this.#i)this.#e.addPointerInTextLayer(r.contentElement,!1)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:this.#o,svgFactory:new Ih,parent:this};for(const r of e){r.borderStyle||=L0._defaultBorderStyle,t.data=r;const i=ig.create(t);i.isRenderable&&(i.render(),i.contentElement.id=`${ga}${r.id}`,this.#i.push(i))}await this.#c()}update({viewport:e}){const t=this.div;this.viewport=e,co(t,{rotation:e.rotation}),this.#l(),t.hidden=!1}#l(){if(!this.#t)return;const e=this.div;for(const[t,r]of this.#t){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(r):s.classList.contains("annotationContent")?s.after(r):s.before(r):i.append(r);const a=this.#n.get(t);a&&(a._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(t,i.id,r),a._hasNoCanvas=!1):a.canvas=r)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(e){return this.#n.get(e)}addFakeAnnotation(e){const{div:t}=this,{id:r,rotation:i}=e,s=new RV({data:{id:r,rect:e.getPDFRect(),rotation:i},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:this.#o,annotationStorage:this.#r});return s.render(),s.contentElement.id=`${ga}${r}`,s.createOrUpdatePopup(),this.#i.push(s),s}removeAnnotation(e){const t=this.#i.findIndex(i=>i.data.id===e);if(t<0)return;const[r]=this.#i.splice(t,1);this.#e?.removePointerInTextLayer(r.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const t of e)t.updateFakeAnnotationElement(this);this.#c()}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return Re(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:ra.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}const Vd=/\r\n?|\n/g;class Zt extends we{#e="";#t=`${this.id}-editor`;#r=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=Zt.prototype,t=s=>s.isEmpty(),r=As.TRANSLATE_SMALL,i=As.TRANSLATE_BIG;return Re(this,"_keyboardManager",new Jc([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,i],checker:t}]]))}static _type="freetext";static _editorType=Me.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.color=e.color||Zt._defaultColor||we._defaultLineColor,this.#n=e.fontSize||Zt._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static initialize(e,t){we.initialize(e,t);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case $e.FREETEXT_SIZE:Zt._defaultFontSize=t;break;case $e.FREETEXT_COLOR:Zt._defaultColor=t;break}}updateParams(e,t){switch(e){case $e.FREETEXT_SIZE:this.#s(t);break;case $e.FREETEXT_COLOR:this.#o(t);break}}static get defaultPropertiesToUpdate(){return[[$e.FREETEXT_SIZE,Zt._defaultFontSize],[$e.FREETEXT_COLOR,Zt._defaultColor||we._defaultLineColor]]}get propertiesToUpdate(){return[[$e.FREETEXT_SIZE,this.#n],[$e.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new Nc(this),[["colorPicker",this._colorPicker]]}get colorType(){return $e.FREETEXT_COLOR}#s(e){const t=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--total-scale-factor))`,this.translate(0,-(i-this.#n)*this.parentScale),this.#n=i,this.#a()},r=this.#n;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:$e.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#o(e){const t=i=>{this.color=i,this.onUpdatedColor()},r=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:$e.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-Zt._internalPadding*e,-(Zt._internalPadding+this.#n)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#r=new AbortController;const e=this._uiManager.combinedSignal(this.#r);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#t),this._isDraggable=!0,this.#r?.abort(),this.#r=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#i(){const e=[];this.editorDiv.normalize();let t=null;for(const r of this.editorDiv.childNodes)t?.nodeType===Node.TEXT_NODE&&r.nodeName==="BR"||(e.push(Zt.#c(r)),t=r);return e.join(`
`)}#a(){const[e,t]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:i,div:s}=this,a=s.style.display,c=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",i.div.append(this.div),r=s.getBoundingClientRect(),s.remove(),s.style.display=a,s.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/t):(this.width=r.height/e,this.height=r.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#e,t=this.#e=this.#i().trimEnd();if(e===t)return;const r=i=>{if(this.#e=i,!i){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#a()};this.addCommands({cmd:()=>{r(t)},undo:()=>{r(e)},mustExec:!1}),this.#a()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Zt._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,t;(this._isCopy||this.annotationElementId)&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#t),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,r.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[i,s]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[c,u]=this.getInitialTranslation();[c,u]=this.pageTranslationToScreen(c,u);const[d,f]=this.pageDimensions,[p,g]=this.pageTranslation;let y,w;switch(this.rotation){case 0:y=e+(a[0]-p)/d,w=t+this.height-(a[1]-g)/f;break;case 90:y=e+(a[0]-p)/d,w=t-(a[1]-g)/f,[c,u]=[u,-c];break;case 180:y=e-this.width+(a[0]-p)/d,w=t-(a[1]-g)/f,[c,u]=[-c,-u];break;case 270:y=e+(a[0]-p-this.height*f)/d,w=t+(a[1]-g-this.width*d)/f,[c,u]=[-u,c];break}this.setAt(y*i,w*s,c,u)}else this._moveAfterPaste(e,t);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Vd,"")}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:r}=t;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();const i=Zt.#d(t.getData("text")||"").replaceAll(Vd,`
`);if(!i)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const a=s.getRangeAt(0);if(!i.includes(`
`)){a.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:c,startOffset:u}=a,d=[],f=[];if(c.nodeType===Node.TEXT_NODE){const y=c.parentElement;if(f.push(c.nodeValue.slice(u).replaceAll(Vd,"")),y!==this.editorDiv){let w=d;for(const b of this.editorDiv.childNodes){if(b===y){w=f;continue}w.push(Zt.#c(b))}}d.push(c.nodeValue.slice(0,u).replaceAll(Vd,""))}else if(c===this.editorDiv){let y=d,w=0;for(const b of this.editorDiv.childNodes)w++===u&&(y=f),y.push(Zt.#c(b))}this.#e=`${d.join(`
`)}${i}${f.join(`
`)}`,this.#l();const p=new Range;let g=Math.sumPrecise(d.map(y=>y.length));for(const{firstChild:y}of this.editorDiv.childNodes)if(y.nodeType===Node.TEXT_NODE){const w=y.nodeValue.length;if(g<=w){p.setStart(y,g),p.setEnd(y,g);break}g-=w}s.removeAllRanges(),s.addRange(p)}#l(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const e of this.#e.split(`
`)){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#h(){return this.#e.replaceAll(""," ")}static#d(e){return e.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const e=Zt._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,t,r){let i=null;if(e instanceof Wk){const{data:{defaultAppearanceData:{fontSize:a,fontColor:c},rect:u,rotation:d,id:f,popupRef:p,richText:g,contentsObj:y,creationDate:w,modificationDate:b},textContent:x,textPosition:A,parent:{page:{pageNumber:T}}}=e;if(!x||x.length===0)return null;i=e={annotationType:Me.FREETEXT,color:Array.from(c),fontSize:a,value:x.join(`
`),position:A,pageIndex:T-1,rect:u.slice(0),rotation:d,annotationElementId:f,id:f,deleted:!1,popupRef:p,comment:y?.str||null,richText:g,creationDate:w,modificationDate:b}}const s=await super.deserialize(e,t,r);return s.#n=e.fontSize,s.color=ae.makeHexColor(...e.color),s.#e=Zt.#d(e.value),s._initialData=i,e.comment&&s.setCommentData(e),s}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const t=we._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),r=Object.assign(super.serialize(e),{color:t,fontSize:this.#n,value:this.#h()});return this.addComment(r),e?(r.isCopy=!0,r):this.annotationElementId&&!this.#f(r)?null:(r.id=this.annotationElementId,r)}#f(e){const{value:t,fontSize:r,color:i,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==t||e.fontSize!==r||e.color.some((a,c)=>a!==i[c])||e.pageIndex!==s}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(!t)return null;const{style:r}=t;r.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,r.color=this.color,t.replaceChildren();for(const i of this.#e.split(`
`)){const s=document.createElement("div");s.append(i?document.createTextNode(i):document.createElement("br")),t.append(s)}return e.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#e}}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class ue{static PRECISION=1e-4;toSVGPath(){nt("Abstract method `toSVGPath` must be implemented.")}get box(){nt("Abstract getter `box` must be implemented.")}serialize(e,t){nt("Abstract method `serialize` must be implemented.")}static _rescale(e,t,r,i,s,a){a||=new Float32Array(e.length);for(let c=0,u=e.length;c<u;c+=2)a[c]=t+e[c]*i,a[c+1]=r+e[c+1]*s;return a}static _rescaleAndSwap(e,t,r,i,s,a){a||=new Float32Array(e.length);for(let c=0,u=e.length;c<u;c+=2)a[c]=t+e[c+1]*i,a[c+1]=r+e[c]*s;return a}static _translate(e,t,r,i){i||=new Float32Array(e.length);for(let s=0,a=e.length;s<a;s+=2)i[s]=t+e[s],i[s+1]=r+e[s+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,r,i,s){switch(s){case 90:return[1-t/r,e/i];case 180:return[1-e/r,1-t/i];case 270:return[t/r,1-e/i];default:return[e/r,t/i]}}static _normalizePagePoint(e,t,r){switch(r){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,r,i,s,a){return[(e+5*r)/6,(t+5*i)/6,(5*r+s)/6,(5*i+a)/6,(r+s)/2,(i+a)/2]}}class eo{#e;#t=[];#r;#n;#s=[];#o=new Float32Array(18);#i;#a;#c;#l;#h;#d;#f=[];static#g=8;static#m=2;static#u=eo.#g+eo.#m;constructor({x:e,y:t},r,i,s,a,c=0){this.#e=r,this.#d=s*i,this.#n=a,this.#o.set([NaN,NaN,NaN,NaN,e,t],6),this.#r=c,this.#l=eo.#g*i,this.#c=eo.#u*i,this.#h=i,this.#f.push(e,t)}isEmpty(){return isNaN(this.#o[8])}#p(){const e=this.#o.subarray(4,6),t=this.#o.subarray(16,18),[r,i,s,a]=this.#e;return[(this.#i+(e[0]-t[0])/2-r)/s,(this.#a+(e[1]-t[1])/2-i)/a,(this.#i+(t[0]-e[0])/2-r)/s,(this.#a+(t[1]-e[1])/2-i)/a]}add({x:e,y:t}){this.#i=e,this.#a=t;const[r,i,s,a]=this.#e;let[c,u,d,f]=this.#o.subarray(8,12);const p=e-d,g=t-f,y=Math.hypot(p,g);if(y<this.#c)return!1;const w=y-this.#l,b=w/y,x=b*p,A=b*g;let T=c,k=u;c=d,u=f,d+=x,f+=A,this.#f?.push(e,t);const R=-A/w,P=x/w,M=R*this.#d,L=P*this.#d;return this.#o.set(this.#o.subarray(2,8),0),this.#o.set([d+M,f+L],4),this.#o.set(this.#o.subarray(14,18),12),this.#o.set([d-M,f-L],16),isNaN(this.#o[6])?(this.#s.length===0&&(this.#o.set([c+M,u+L],2),this.#s.push(NaN,NaN,NaN,NaN,(c+M-r)/s,(u+L-i)/a),this.#o.set([c-M,u-L],14),this.#t.push(NaN,NaN,NaN,NaN,(c-M-r)/s,(u-L-i)/a)),this.#o.set([T,k,c,u,d,f],6),!this.isEmpty()):(this.#o.set([T,k,c,u,d,f],6),Math.abs(Math.atan2(k-u,T-c)-Math.atan2(A,x))<Math.PI/2?([c,u,d,f]=this.#o.subarray(2,6),this.#s.push(NaN,NaN,NaN,NaN,((c+d)/2-r)/s,((u+f)/2-i)/a),[c,u,T,k]=this.#o.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((T+c)/2-r)/s,((k+u)/2-i)/a),!0):([T,k,c,u,d,f]=this.#o.subarray(0,6),this.#s.push(((T+5*c)/6-r)/s,((k+5*u)/6-i)/a,((5*c+d)/6-r)/s,((5*u+f)/6-i)/a,((c+d)/2-r)/s,((u+f)/2-i)/a),[d,f,c,u,T,k]=this.#o.subarray(12,18),this.#t.push(((T+5*c)/6-r)/s,((k+5*u)/6-i)/a,((5*c+d)/6-r)/s,((5*u+f)/6-i)/a,((c+d)/2-r)/s,((u+f)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#s,t=this.#t;if(isNaN(this.#o[6])&&!this.isEmpty())return this.#y();const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);this.#v(r);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?r.push(`L${t[i+4]} ${t[i+5]}`):r.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return this.#b(r),r.join(" ")}#y(){const[e,t,r,i]=this.#e,[s,a,c,u]=this.#p();return`M${(this.#o[2]-e)/r} ${(this.#o[3]-t)/i} L${(this.#o[4]-e)/r} ${(this.#o[5]-t)/i} L${s} ${a} L${c} ${u} L${(this.#o[16]-e)/r} ${(this.#o[17]-t)/i} L${(this.#o[14]-e)/r} ${(this.#o[15]-t)/i} Z`}#b(e){const t=this.#t;e.push(`L${t[4]} ${t[5]} Z`)}#v(e){const[t,r,i,s]=this.#e,a=this.#o.subarray(4,6),c=this.#o.subarray(16,18),[u,d,f,p]=this.#p();e.push(`L${(a[0]-t)/i} ${(a[1]-r)/s} L${u} ${d} L${f} ${p} L${(c[0]-t)/i} ${(c[1]-r)/s}`)}newFreeDrawOutline(e,t,r,i,s,a){return new Yk(e,t,r,i,s,a)}getOutlines(){const e=this.#s,t=this.#t,r=this.#o,[i,s,a,c]=this.#e,u=new Float32Array((this.#f?.length??0)+2);for(let p=0,g=u.length-2;p<g;p+=2)u[p]=(this.#f[p]-i)/a,u[p+1]=(this.#f[p+1]-s)/c;if(u[u.length-2]=(this.#i-i)/a,u[u.length-1]=(this.#a-s)/c,isNaN(r[6])&&!this.isEmpty())return this.#k(u);const d=new Float32Array(this.#s.length+24+this.#t.length);let f=e.length;for(let p=0;p<f;p+=2){if(isNaN(e[p])){d[p]=d[p+1]=NaN;continue}d[p]=e[p],d[p+1]=e[p+1]}f=this.#S(d,f);for(let p=t.length-6;p>=6;p-=6)for(let g=0;g<6;g+=2){if(isNaN(t[p+g])){d[f]=d[f+1]=NaN,f+=2;continue}d[f]=t[p+g],d[f+1]=t[p+g+1],f+=2}return this.#A(d,f),this.newFreeDrawOutline(d,u,this.#e,this.#h,this.#r,this.#n)}#k(e){const t=this.#o,[r,i,s,a]=this.#e,[c,u,d,f]=this.#p(),p=new Float32Array(36);return p.set([NaN,NaN,NaN,NaN,(t[2]-r)/s,(t[3]-i)/a,NaN,NaN,NaN,NaN,(t[4]-r)/s,(t[5]-i)/a,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,(t[16]-r)/s,(t[17]-i)/a,NaN,NaN,NaN,NaN,(t[14]-r)/s,(t[15]-i)/a],0),this.newFreeDrawOutline(p,e,this.#e,this.#h,this.#r,this.#n)}#A(e,t){const r=this.#t;return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],t),t+=6}#S(e,t){const r=this.#o.subarray(4,6),i=this.#o.subarray(16,18),[s,a,c,u]=this.#e,[d,f,p,g]=this.#p();return e.set([NaN,NaN,NaN,NaN,(r[0]-s)/c,(r[1]-a)/u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(i[0]-s)/c,(i[1]-a)/u],t),t+=24}}class Yk extends ue{#e;#t=new Float32Array(4);#r;#n;#s;#o;#i;constructor(e,t,r,i,s,a){super(),this.#i=e,this.#s=t,this.#e=r,this.#o=i,this.#r=s,this.#n=a,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#a(a);const[c,u,d,f]=this.#t;for(let p=0,g=e.length;p<g;p+=2)e[p]=(e[p]-c)/d,e[p+1]=(e[p+1]-u)/f;for(let p=0,g=t.length;p<g;p+=2)t[p]=(t[p]-c)/d,t[p+1]=(t[p+1]-u)/f}toSVGPath(){const e=[`M${this.#i[4]} ${this.#i[5]}`];for(let t=6,r=this.#i.length;t<r;t+=6){if(isNaN(this.#i[t])){e.push(`L${this.#i[t+4]} ${this.#i[t+5]}`);continue}e.push(`C${this.#i[t]} ${this.#i[t+1]} ${this.#i[t+2]} ${this.#i[t+3]} ${this.#i[t+4]} ${this.#i[t+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,t,r,i],s){const a=r-e,c=i-t;let u,d;switch(s){case 0:u=ue._rescale(this.#i,e,i,a,-c),d=ue._rescale(this.#s,e,i,a,-c);break;case 90:u=ue._rescaleAndSwap(this.#i,e,t,a,c),d=ue._rescaleAndSwap(this.#s,e,t,a,c);break;case 180:u=ue._rescale(this.#i,r,t,-a,c),d=ue._rescale(this.#s,r,t,-a,c);break;case 270:u=ue._rescaleAndSwap(this.#i,r,i,-a,-c),d=ue._rescaleAndSwap(this.#s,r,i,-a,-c);break}return{outline:Array.from(u),points:[Array.from(d)]}}#a(e){const t=this.#i;let r=t[4],i=t[5];const s=[r,i,r,i];let a=r,c=i,u=r,d=i;const f=e?Math.max:Math.min,p=new Float32Array(4);for(let y=6,w=t.length;y<w;y+=6){const b=t[y+4],x=t[y+5];isNaN(t[y])?(ae.pointBoundingBox(b,x,s),c>x?(a=b,c=x):c===x&&(a=f(a,b)),d<x?(u=b,d=x):d===x&&(u=f(u,b))):(p[0]=p[1]=1/0,p[2]=p[3]=-1/0,ae.bezierBoundingBox(r,i,...t.slice(y,y+6),p),ae.rectBoundingBox(p[0],p[1],p[2],p[3],s),c>p[1]?(a=p[0],c=p[1]):c===p[1]&&(a=f(a,p[0])),d<p[3]?(u=p[2],d=p[3]):d===p[3]&&(u=f(u,p[2]))),r=b,i=x}const g=this.#t;g[0]=s[0]-this.#r,g[1]=s[1]-this.#r,g[2]=s[2]-s[0]+2*this.#r,g[3]=s[3]-s[1]+2*this.#r,this.firstPoint=[a,c],this.lastPoint=[u,d]}get box(){return this.#t}newOutliner(e,t,r,i,s,a=0){return new eo(e,t,r,i,s,a)}getNewOutline(e,t){const[r,i,s,a]=this.#t,[c,u,d,f]=this.#e,p=s*d,g=a*f,y=r*d+c,w=i*f+u,b=this.newOutliner({x:this.#s[0]*p+y,y:this.#s[1]*g+w},this.#e,this.#o,e,this.#n,t??this.#r);for(let x=2;x<this.#s.length;x+=2)b.add({x:this.#s[x]*p+y,y:this.#s[x+1]*g+w});return b.getOutlines()}}class cy{#e;#t;#r;#n=[];#s=[];constructor(e,t=0,r=0,i=!0){const s=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:b,y:x,width:A,height:T}of e){const k=Math.floor((b-t)/a)*a,R=Math.ceil((b+A+t)/a)*a,P=Math.floor((x-t)/a)*a,M=Math.ceil((x+T+t)/a)*a,L=[k,P,M,!0],F=[R,P,M,!1];this.#n.push(L,F),ae.rectBoundingBox(k,P,R,M,s)}const c=s[2]-s[0]+2*r,u=s[3]-s[1]+2*r,d=s[0]-r,f=s[1]-r;let p=i?-1/0:1/0,g=1/0;const y=this.#n.at(i?-1:-2),w=[y[0],y[2]];for(const b of this.#n){const[x,A,T,k]=b;!k&&i?A<g?(g=A,p=x):A===g&&(p=Math.max(p,x)):k&&!i&&(A<g?(g=A,p=x):A===g&&(p=Math.min(p,x))),b[0]=(x-d)/c,b[1]=(A-f)/u,b[2]=(T-f)/u}this.#e=new Float32Array([d,f,c,u]),this.#t=[p,g],this.#r=w}getOutlines(){this.#n.sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of this.#n)t[3]?(e.push(...this.#l(t)),this.#a(t)):(this.#c(t),e.push(...this.#l(t)));return this.#o(e)}#o(e){const t=[],r=new Set;for(const a of e){const[c,u,d]=a;t.push([c,u,a],[c,d,a])}t.sort((a,c)=>a[1]-c[1]||a[0]-c[0]);for(let a=0,c=t.length;a<c;a+=2){const u=t[a][2],d=t[a+1][2];u.push(d),d.push(u),r.add(u),r.add(d)}const i=[];let s;for(;r.size>0;){const a=r.values().next().value;let[c,u,d,f,p]=a;r.delete(a);let g=c,y=u;for(s=[c,d],i.push(s);;){let w;if(r.has(f))w=f;else if(r.has(p))w=p;else break;r.delete(w),[c,u,d,f,p]=w,g!==c&&(s.push(g,y,c,y===u?u:d),g=c),y=y===u?d:u}s.push(g,y)}return new XV(i,this.#e,this.#t,this.#r)}#i(e){const t=this.#s;let r=0,i=t.length-1;for(;r<=i;){const s=r+i>>1,a=t[s][0];if(a===e)return s;a<e?r=s+1:i=s-1}return i+1}#a([,e,t]){const r=this.#i(e);this.#s.splice(r,0,[e,t])}#c([,e,t]){const r=this.#i(e);for(let i=r;i<this.#s.length;i++){const[s,a]=this.#s[i];if(s!==e)break;if(s===e&&a===t){this.#s.splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,a]=this.#s[i];if(s!==e)break;if(s===e&&a===t){this.#s.splice(i,1);return}}}#l(e){const[t,r,i]=e,s=[[t,r,i]],a=this.#i(i);for(let c=0;c<a;c++){const[u,d]=this.#s[c];for(let f=0,p=s.length;f<p;f++){const[,g,y]=s[f];if(!(d<=g||y<=u)){if(g>=u){if(y>d)s[f][1]=d;else{if(p===1)return[];s.splice(f,1),f--,p--}continue}s[f][2]=u,y>d&&s.push([t,d,y])}}}return s}}class XV extends ue{#e;#t;constructor(e,t,r,i){super(),this.#t=e,this.#e=t,this.firstPoint=r,this.lastPoint=i}toSVGPath(){const e=[];for(const t of this.#t){let[r,i]=t;e.push(`M${r} ${i}`);for(let s=2;s<t.length;s+=2){const a=t[s],c=t[s+1];a===r?(e.push(`V${c}`),i=c):c===i&&(e.push(`H${a}`),r=a)}e.push("Z")}return e.join(" ")}serialize([e,t,r,i],s){const a=[],c=r-e,u=i-t;for(const d of this.#t){const f=new Array(d.length);for(let p=0;p<d.length;p+=2)f[p]=e+d[p]*c,f[p+1]=i-d[p+1]*u;a.push(f)}return a}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}}class uy extends eo{newFreeDrawOutline(e,t,r,i,s,a){return new KV(e,t,r,i,s,a)}}class KV extends Yk{newOutliner(e,t,r,i,s,a=0){return new uy(e,t,r,i,s,a)}}class It extends we{#e=null;#t=0;#r;#n=null;#s=null;#o=null;#i=null;#a=0;#c=null;#l=null;#h=null;#d=!1;#f=null;#g=null;#m=null;#u="";#p;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Me.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=It.prototype;return Re(this,"_keyboardManager",new Jc([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||It._defaultColor,this.#p=e.thickness||It._defaultThickness,this.opacity=e.opacity||It._defaultOpacity,this.#r=e.boxes||null,this.#y=e.methodOfCreation||"",this.#u=e.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(this.#d=!0,this.#v(e),this.#w()):this.#r&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#i=e.focusNode,this.#a=e.focusOffset,this.#b(),this.#w(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#d?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#p,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#b(){const e=new cy(this.#r,.001);this.#l=e.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const t=new cy(this.#r,.0025,.001,this._uiManager.direction==="ltr");this.#o=t.getOutlines();const{firstPoint:r}=this.#l;this.#f=[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height];const{lastPoint:i}=this.#o;this.#g=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]}#v({highlightOutlines:e,highlightId:t,clipPathId:r}){this.#l=e;const i=1.5;if(this.#o=e.getNewOutline(this.#p/2+i,.0025),t>=0)this.#h=t,this.#n=r,this.parent.drawLayer.finalizeDraw(t,{bbox:e.box,path:{d:e.toSVGPath()}}),this.#m=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#o.box,path:{d:this.#o.toSVGPath()}},!0);else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#h,{bbox:It.#C(this.#l.box,(p-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#m,{bbox:It.#C(this.#o.box,p),path:{d:this.#o.toSVGPath()}})}const[s,a,c,u]=e.box;switch(this.rotation){case 0:this.x=s,this.y=a,this.width=c,this.height=u;break;case 90:{const[p,g]=this.parentDimensions;this.x=a,this.y=1-s,this.width=c*g/p,this.height=u*p/g;break}case 180:this.x=1-s,this.y=1-a,this.width=c,this.height=u;break;case 270:{const[p,g]=this.parentDimensions;this.x=1-a,this.y=s,this.width=c*g/p,this.height=u*p/g;break}}const{firstPoint:d}=e;this.#f=[(d[0]-s)/c,(d[1]-a)/u];const{lastPoint:f}=this.#o;this.#g=[(f[0]-s)/c,(f[1]-a)/u]}static initialize(e,t){we.initialize(e,t),It._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case $e.HIGHLIGHT_COLOR:It._defaultColor=t;break;case $e.HIGHLIGHT_THICKNESS:It._defaultThickness=t;break}}translateInPage(e,t){}get toolbarPosition(){return this.#g}get commentButtonPosition(){return this.#f}updateParams(e,t){switch(e){case $e.HIGHLIGHT_COLOR:this.#k(t);break;case $e.HIGHLIGHT_THICKNESS:this.#A(t);break}}static get defaultPropertiesToUpdate(){return[[$e.HIGHLIGHT_COLOR,It._defaultColor],[$e.HIGHLIGHT_THICKNESS,It._defaultThickness]]}get propertiesToUpdate(){return[[$e.HIGHLIGHT_COLOR,this.color||It._defaultColor],[$e.HIGHLIGHT_THICKNESS,this.#p||It._defaultThickness],[$e.HIGHLIGHT_FREE,this.#d]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#h,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#s?.updateColor(this.color),super.onUpdatedColor()}#k(e){const t=(s,a)=>{this.color=s,this.opacity=a,this.onUpdatedColor()},r=this.color,i=this.opacity;this.addCommands({cmd:t.bind(this,e,It._defaultOpacity),undo:t.bind(this,r,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:$e.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)}#A(e){const t=this.#p,r=i=>{this.#p=i,this.#S(i)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:$e.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#s=new pr({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#P())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#P())}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){this.#E(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#w(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#E():e&&(this.#w(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#S(e){this.#d&&(this.#v({highlightOutlines:this.#l.getNewOutline(e/2)}),this.fixAndSetPosition(),this.setDims())}#E(){this.#h===null||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#m),this.#m=null)}#w(e=this.parent){this.#h===null&&({id:this.#h,clipPathId:this.#n}=e.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#d},path:{d:this.#l.toSVGPath()}},!1,!0),this.#m=e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#d},bbox:this.#o.box,path:{d:this.#o.toSVGPath()}},this.#d),this.#c&&(this.#c.style.clipPath=this.#n))}static#C([e,t,r,i],s){switch(s){case 90:return[1-t-i,e,i,r];case 180:return[1-e-r,1-t-i,r,i];case 270:return[t,1-e-r,i,r]}return[e,t,r,i]}rotate(e){const{drawLayer:t}=this.parent;let r;this.#d?(e=(e-this.rotation+360)%360,r=It.#C(this.#l.box,e)):r=It.#C([this.x,this.y,this.width,this.height],e),t.updateProperties(this.#h,{bbox:r,root:{"data-main-rotation":e}}),t.updateProperties(this.#m,{bbox:It.#C(this.#o.box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();this.#u&&(e.setAttribute("aria-label",this.#u),e.setAttribute("role","mark")),this.#d?e.classList.add("free"):this.div.addEventListener("keydown",this.#R.bind(this),{signal:this._uiManager._signal});const t=this.#c=document.createElement("div");return e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#n,this.setDims(),xk(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!1}})}#R(e){It._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#_(!0);break;case 1:case 3:this.#_(!1);break}}#_(e){if(!this.#e)return;const t=window.getSelection();e?t.setPosition(this.#e,this.#t):t.setPosition(this.#i,this.#a)}select(){super.select(),this.#m&&this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#m&&(this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{selected:!1}}),this.#d||this.#_(!1))}get _mustFixPosition(){return!this.#d}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(this.#h,{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(this.#m,{rootClass:{hidden:!e}}))}#P(){return this.#d?this.rotation:0}#O(){if(this.#d)return null;const[e,t]=this.pageDimensions,[r,i]=this.pageTranslation,s=this.#r,a=new Float32Array(s.length*8);let c=0;for(const{x:u,y:d,width:f,height:p}of s){const g=u*e+r,y=(1-d)*t+i;a[c]=a[c+4]=g,a[c+1]=a[c+3]=y,a[c+2]=a[c+6]=g+f*e,a[c+5]=a[c+7]=y-p*t,c+=8}return a}#D(e){return this.#l.serialize(e,this.#P())}static startHighlighting(e,t,{target:r,x:i,y:s}){const{x:a,y:c,width:u,height:d}=r.getBoundingClientRect(),f=new AbortController,p=e.combinedSignal(f),g=y=>{f.abort(),this.#B(e,y)};window.addEventListener("blur",g,{signal:p}),window.addEventListener("pointerup",g,{signal:p}),window.addEventListener("pointerdown",Mt,{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",br,{signal:p}),r.addEventListener("pointermove",this.#L.bind(this,e),{signal:p}),this._freeHighlight=new uy({x:i,y:s},[a,c,u,d],e.scale,this._defaultThickness/2,t,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#L(e,t){this._freeHighlight.add(t)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#B(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,t,r){let i=null;if(e instanceof Xk){const{data:{quadPoints:w,rect:b,rotation:x,id:A,color:T,opacity:k,popupRef:R,richText:P,contentsObj:M,creationDate:L,modificationDate:F},parent:{page:{pageNumber:z}}}=e;i=e={annotationType:Me.HIGHLIGHT,color:Array.from(T),opacity:k,quadPoints:w,boxes:null,pageIndex:z-1,rect:b.slice(0),rotation:x,annotationElementId:A,id:A,deleted:!1,popupRef:R,richText:P,comment:M?.str||null,creationDate:L,modificationDate:F}}else if(e instanceof I0){const{data:{inkLists:w,rect:b,rotation:x,id:A,color:T,borderStyle:{rawWidth:k},popupRef:R,richText:P,contentsObj:M,creationDate:L,modificationDate:F},parent:{page:{pageNumber:z}}}=e;i=e={annotationType:Me.HIGHLIGHT,color:Array.from(T),thickness:k,inkLists:w,boxes:null,pageIndex:z-1,rect:b.slice(0),rotation:x,annotationElementId:A,id:A,deleted:!1,popupRef:R,richText:P,comment:M?.str||null,creationDate:L,modificationDate:F}}const{color:s,quadPoints:a,inkLists:c,opacity:u}=e,d=await super.deserialize(e,t,r);d.color=ae.makeHexColor(...s),d.opacity=u||1,c&&(d.#p=e.thickness),d._initialData=i,e.comment&&d.setCommentData(e);const[f,p]=d.pageDimensions,[g,y]=d.pageTranslation;if(a){const w=d.#r=[];for(let b=0;b<a.length;b+=8)w.push({x:(a[b]-g)/f,y:1-(a[b+1]-y)/p,width:(a[b+2]-a[b])/f,height:(a[b+1]-a[b+5])/p});d.#b(),d.#w(),d.rotate(d.rotation)}else if(c){d.#d=!0;const w=c[0],b={x:w[0]-g,y:p-(w[1]-y)},x=new uy(b,[0,0,f,p],1,d.#p/2,!0,.001);for(let k=0,R=w.length;k<R;k+=2)b.x=w[k]-g,b.y=p-(w[k+1]-y),x.add(b);const{id:A,clipPathId:T}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:x.toSVGPath()}},!0,!0);d.#v({highlightOutlines:x.getOutlines(),highlightId:A,clipPathId:T}),d.#w(),d.rotate(d.parentRotation)}return d}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const t=we._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),r=super.serialize(e);return Object.assign(r,{color:t,opacity:this.opacity,thickness:this.#p,quadPoints:this.#O(),outlines:this.#D(r.rect)}),this.addComment(r),this.annotationElementId&&!this.#F(r)?null:(r.id=this.annotationElementId,r)}#F(e){const{color:t}=this._initialData;return this.hasEditedComment||e.color.some((r,i)=>r!==t[i])}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class qk{#e=Object.create(null);updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,r]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,r)}updateSVGProperty(e,t){this.#e[e]=t}toSVGProperties(){const e=this.#e;return this.#e=Object.create(null),{root:e}}reset(){this.#e=Object.create(null)}updateAll(e=this){this.updateProperties(e)}clone(){nt("Not implemented")}}class qe extends we{#e=null;#t;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#r=null;static#n=null;static#s=null;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,this._addOutlines(e)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(e){e.drawOutlines&&(this.#o(e),this.#c())}#o({drawOutlines:e,drawId:t,drawingOptions:r}){this.#e=e,this._drawingOptions||=r,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),t>=0?(this._drawId=t,this.parent.drawLayer.finalizeDraw(t,e.defaultProperties)):this._drawId=this.#i(e,this.parent),this.#d(e.box)}#i(e,t){const{id:r}=t.drawLayer.draw(qe._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return r}static _mergeSVGProperties(e,t){const r=new Set(Object.keys(e));for(const[i,s]of Object.entries(t))r.has(i)?Object.assign(e[i],s):e[i]=s;return e}static getDefaultDrawingOptions(e){nt("Not implemented")}static get typesMap(){nt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,t){const r=this.typesMap.get(e);r&&this._defaultDrawingOptions.updateProperty(r,t),this._currentParent&&(qe.#r.updateProperty(r,t),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,t){const r=this.constructor.typesMap.get(e);r&&this._updateProperty(e,r,t)}static get defaultPropertiesToUpdate(){const e=[],t=this._defaultDrawingOptions;for(const[r,i]of this.typesMap)e.push([r,t[i]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:t}=this;for(const[r,i]of this.constructor.typesMap)e.push([r,t[i]]);return e}_updateProperty(e,t,r){const i=this._drawingOptions,s=i[t],a=c=>{i.updateProperty(t,c);const u=this.#e.updateProperty(t,c);u&&this.#d(u),this.parent?.drawLayer.updateProperties(this._drawId,i.toSVGProperties()),e===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:a.bind(this,r),undo:a.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,qe._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#h()),{bbox:this.#f()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,qe._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#h()),{bbox:this.#f()}))}_onTranslating(e,t){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#f()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,qe._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#h(),this.parentDimensions),{bbox:this.#f()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#a(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#c(),this.#d(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#a()):e&&(this._uiManager.addShouldRescale(this),this.#c(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),t&&this.select()}#a(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#c(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#i(this.#e,e)}}#l([e,t,r,i]){const{parentDimensions:[s,a],rotation:c}=this;switch(c){case 90:return[t,1-e,r*(a/s),i*(s/a)];case 180:return[1-e,1-t,r,i];case 270:return[1-t,e,r*(a/s),i*(s/a)];default:return[e,t,r,i]}}#h(){const{x:e,y:t,width:r,height:i,parentDimensions:[s,a],rotation:c}=this;switch(c){case 90:return[1-t,e,r*(s/a),i*(a/s)];case 180:return[1-e,1-t,r,i];case 270:return[t,1-e,r*(s/a),i*(a/s)];default:return[e,t,r,i]}}#d(e){[this.x,this.y,this.width,this.height]=this.#l(e),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#f(){const{x:e,y:t,width:r,height:i,rotation:s,parentRotation:a,parentDimensions:[c,u]}=this;switch((s*4+a)/90){case 1:return[1-t-i,e,i,r];case 2:return[1-e-r,1-t-i,r,i];case 3:return[t,1-e-r,i,r];case 4:return[e,t-r*(c/u),i*(u/c),r*(c/u)];case 5:return[1-t,e,r*(c/u),i*(u/c)];case 6:return[1-e-i*(u/c),1-t,i*(u/c),r*(c/u)];case 7:return[t-r*(c/u),1-e-i*(u/c),r*(c/u),i*(u/c)];case 8:return[e-r,t-i,r,i];case 9:return[1-t,e-r,i,r];case 10:return[1-e,1-t,r,i];case 11:return[t-i,1-e,i,r];case 12:return[e-i*(u/c),t,i*(u/c),r*(c/u)];case 13:return[1-t-r*(c/u),e-i*(u/c),r*(c/u),i*(u/c)];case 14:return[1-e,1-t-r*(c/u),i*(u/c),r*(c/u)];case 15:return[t,1-e,r*(c/u),i*(u/c)];default:return[e,t,r,i]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,qe._mergeSVGProperties({bbox:this.#f()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#d(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,t;this._isCopy&&(e=this.x,t=this.y);const r=super.render();r.classList.add("draw");const i=document.createElement("div");return r.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,t),r}static createDrawerInstance(e,t,r,i,s){nt("Not implemented")}static startDrawing(e,t,r,i){const{target:s,offsetX:a,offsetY:c,pointerId:u,pointerType:d}=i;if(Je.isInitializedAndDifferentPointerType(d))return;const{viewport:{rotation:f}}=e,{width:p,height:g}=s.getBoundingClientRect(),y=qe.#n=new AbortController,w=e.combinedSignal(y);if(Je.setPointer(d,u),window.addEventListener("pointerup",b=>{Je.isSamePointerIdOrRemove(b.pointerId)&&this._endDraw(b)},{signal:w}),window.addEventListener("pointercancel",b=>{Je.isSamePointerIdOrRemove(b.pointerId)&&this._currentParent.endDrawingSession()},{signal:w}),window.addEventListener("pointerdown",b=>{Je.isSamePointerType(b.pointerType)&&(Je.initializeAndAddPointerId(b.pointerId),qe.#r.isCancellable()&&(qe.#r.removeLastElement(),qe.#r.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:w}),window.addEventListener("contextmenu",br,{signal:w}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:w}),s.addEventListener("touchmove",b=>{Je.isSameTimeStamp(b.timeStamp)&&Mt(b)},{signal:w}),e.toggleDrawing(),t._editorUndoBar?.hide(),qe.#r){e.drawLayer.updateProperties(this._currentDrawId,qe.#r.startNew(a,c,p,g,f));return}t.updateUIForDefaultProperties(this),qe.#r=this.createDrawerInstance(a,c,p,g,f),qe.#s=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(qe.#s.toSVGProperties(),qe.#r.defaultSVGProperties),!0,!1)}static _drawMove(e){if(Je.isSameTimeStamp(e.timeStamp),!qe.#r)return;const{offsetX:t,offsetY:r,pointerId:i}=e;if(Je.isSamePointerId(i)){if(Je.isUsingMultiplePointers()){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,qe.#r.add(t,r)),Je.setTimeStamp(e.timeStamp),Mt(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,qe.#r=null,qe.#s=null,Je.clearTimeStamp()),qe.#n&&(qe.#n.abort(),qe.#n=null,Je.clearPointerIds())}static _endDraw(e){const t=this._currentParent;if(t){if(t.toggleDrawing(!0),this._cleanup(!1),e?.target===t.div&&t.drawLayer.updateProperties(this._currentDrawId,qe.#r.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const r=qe.#r,i=this._currentDrawId,s=r.getLastElement();t.addCommands({cmd:()=>{t.drawLayer.updateProperties(i,r.setLastElement(s))},undo:()=>{t.drawLayer.updateProperties(i,r.removeLastElement())},mustExec:!1,type:$e.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const t=this._currentParent;if(!t)return null;if(t.toggleDrawing(!0),t.cleanUndoStack($e.DRAW_STEP),!qe.#r.isEmpty()){const{pageDimensions:[r,i],scale:s}=t,a=t.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:qe.#r.getOutlines(r*s,i*s,s,this._INNER_MARGIN),drawingOptions:qe.#s,mustBeCommitted:!e});return this._cleanup(!0),a}return t.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,t,r,i,s,a){nt("Not implemented")}static async deserialize(e,t,r){const{rawDims:{pageWidth:i,pageHeight:s,pageX:a,pageY:c}}=t.viewport,u=this.deserializeDraw(a,c,i,s,this._INNER_MARGIN,e),d=await super.deserialize(e,t,r);return d.createDrawingOptions(e),d.#o({drawOutlines:u}),d.#c(),d.onScaleChanging(),d.rotate(),d}serializeDraw(e){const[t,r]=this.pageTranslation,[i,s]=this.pageDimensions;return this.#e.serialize([t,r,i,s],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class YV{#e=new Float64Array(6);#t;#r;#n;#s;#o;#i="";#a=0;#c=new eu;#l;#h;constructor(e,t,r,i,s,a){this.#l=r,this.#h=i,this.#n=s,this.#s=a,[e,t]=this.#d(e,t);const c=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#o=[e,t],this.#r=[{line:c,points:this.#o}],this.#e.set(c,0)}updateProperty(e,t){e==="stroke-width"&&(this.#s=t)}#d(e,t){return ue._normalizePoint(e,t,this.#l,this.#h,this.#n)}isEmpty(){return!this.#r||this.#r.length===0}isCancellable(){return this.#o.length<=10}add(e,t){[e,t]=this.#d(e,t);const[r,i,s,a]=this.#e.subarray(2,6),c=e-s,u=t-a;return Math.hypot(this.#l*c,this.#h*u)<=2?null:(this.#o.push(e,t),isNaN(r)?(this.#e.set([s,a,e,t],2),this.#t.push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([r,i,s,a,e,t],0),this.#t.push(...ue.createBezierPoints(r,i,s,a,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const r=this.add(e,t);return r||(this.#o.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,r,i,s){this.#l=r,this.#h=i,this.#n=s,[e,t]=this.#d(e,t);const a=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#o=[e,t];const c=this.#r.at(-1);return c&&(c.line=new Float32Array(c.line),c.points=new Float32Array(c.points)),this.#r.push({line:a,points:this.#o}),this.#e.set(a,0),this.#a=0,this.toSVGPath(),null}getLastElement(){return this.#r.at(-1)}setLastElement(e){return this.#r?(this.#r.push(e),this.#t=e.line,this.#o=e.points,this.#a=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(e)}removeLastElement(){if(!this.#r)return this.#c.removeLastElement();this.#r.pop(),this.#i="";for(let e=0,t=this.#r.length;e<t;e++){const{line:r,points:i}=this.#r[e];this.#t=r,this.#o=i,this.#a=0,this.toSVGPath()}return{path:{d:this.#i}}}toSVGPath(){const e=ue.svgRound(this.#t[4]),t=ue.svgRound(this.#t[5]);if(this.#o.length===2)return this.#i=`${this.#i} M ${e} ${t} Z`,this.#i;if(this.#o.length<=6){const i=this.#i.lastIndexOf("M");this.#i=`${this.#i.slice(0,i)} M ${e} ${t}`,this.#a=6}if(this.#o.length===4){const i=ue.svgRound(this.#t[10]),s=ue.svgRound(this.#t[11]);return this.#i=`${this.#i} L ${i} ${s}`,this.#a=12,this.#i}const r=[];this.#a===0&&(r.push(`M ${e} ${t}`),this.#a=6);for(let i=this.#a,s=this.#t.length;i<s;i+=6){const[a,c,u,d,f,p]=this.#t.slice(i,i+6).map(ue.svgRound);r.push(`C${a} ${c} ${u} ${d} ${f} ${p}`)}return this.#i+=r.join(" "),this.#a=this.#t.length,this.#i}getOutlines(e,t,r,i){const s=this.#r.at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),this.#c.build(this.#r,e,t,r,this.#n,this.#s,i),this.#e=null,this.#t=null,this.#r=null,this.#i=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class eu extends ue{#e;#t=0;#r;#n;#s;#o;#i;#a;#c;build(e,t,r,i,s,a,c){this.#s=t,this.#o=r,this.#i=i,this.#a=s,this.#c=a,this.#r=c??0,this.#n=e,this.#d()}get thickness(){return this.#c}setLastElement(e){return this.#n.push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:t}of this.#n){if(e.push(`M${ue.svgRound(t[4])} ${ue.svgRound(t[5])}`),t.length===6){e.push("Z");continue}if(t.length===12&&isNaN(t[6])){e.push(`L${ue.svgRound(t[10])} ${ue.svgRound(t[11])}`);continue}for(let r=6,i=t.length;r<i;r+=6){const[s,a,c,u,d,f]=t.subarray(r,r+6).map(ue.svgRound);e.push(`C${s} ${a} ${c} ${u} ${d} ${f}`)}}return e.join("")}serialize([e,t,r,i],s){const a=[],c=[],[u,d,f,p]=this.#h();let g,y,w,b,x,A,T,k,R;switch(this.#a){case 0:R=ue._rescale,g=e,y=t+i,w=r,b=-i,x=e+u*r,A=t+(1-d-p)*i,T=e+(u+f)*r,k=t+(1-d)*i;break;case 90:R=ue._rescaleAndSwap,g=e,y=t,w=r,b=i,x=e+d*r,A=t+u*i,T=e+(d+p)*r,k=t+(u+f)*i;break;case 180:R=ue._rescale,g=e+r,y=t,w=-r,b=i,x=e+(1-u-f)*r,A=t+d*i,T=e+(1-u)*r,k=t+(d+p)*i;break;case 270:R=ue._rescaleAndSwap,g=e+r,y=t+i,w=-r,b=-i,x=e+(1-d-p)*r,A=t+(1-u-f)*i,T=e+(1-d)*r,k=t+(1-u)*i;break}for(const{line:P,points:M}of this.#n)a.push(R(P,g,y,w,b,s?new Array(P.length):null)),c.push(R(M,g,y,w,b,s?new Array(M.length):null));return{lines:a,points:c,rect:[x,A,T,k]}}static deserialize(e,t,r,i,s,{paths:{lines:a,points:c},rotation:u,thickness:d}){const f=[];let p,g,y,w,b;switch(u){case 0:b=ue._rescale,p=-e/r,g=t/i+1,y=1/r,w=-1/i;break;case 90:b=ue._rescaleAndSwap,p=-t/i,g=-e/r,y=1/i,w=1/r;break;case 180:b=ue._rescale,p=e/r+1,g=-t/i,y=-1/r,w=1/i;break;case 270:b=ue._rescaleAndSwap,p=t/i+1,g=e/r+1,y=-1/i,w=-1/r;break}if(!a){a=[];for(const A of c){const T=A.length;if(T===2){a.push(new Float32Array([NaN,NaN,NaN,NaN,A[0],A[1]]));continue}if(T===4){a.push(new Float32Array([NaN,NaN,NaN,NaN,A[0],A[1],NaN,NaN,NaN,NaN,A[2],A[3]]));continue}const k=new Float32Array(3*(T-2));a.push(k);let[R,P,M,L]=A.subarray(0,4);k.set([NaN,NaN,NaN,NaN,R,P],0);for(let F=4;F<T;F+=2){const z=A[F],q=A[F+1];k.set(ue.createBezierPoints(R,P,M,L,z,q),(F-2)*3),[R,P,M,L]=[M,L,z,q]}}}for(let A=0,T=a.length;A<T;A++)f.push({line:b(a[A].map(k=>k??NaN),p,g,y,w),points:b(c[A].map(k=>k??NaN),p,g,y,w)});const x=new this.prototype.constructor;return x.build(f,r,i,1,u,d,s),x}#l(e=this.#c){const t=this.#r+e/2*this.#i;return this.#a%180===0?[t/this.#s,t/this.#o]:[t/this.#o,t/this.#s]}#h(){const[e,t,r,i]=this.#e,[s,a]=this.#l(0);return[e+s,t+a,r-2*s,i-2*a]}#d(){const e=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:i}of this.#n){if(i.length<=12){for(let c=4,u=i.length;c<u;c+=6)ae.pointBoundingBox(i[c],i[c+1],e);continue}let s=i[4],a=i[5];for(let c=6,u=i.length;c<u;c+=6){const[d,f,p,g,y,w]=i.subarray(c,c+6);ae.bezierBoundingBox(s,a,d,f,p,g,y,w,e),s=y,a=w}}const[t,r]=this.#l();e[0]=sn(e[0]-t,0,1),e[1]=sn(e[1]-r,0,1),e[2]=sn(e[2]+t,0,1),e[3]=sn(e[3]+r,0,1),e[2]-=e[0],e[3]-=e[1]}get box(){return this.#e}updateProperty(e,t){return e==="stroke-width"?this.#f(t):null}#f(e){const[t,r]=this.#l();this.#c=e;const[i,s]=this.#l(),[a,c]=[i-t,s-r],u=this.#e;return u[0]-=a,u[1]-=c,u[2]+=2*a,u[3]+=2*c,u}updateParentDimensions([e,t],r){const[i,s]=this.#l();this.#s=e,this.#o=t,this.#i=r;const[a,c]=this.#l(),u=a-i,d=c-s,f=this.#e;return f[0]-=u,f[1]-=d,f[2]+=2*u,f[3]+=2*d,f}updateRotation(e){return this.#t=e,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map(ue.svgRound).join(" ")}get defaultProperties(){const[e,t]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ue.svgRound(e)} ${ue.svgRound(t)}`}}}get rotationTransform(){const[,,e,t]=this.#e;let r=0,i=0,s=0,a=0,c=0,u=0;switch(this.#t){case 90:i=t/e,s=-e/t,c=e;break;case 180:r=-1,a=-1,c=e,u=t;break;case 270:i=-t/e,s=e/t,u=t;break;default:return""}return`matrix(${r} ${i} ${s} ${a} ${ue.svgRound(c)} ${ue.svgRound(u)})`}getPathResizingSVGProperties([e,t,r,i]){const[s,a]=this.#l(),[c,u,d,f]=this.#e;if(Math.abs(d-s)<=ue.PRECISION||Math.abs(f-a)<=ue.PRECISION){const b=e+r/2-(c+d/2),x=t+i/2-(u+f/2);return{path:{"transform-origin":`${ue.svgRound(e)} ${ue.svgRound(t)}`,transform:`${this.rotationTransform} translate(${b} ${x})`}}}const p=(r-2*s)/(d-2*s),g=(i-2*a)/(f-2*a),y=d/r,w=f/i;return{path:{"transform-origin":`${ue.svgRound(c)} ${ue.svgRound(u)}`,transform:`${this.rotationTransform} scale(${y} ${w}) translate(${ue.svgRound(s)} ${ue.svgRound(a)}) scale(${p} ${g}) translate(${ue.svgRound(-s)} ${ue.svgRound(-a)})`}}}getPathResizedSVGProperties([e,t,r,i]){const[s,a]=this.#l(),c=this.#e,[u,d,f,p]=c;if(c[0]=e,c[1]=t,c[2]=r,c[3]=i,Math.abs(f-s)<=ue.PRECISION||Math.abs(p-a)<=ue.PRECISION){const x=e+r/2-(u+f/2),A=t+i/2-(d+p/2);for(const{line:T,points:k}of this.#n)ue._translate(T,x,A,T),ue._translate(k,x,A,k);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ue.svgRound(e)} ${ue.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const g=(r-2*s)/(f-2*s),y=(i-2*a)/(p-2*a),w=-g*(u+s)+e+s,b=-y*(d+a)+t+a;if(g!==1||y!==1||w!==0||b!==0)for(const{line:x,points:A}of this.#n)ue._rescale(x,w,b,g,y,x),ue._rescale(A,w,b,g,y,A);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ue.svgRound(e)} ${ue.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,t],r){const[i,s]=r,a=this.#e,c=e-a[0],u=t-a[1];if(this.#s===i&&this.#o===s)for(const{line:d,points:f}of this.#n)ue._translate(d,c,u,d),ue._translate(f,c,u,f);else{const d=this.#s/i,f=this.#o/s;this.#s=i,this.#o=s;for(const{line:p,points:g}of this.#n)ue._rescale(p,c,u,d,f,p),ue._rescale(g,c,u,d,f,g);a[2]*=d,a[3]*=f}return a[0]=e,a[1]=t,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${ue.svgRound(e)} ${ue.svgRound(t)}`}}}get defaultSVGProperties(){const e=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${ue.svgRound(e[0])} ${ue.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}class uf extends qk{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:we._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??=this["stroke-width"],t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new uf(this._viewParameters);return e.updateAll(this),e}}class F0 extends qe{static _type="ink";static _editorType=Me.INK;static _defaultDrawingOptions=null;constructor(e){super({...e,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,t){we.initialize(e,t),this._defaultDrawingOptions=new uf(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!0}static get typesMap(){return Re(this,"typesMap",new Map([[$e.INK_THICKNESS,"stroke-width"],[$e.INK_COLOR,"stroke"],[$e.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,t,r,i,s){return new YV(e,t,r,i,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,t,r,i,s,a){return eu.deserialize(e,t,r,i,s,a)}static async deserialize(e,t,r){let i=null;if(e instanceof I0){const{data:{inkLists:a,rect:c,rotation:u,id:d,color:f,opacity:p,borderStyle:{rawWidth:g},popupRef:y,richText:w,contentsObj:b,creationDate:x,modificationDate:A},parent:{page:{pageNumber:T}}}=e;i=e={annotationType:Me.INK,color:Array.from(f),thickness:g,opacity:p,paths:{points:a},boxes:null,pageIndex:T-1,rect:c.slice(0),rotation:u,annotationElementId:d,id:d,deleted:!1,popupRef:y,richText:w,comment:b?.str||null,creationDate:x,modificationDate:A}}const s=await super.deserialize(e,t,r);return s._initialData=i,e.comment&&s.setCommentData(e),s}get toolbarButtons(){return this._colorPicker||=new Nc(this),[["colorPicker",this._colorPicker]]}get colorType(){return $e.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:t,parent:r}=this;t.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(e,t.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:t,opacity:r}){this._drawingOptions=F0.getDefaultDrawingOptions({stroke:ae.makeHexColor(...e),"stroke-width":t,"stroke-opacity":r})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:t,points:r}=this.serializeDraw(e),{_drawingOptions:{stroke:i,"stroke-opacity":s,"stroke-width":a}}=this,c=Object.assign(super.serialize(e),{color:we._colorManager.convert(i),opacity:s,thickness:a,paths:{lines:t,points:r}});return this.addComment(c),e?(c.isCopy=!0,c):this.annotationElementId&&!this.#e(c)?null:(c.id=this.annotationElementId,c)}#e(e){const{color:t,thickness:r,opacity:i,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((a,c)=>a!==t[c])||e.thickness!==r||e.opacity!==i||e.pageIndex!==s}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:t,rect:r}=this.serializeDraw(!1);return e.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:t,popup:this.comment}),null}}class dy extends eu{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const Ud=8,Wl=3;class sa{static#e={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#t(e,t,r,i){return r-=e,i-=t,r===0?i>0?0:4:r===1?i+6:2-i}static#r=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(e,t,r,i,s,a,c){const u=this.#t(r,i,s,a);for(let d=0;d<8;d++){const f=(-d+u-c+16)%8,p=this.#r[2*f],g=this.#r[2*f+1];if(e[(r+p)*t+(i+g)]!==0)return f}return-1}static#s(e,t,r,i,s,a,c){const u=this.#t(r,i,s,a);for(let d=0;d<8;d++){const f=(d+u+c+16)%8,p=this.#r[2*f],g=this.#r[2*f+1];if(e[(r+p)*t+(i+g)]!==0)return f}return-1}static#o(e,t,r,i){const s=e.length,a=new Int32Array(s);for(let f=0;f<s;f++)a[f]=e[f]<=i?1:0;for(let f=1;f<r-1;f++)a[f*t]=a[f*t+t-1]=0;for(let f=0;f<t;f++)a[f]=a[t*r-1-f]=0;let c=1,u;const d=[];for(let f=1;f<r-1;f++){u=1;for(let p=1;p<t-1;p++){const g=f*t+p,y=a[g];if(y===0)continue;let w=f,b=p;if(y===1&&a[g-1]===0)c+=1,b-=1;else if(y>=1&&a[g+1]===0)c+=1,b+=1,y>1&&(u=y);else{y!==1&&(u=Math.abs(y));continue}const x=[p,f],A=b===p+1,T={isHole:A,points:x,id:c,parent:0};d.push(T);let k;for(const U of d)if(U.id===u){k=U;break}k?k.isHole?T.parent=A?k.parent:u:T.parent=A?u:k.parent:T.parent=A?u:0;const R=this.#n(a,t,f,p,w,b,0);if(R===-1){a[g]=-c,a[g]!==1&&(u=Math.abs(a[g]));continue}let P=this.#r[2*R],M=this.#r[2*R+1];const L=f+P,F=p+M;w=L,b=F;let z=f,q=p;for(;;){const U=this.#s(a,t,z,q,w,b,1);P=this.#r[2*U],M=this.#r[2*U+1];const be=z+P,xe=q+M;x.push(xe,be);const ve=z*t+q;if(a[ve+1]===0?a[ve]=-c:a[ve]===1&&(a[ve]=c),be===f&&xe===p&&z===L&&q===F){a[g]!==1&&(u=Math.abs(a[g]));break}else w=z,b=q,z=be,q=xe}}}return d}static#i(e,t,r,i){if(r-t<=4){for(let L=t;L<r-2;L+=2)i.push(e[L],e[L+1]);return}const s=e[t],a=e[t+1],c=e[r-4]-s,u=e[r-3]-a,d=Math.hypot(c,u),f=c/d,p=u/d,g=f*a-p*s,y=u/c,w=1/d,b=Math.atan(y),x=Math.cos(b),A=Math.sin(b),T=w*(Math.abs(x)+Math.abs(A)),k=w*(1-T+T**2),R=Math.max(Math.atan(Math.abs(A+x)*k),Math.atan(Math.abs(A-x)*k));let P=0,M=t;for(let L=t+2;L<r-2;L+=2){const F=Math.abs(g-f*e[L+1]+p*e[L]);F>P&&(M=L,P=F)}P>(d*R)**2?(this.#i(e,t,M+2,i),this.#i(e,M,r,i)):i.push(s,a)}static#a(e){const t=[],r=e.length;return this.#i(e,0,r,t),t.push(e[r-2],e[r-1]),t.length<=4?null:t}static#c(e,t,r,i,s,a){const c=new Float32Array(a**2),u=-2*i**2,d=a>>1;for(let b=0;b<a;b++){const x=(b-d)**2;for(let A=0;A<a;A++)c[b*a+A]=Math.exp((x+(A-d)**2)/u)}const f=new Float32Array(256),p=-2*s**2;for(let b=0;b<256;b++)f[b]=Math.exp(b**2/p);const g=e.length,y=new Uint8Array(g),w=new Uint32Array(256);for(let b=0;b<r;b++)for(let x=0;x<t;x++){const A=b*t+x,T=e[A];let k=0,R=0;for(let M=0;M<a;M++){const L=b+M-d;if(!(L<0||L>=r))for(let F=0;F<a;F++){const z=x+F-d;if(z<0||z>=t)continue;const q=e[L*t+z],U=c[M*a+F]*f[Math.abs(q-T)];k+=q*U,R+=U}}const P=y[A]=Math.round(k/R);w[P]++}return[y,w]}static#l(e){const t=new Uint32Array(256);for(const r of e)t[r]++;return t}static#h(e){const t=e.length,r=new Uint8ClampedArray(t>>2);let i=-1/0,s=1/0;for(let c=0,u=r.length;c<u;c++){const d=r[c]=e[c<<2];i=Math.max(i,d),s=Math.min(s,d)}const a=255/(i-s);for(let c=0,u=r.length;c<u;c++)r[c]=(r[c]-s)*a;return r}static#d(e){let t,r=-1/0,i=-1/0;const s=e.findIndex(u=>u!==0);let a=s,c=s;for(t=s;t<256;t++){const u=e[t];u>r&&(t-a>i&&(i=t-a,c=t-1),r=u,a=t)}for(t=c-1;t>=0&&!(e[t]>e[t+1]);t--);return t}static#f(e){const t=e,{width:r,height:i}=e,{maxDim:s}=this.#e;let a=r,c=i;if(r>s||i>s){let g=r,y=i,w=Math.log2(Math.max(r,i)/s);const b=Math.floor(w);w=w===b?b-1:b;for(let A=0;A<w;A++){a=Math.ceil(g/2),c=Math.ceil(y/2);const T=new OffscreenCanvas(a,c);T.getContext("2d").drawImage(e,0,0,g,y,0,0,a,c),g=a,y=c,e!==t&&e.close(),e=T.transferToImageBitmap()}const x=Math.min(s/a,s/c);a=Math.round(a*x),c=Math.round(c*x)}const d=new OffscreenCanvas(a,c).getContext("2d",{willReadFrequently:!0});d.fillStyle="white",d.fillRect(0,0,a,c),d.filter="grayscale(1)",d.drawImage(e,0,0,e.width,e.height,0,0,a,c);const f=d.getImageData(0,0,a,c).data;return[this.#h(f),a,c]}static extractContoursFromText(e,{fontFamily:t,fontStyle:r,fontWeight:i},s,a,c,u){let d=new OffscreenCanvas(1,1),f=d.getContext("2d",{alpha:!1});const p=200,g=f.font=`${r} ${i} ${p}px ${t}`,{actualBoundingBoxLeft:y,actualBoundingBoxRight:w,actualBoundingBoxAscent:b,actualBoundingBoxDescent:x,fontBoundingBoxAscent:A,fontBoundingBoxDescent:T,width:k}=f.measureText(e),R=1.5,P=Math.ceil(Math.max(Math.abs(y)+Math.abs(w)||0,k)*R),M=Math.ceil(Math.max(Math.abs(b)+Math.abs(x)||p,Math.abs(A)+Math.abs(T)||p)*R);d=new OffscreenCanvas(P,M),f=d.getContext("2d",{alpha:!0,willReadFrequently:!0}),f.font=g,f.filter="grayscale(1)",f.fillStyle="white",f.fillRect(0,0,P,M),f.fillStyle="black",f.fillText(e,P*(R-1)/2,M*(3-R)/2);const L=this.#h(f.getImageData(0,0,P,M).data),F=this.#l(L),z=this.#d(F),q=this.#o(L,P,M,z);return this.processDrawnLines({lines:{curves:q,width:P,height:M},pageWidth:s,pageHeight:a,rotation:c,innerMargin:u,mustSmooth:!0,areContours:!0})}static process(e,t,r,i,s){const[a,c,u]=this.#f(e),[d,f]=this.#c(a,c,u,Math.hypot(c,u)*this.#e.sigmaSFactor,this.#e.sigmaR,this.#e.kernelSize),p=this.#d(f),g=this.#o(d,c,u,p);return this.processDrawnLines({lines:{curves:g,width:c,height:u},pageWidth:t,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:a,areContours:c}){i%180!==0&&([t,r]=[r,t]);const{curves:u,width:d,height:f}=e,p=e.thickness??0,g=[],y=Math.min(t/d,r/f),w=y/t,b=y/r,x=[];for(const{points:T}of u){const k=a?this.#a(T):T;if(!k)continue;x.push(k);const R=k.length,P=new Float32Array(R),M=new Float32Array(3*(R===2?2:R-2));if(g.push({line:M,points:P}),R===2){P[0]=k[0]*w,P[1]=k[1]*b,M.set([NaN,NaN,NaN,NaN,P[0],P[1]],0);continue}let[L,F,z,q]=k;L*=w,F*=b,z*=w,q*=b,P.set([L,F,z,q],0),M.set([NaN,NaN,NaN,NaN,L,F],0);for(let U=4;U<R;U+=2){const be=P[U]=k[U]*w,xe=P[U+1]=k[U+1]*b;M.set(ue.createBezierPoints(L,F,z,q,be,xe),(U-2)*3),[L,F,z,q]=[z,q,be,xe]}}if(g.length===0)return null;const A=c?new dy:new eu;return A.build(g,t,r,1,i,c?0:p,s),{outline:A,newCurves:x,areContours:c,thickness:p,width:d,height:f}}static async compressSignature({outlines:e,areContours:t,thickness:r,width:i,height:s}){let a=1/0,c=-1/0,u=0;for(const k of e){u+=k.length;for(let R=2,P=k.length;R<P;R++){const M=k[R]-k[R-2];a=Math.min(a,M),c=Math.max(c,M)}}let d;a>=-128&&c<=127?d=Int8Array:a>=-32768&&c<=32767?d=Int16Array:d=Int32Array;const f=e.length,p=Ud+Wl*f,g=new Uint32Array(p);let y=0;g[y++]=p*Uint32Array.BYTES_PER_ELEMENT+(u-2*f)*d.BYTES_PER_ELEMENT,g[y++]=0,g[y++]=i,g[y++]=s,g[y++]=t?0:1,g[y++]=Math.max(0,Math.floor(r??0)),g[y++]=f,g[y++]=d.BYTES_PER_ELEMENT;for(const k of e)g[y++]=k.length-2,g[y++]=k[0],g[y++]=k[1];const w=new CompressionStream("deflate-raw"),b=w.writable.getWriter();await b.ready,b.write(g);const x=d.prototype.constructor;for(const k of e){const R=new x(k.length-2);for(let P=2,M=k.length;P<M;P++)R[P-2]=k[P]-k[P-2];b.write(R)}b.close();const A=await new Response(w.readable).arrayBuffer();return new Uint8Array(A).toBase64()}static async decompressSignature(e){try{const t=Uint8Array.fromBase64(e),{readable:r,writable:i}=new DecompressionStream("deflate-raw"),s=i.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let a=null,c=0;for await(const k of r)a||=new Uint8Array(new Uint32Array(k.buffer,0,4)[0]),a.set(k,c),c+=k.length;const u=new Uint32Array(a.buffer,0,a.length>>2),d=u[1];if(d!==0)throw new Error(`Invalid version: ${d}`);const f=u[2],p=u[3],g=u[4]===0,y=u[5],w=u[6],b=u[7],x=[],A=(Ud+Wl*w)*Uint32Array.BYTES_PER_ELEMENT;let T;switch(b){case Int8Array.BYTES_PER_ELEMENT:T=new Int8Array(a.buffer,A);break;case Int16Array.BYTES_PER_ELEMENT:T=new Int16Array(a.buffer,A);break;case Int32Array.BYTES_PER_ELEMENT:T=new Int32Array(a.buffer,A);break}c=0;for(let k=0;k<w;k++){const R=u[Wl*k+Ud],P=new Float32Array(R+2);x.push(P);for(let M=0;M<Wl-1;M++)P[M]=u[Wl*k+Ud+M+1];for(let M=0;M<R;M++)P[M+2]=P[M]+T[c++]}return{areContours:g,thickness:y,outlines:x,width:f,height:p}}catch(t){return Pe(`decompressSignature: ${t}`),null}}}class N0 extends qk{constructor(){super(),super.updateProperties({fill:we._defaultLineColor,"stroke-width":0})}clone(){const e=new N0;return e.updateAll(this),e}}class O0 extends uf{constructor(e){super(e),super.updateProperties({stroke:we._defaultLineColor,"stroke-width":1})}clone(){const e=new O0(this._viewParameters);return e.updateAll(this),e}}class ti extends qe{#e=!1;#t=null;#r=null;#n=null;static _type="signature";static _editorType=Me.SIGNATURE;static _defaultDrawingOptions=null;constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#r=e.signatureData||null,this.#t=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,t){we.initialize(e,t),this._defaultDrawingOptions=new N0,this._defaultDrawnSignatureOptions=new O0(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!1}static get typesMap(){return Re(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#t}}static computeTelemetryFinalData(e){const t=e.get("hasDescription");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,t;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,e=this.x,t=this.y),super.render(),this._drawId===null)if(this.#r){const{lines:i,mustSmooth:s,areContours:a,description:c,uuid:u,heightInPage:d}=this.#r,{rawDims:{pageWidth:f,pageHeight:p},rotation:g}=this.parent.viewport,y=sa.processDrawnLines({lines:i,pageWidth:f,pageHeight:p,rotation:g,innerMargin:ti._INNER_MARGIN,mustSmooth:s,areContours:a});this.addSignature(y,d,c,u)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#t||""}));return r&&(this._isCopy=!0,this._moveAfterPaste(e,t)),this.div}setUuid(e){this.#n=e,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#t}set description(e){this.#t=e,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(t=>{t?.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:t,thickness:r,width:i,height:s}=this.#r,a=Math.max(i,s),c=sa.processDrawnLines({lines:{curves:e.map(u=>({points:u})),thickness:r,width:i,height:s},pageWidth:a,pageHeight:a,rotation:0,innerMargin:0,mustSmooth:!1,areContours:t});return{areContours:t,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,t,r,i){const{x:s,y:a}=this,{outline:c}=this.#r=e;this.#e=c instanceof dy,this.description=r;let u;this.#e?u=ti.getDefaultDrawingOptions():(u=ti._defaultDrawnSignatureOptions.clone(),u.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:u});const[,d]=this.pageDimensions;let f=t/d;f=f>=1?.5:f,this.width*=f/this.height,this.width>=1&&(f*=.9/this.width,this.width=.9),this.height=f,this.setDims(),this.x=s,this.y=a,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:t,pageHeight:r},rotation:i}=this.parent.viewport;return sa.process(e,t,r,i,ti._INNER_MARGIN)}getFromText(e,t){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return sa.extractContoursFromText(e,t,r,i,s,ti._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:t,pageHeight:r},rotation:i}=this.parent.viewport;return sa.processDrawnLines({lines:e,pageWidth:t,pageHeight:r,rotation:i,innerMargin:ti._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:t}){e?this._drawingOptions=ti.getDefaultDrawingOptions():(this._drawingOptions=ti._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":t}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:t,points:r}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":i}}=this,s=Object.assign(super.serialize(e),{isSignature:!0,areContours:this.#e,color:[0,0,0],thickness:this.#e?0:i});return this.addComment(s),e?(s.paths={lines:t,points:r},s.uuid=this.#n,s.isCopy=!0):s.lines=t,this.#t&&(s.accessibilityData={type:"Figure",alt:this.#t}),s}static deserializeDraw(e,t,r,i,s,a){return a.areContours?dy.deserialize(e,t,r,i,s,a):eu.deserialize(e,t,r,i,s,a)}static async deserialize(e,t,r){const i=await super.deserialize(e,t,r);return i.#e=e.areContours,i.description=e.accessibilityData?.alt||"",i.#n=e.uuid,i}}class qV extends we{#e=null;#t=null;#r=null;#n=null;#s=null;#o="";#i=null;#a=!1;#c=null;#l=!1;#h=!1;static _type="stamp";static _editorType=Me.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#n=e.bitmapUrl,this.#s=e.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,t){we.initialize(e,t)}static isHandlingMimeForPasting(e){return ny.includes(e)}static paste(e,t){t.pasteEditor({mode:Me.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const t=e.get("hasAltText");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}#d(e,t=!1){if(!e){this.remove();return}this.#e=e.bitmap,t||(this.#t=e.id,this.#l=e.isSvg),e.file&&(this.#o=e.file.name),this.#m()}#f(){if(this.#r=null,this._uiManager.enableWaiting(!1),!!this.#i){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,t=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:s,height:a}=e||this.copyCanvas(null,null,!0).imageData,c=await r.guess({name:"altText",request:{data:i,width:s,height:a,channels:i.length/(s*a)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const u=c.output;return await this.setGuessedAltText(u),t&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}#g(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(r=>this.#d(r,!0)).finally(()=>this.#f());return}if(this.#n){const r=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#r=this._uiManager.imageManager.getFromUrl(r).then(i=>this.#d(i)).finally(()=>this.#f());return}if(this.#s){const r=this.#s;this.#s=null,this._uiManager.enableWaiting(!0),this.#r=this._uiManager.imageManager.getFromFile(r).then(i=>this.#d(i)).finally(()=>this.#f());return}const e=document.createElement("input");e.type="file",e.accept=ny.join(",");const t=this._uiManager._signal;this.#r=new Promise(r=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#d(i)}r()},{signal:t}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:t})}).finally(()=>this.#f()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#i?.remove(),this.#i=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#g();return}super.rebuild(),this.div!==null&&(this.#t&&this.#i===null&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(this.#r||this.#e||this.#n||this.#s||this.#t||this.#a)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;return this._isCopy&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#a||(this.#e?this.#m():this.#g()),this._isCopy&&this._moveAfterPaste(e,t),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,t){const{id:r,bitmap:i}=this._uiManager.imageManager.getFromCanvas(e,t);t.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(this.#t=r,i&&(this.#e=i),this.#a=!1,this.#m())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const e=200;this.#c=setTimeout(()=>{this.#c=null,this.#p()},e)}#m(){const{div:e}=this;let{width:t,height:r}=this.#e;const[i,s]=this.pageDimensions,a=.75;if(this.width)t=this.width*i,r=this.height*s;else if(t>a*i||r>a*s){const u=Math.min(a*i/t,a*s/r);t*=u,r*=u}this._uiManager.enableWaiting(!1);const c=this.#i=document.createElement("canvas");c.setAttribute("role","img"),this.addContainer(c),this.width=t/i,this.height=r/s,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#p(),this.#h||(this.parent.addUndoableEditor(this),this.#h=!0),this._reportTelemetry({action:"inserted_image"}),this.#o&&this.div.setAttribute("aria-description",this.#o),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(e,t,r=!1){e||(e=224);const{width:i,height:s}=this.#e,a=new hi;let c=this.#e,u=i,d=s,f=null;if(t){if(i>t||s>t){const M=Math.min(t/i,t/s);u=Math.floor(i*M),d=Math.floor(s*M)}f=document.createElement("canvas");const g=f.width=Math.ceil(u*a.sx),y=f.height=Math.ceil(d*a.sy);this.#l||(c=this.#u(g,y));const w=f.getContext("2d");w.filter=this._uiManager.hcmFilter;let b="white",x="#cfcfd8";this._uiManager.hcmFilter!=="none"?x="black":y4.isDarkMode&&(b="#8f8f9d",x="#42414d");const A=15,T=A*a.sx,k=A*a.sy,R=new OffscreenCanvas(T*2,k*2),P=R.getContext("2d");P.fillStyle=b,P.fillRect(0,0,T*2,k*2),P.fillStyle=x,P.fillRect(0,0,T,k),P.fillRect(T,k,T,k),w.fillStyle=w.createPattern(R,"repeat"),w.fillRect(0,0,g,y),w.drawImage(c,0,0,c.width,c.height,0,0,g,y)}let p=null;if(r){let g,y;if(a.symmetric&&c.width<e&&c.height<e)g=c.width,y=c.height;else if(c=this.#e,i>e||s>e){const x=Math.min(e/i,e/s);g=Math.floor(i*x),y=Math.floor(s*x),this.#l||(c=this.#u(g,y))}const b=new OffscreenCanvas(g,y).getContext("2d",{willReadFrequently:!0});b.drawImage(c,0,0,c.width,c.height,0,0,g,y),p={width:g,height:y,data:b.getImageData(0,0,g,y).data}}return{canvas:f,width:u,height:d,imageData:p}}#u(e,t){const{width:r,height:i}=this.#e;let s=r,a=i,c=this.#e;for(;s>2*e||a>2*t;){const u=s,d=a;s>2*e&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const f=new OffscreenCanvas(s,a);f.getContext("2d").drawImage(c,0,0,u,d,0,0,s,a),c=f.transferToImageBitmap()}return c}#p(){const[e,t]=this.parentDimensions,{width:r,height:i}=this,s=new hi,a=Math.ceil(r*e*s.sx),c=Math.ceil(i*t*s.sy),u=this.#i;if(!u||u.width===a&&u.height===c)return;u.width=a,u.height=c;const d=this.#l?this.#e:this.#u(a,c),f=u.getContext("2d");f.filter=this._uiManager.hcmFilter,f.drawImage(d,0,0,d.width,d.height,0,0,a,c)}#y(e){if(e){if(this.#l){const i=this._uiManager.imageManager.getSvgUrl(this.#t);if(i)return i}const t=document.createElement("canvas");return{width:t.width,height:t.height}=this.#e,t.getContext("2d").drawImage(this.#e,0,0),t.toDataURL()}if(this.#l){const[t,r]=this.pageDimensions,i=Math.round(this.width*t*Na.PDF_TO_CSS_UNITS),s=Math.round(this.height*r*Na.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(i,s);return a.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,i,s),a.transferToImageBitmap()}return structuredClone(this.#e)}static async deserialize(e,t,r){let i=null,s=!1;if(e instanceof Kk){const{data:{rect:b,rotation:x,id:A,structParent:T,popupRef:k,richText:R,contentsObj:P,creationDate:M,modificationDate:L},container:F,parent:{page:{pageNumber:z}},canvas:q}=e;let U,be;q?(delete e.canvas,{id:U,bitmap:be}=r.imageManager.getFromCanvas(F.id,q),q.remove()):(s=!0,e._hasNoCanvas=!0);const xe=(await t._structTree.getAriaAttributes(`${ga}${A}`))?.get("aria-label")||"";i=e={annotationType:Me.STAMP,bitmapId:U,bitmap:be,pageIndex:z-1,rect:b.slice(0),rotation:x,annotationElementId:A,id:A,deleted:!1,accessibilityData:{decorative:!1,altText:xe},isSvg:!1,structParent:T,popupRef:k,richText:R,comment:P?.str||null,creationDate:M,modificationDate:L}}const a=await super.deserialize(e,t,r),{rect:c,bitmap:u,bitmapUrl:d,bitmapId:f,isSvg:p,accessibilityData:g}=e;s?(r.addMissingCanvas(e.id,a),a.#a=!0):f&&r.imageManager.isValidId(f)?(a.#t=f,u&&(a.#e=u)):a.#n=d,a.#l=p;const[y,w]=a.pageDimensions;return a.width=(c[2]-c[0])/y,a.height=(c[3]-c[1])/w,g&&(a.altTextData=g),a._initialData=i,e.comment&&a.setCommentData(e),a.#h=!!i,a}serialize(e=!1,t=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Object.assign(super.serialize(e),{bitmapId:this.#t,isSvg:this.#l});if(this.addComment(r),e)return r.bitmapUrl=this.#y(!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:i,altText:s}=this.serializeAltText(!1);if(!i&&s&&(r.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const c=this.#b(r);return c.isSame?null:(c.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1,r.id=this.annotationElementId,delete r.bitmapId,r)}if(t===null)return r;t.stamps||=new Map;const a=this.#l?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!t.stamps.has(this.#t))t.stamps.set(this.#t,{area:a,serialized:r}),r.bitmap=this.#y(!1);else if(this.#l){const c=t.stamps.get(this.#t);a>c.area&&(c.area=a,c.serialized.bitmap.close(),c.serialized.bitmap=this.#y(!1))}return r}#b(e){const{pageIndex:t,accessibilityData:{altText:r}}=this._initialData,i=e.pageIndex===t,s=(e.accessibilityData?.alt||"")===r;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&i&&s,isSameAltText:s}}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class _i{#e;#t=!1;#r=null;#n=null;#s=null;#o=new Map;#i=!1;#a=!1;#c=!1;#l=null;#h=null;#d=null;#f=null;#g=null;#m=-1;#u;static _initialized=!1;static#p=new Map([Zt,F0,qV,It,ti].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:t,div:r,structTreeLayer:i,accessibilityManager:s,annotationLayer:a,drawLayer:c,textLayer:u,viewport:d,l10n:f}){const p=[..._i.#p.values()];if(!_i._initialized){_i._initialized=!0;for(const g of p)g.initialize(f,e)}e.registerEditorTypes(p),this.#u=e,this.pageIndex=t,this.div=r,this.#e=s,this.#r=a,this.viewport=d,this.#d=u,this.drawLayer=c,this._structTree=i,this.#u.addLayer(this)}updatePageIndex(e){this.pageIndex=e}get isEmpty(){return this.#o.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===Me.NONE}updateToolbar(e){this.#u.updateToolbar(e)}updateMode(e=this.#u.getMode()){switch(this.#S(),e){case Me.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Me.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Me.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===Me.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const r of _i.#p.values())t.toggle(`${r._type}Editing`,e===r._editorType)}this.div.hidden=!1}hasTextLayer(e){return e===this.#d?.div}setEditingState(e){this.#u.setEditingState(e)}addCommands(e){this.#u.addCommands(e)}cleanUndoStack(e){this.#u.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#r?.togglePointerEvents(e)}get#y(){return this.#o.size!==0?this.#o.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#g?.abort(),this.#g=null;const e=new Set;for(const r of this.#y)r.enableEditing(),r.show(!0),r.annotationElementId&&(this.#u.removeChangedExistingAnnotation(r),e.add(r.annotationElementId));const t=this.#r;if(t)for(const r of t.getEditableAnnotations()){if(r.hide(),this.#u.isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=await this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}this.#c=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#a=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#d&&!this.#g){this.#g=new AbortController;const i=this.#u.combinedSignal(this.#g);this.#d.div.addEventListener("pointerdown",s=>{const{clientX:c,clientY:u,timeStamp:d}=s,f=this.#m;if(d-f>500){this.#m=d;return}this.#m=-1;const{classList:p}=this.div;p.toggle("getElements",!0);const g=document.elementsFromPoint(c,u);if(p.toggle("getElements",!1),!this.div.contains(g[0]))return;let y;const w=new RegExp(`^${Dc}[0-9]+$`);for(const x of g)if(w.test(x.id)){y=x.id;break}if(!y)return;const b=this.#o.get(y);b?.annotationElementId===null&&(s.stopPropagation(),s.preventDefault(),b.dblclick(s))},{signal:i,capture:!0})}const e=this.#r,t=[];if(e){const i=new Map,s=new Map;for(const c of this.#y){if(c.disableEditing(),!c.annotationElementId){t.push(c);continue}if(c.serialize()!==null){i.set(c.annotationElementId,c);continue}else s.set(c.annotationElementId,c);this.getEditableAnnotation(c.annotationElementId)?.show(),c.remove()}const a=e.getEditableAnnotations();for(const c of a){const{id:u}=c.data;if(this.#u.isDeletedAnnotationElement(u)){c.updateEdited({deleted:!0});continue}let d=s.get(u);if(d){d.resetAnnotationElement(c),d.show(!1),c.show();continue}d=i.get(u),d&&(this.#u.addChangedExistingAnnotation(d),d.renderAnnotationElement(c)&&d.show(!1)),c.show()}}this.#S(),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const i of _i.#p.values())r.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e?.updateFakeAnnotations(t),this.#a=!1}getEditableAnnotation(e){return this.#r?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#u.getActive()!==e&&this.#u.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#d?.div&&!this.#f){this.#f=new AbortController;const e=this.#u.combinedSignal(this.#f);this.#d.div.addEventListener("pointerdown",this.#b.bind(this),{signal:e}),this.#d.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#d?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#d.div.classList.remove("highlighting"))}#b(e){this.#u.unselectAll();const{target:t}=e;if(t===this.#d.div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&this.#d.div.contains(t)){const{isMac:r}=Gt.platform;if(e.button!==0||e.ctrlKey&&r)return;this.#u.showAllEditors("highlight",!0,!0),this.#d.div.classList.add("free"),this.toggleDrawing(),It.startHighlighting(this,this.#u.direction==="ltr",{target:this.#d.div,x:e.x,y:e.y}),this.#d.div.addEventListener("pointerup",()=>{this.#d.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),e.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const e=this.#u.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){this.#n?.abort(),this.#n=null}attach(e){this.#o.set(e.id,e);const{annotationElementId:t}=e;t&&this.#u.isDeletedAnnotationElement(t)&&this.#u.removeDeletedAnnotationElement(e)}detach(e){this.#o.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#a&&e.annotationElementId&&this.#u.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#u.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#u.addDeletedAnnotationElement(e),we.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#u.addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#c),this.#u.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!this.#s&&(e._focusEventsAllowed=!1,this.#s=setTimeout(()=>{this.#s=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),t.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getEditorByUID(e){for(const t of this.#o.values())if(t.uid===e)return t;return null}getNextId(){return this.#u.getId()}get#v(){return _i.#p.get(this.#u.getMode())}combinedSignal(e){return this.#u.combinedSignal(e)}#k(e){const t=this.#v;return t?new t.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#v?.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await this.#u.updateMode(e.mode);const{offsetX:r,offsetY:i}=this.#A(),s=this.getNextId(),a=this.#k({parent:this,id:s,x:r,y:i,uiManager:this.#u,isCentered:!0,...t});a&&this.add(a)}async deserialize(e){return await _i.#p.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#u)||null}createAndAddNewEditor(e,t,r={}){const i=this.getNextId(),s=this.#k({parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:this.#u,isCentered:t,...r});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}#A(){const{x:e,y:t,width:r,height:i}=this.boundingClientRect,s=Math.max(0,e),a=Math.max(0,t),c=Math.min(window.innerWidth,e+r),u=Math.min(window.innerHeight,t+i),d=(s+c)/2-e,f=(a+u)/2-t,[p,g]=this.viewport.rotation%180===0?[d,f]:[f,d];return{offsetX:p,offsetY:g}}addNewEditor(e={}){this.createAndAddNewEditor(this.#A(),!0,e)}setSelected(e){this.#u.setSelected(e)}toggleSelected(e){this.#u.toggleSelected(e)}unselect(e){this.#u.unselect(e)}pointerup(e){const{isMac:t}=Gt.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!this.#i||(this.#i=!1,this.#v?.isDrawer&&this.#v.supportMultipleDrawings))return;if(!this.#t){this.#t=!0;return}const r=this.#u.getMode();if(r===Me.STAMP||r===Me.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){if(this.#u.getMode()===Me.HIGHLIGHT&&this.enableTextSelection(),this.#i){this.#i=!1;return}const{isMac:t}=Gt.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(this.#i=!0,this.#v?.isDrawer){this.startDrawingSession(e);return}const r=this.#u.getActive();this.#t=!r||r.isEmpty()}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),this.#l){this.#v.startDrawing(this,this.#u,!1,e);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const t=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(this.#h=null,this.commitOrRemove())},{signal:t}),this.#v.startDrawing(this,this.#u,!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&(this.#h=t);return}this.#h&&setTimeout(()=>{this.#h?.focus(),this.#h=null},0)}endDrawingSession(e=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#h=null,this.#v.endDrawing(e)):null}findNewParent(e,t,r){const i=this.#u.findParent(t,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#v.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#s&&(clearTimeout(this.#s),this.#s=null);for(const e of this.#o.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#o.clear(),this.#u.removeLayer(this)}#S(){for(const e of this.#o.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,co(this.div,e);for(const t of this.#u.getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){this.#u.commitOrRemove(),this.#S();const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,co(this.div,{rotation:r}),t!==r)for(const i of this.#o.values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return this.#u.viewParameters.realScale}}class nn{#e=null;#t=new Map;#r=new Map;static#n=0;setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#t.size>0)for(const t of this.#t.values())t.remove(),e.append(t);this.#e=e}}static get _svgFactory(){return Re(this,"_svgFactory",new Ih)}static#s(e,[t,r,i,s]){const{style:a}=e;a.top=`${100*r}%`,a.left=`${100*t}%`,a.width=`${100*i}%`,a.height=`${100*s}%`}#o(){const e=nn._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),e}#i(e,t){const r=nn._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${t}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=nn._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i}#a(e,t){for(const[r,i]of Object.entries(t))i===null?e.removeAttribute(r):e.setAttribute(r,i)}draw(e,t=!1,r=!1){const i=nn.#n++,s=this.#o(),a=nn._svgFactory.createElement("defs");s.append(a);const c=nn._svgFactory.createElement("path");a.append(c);const u=`path_${i}`;c.setAttribute("id",u),c.setAttribute("vector-effect","non-scaling-stroke"),t&&this.#r.set(i,c);const d=r?this.#i(a,u):null,f=nn._svgFactory.createElement("use");return s.append(f),f.setAttribute("href",`#${u}`),this.updateProperties(s,e),this.#t.set(i,s),{id:i,clipPathId:`url(#${d})`}}drawOutline(e,t){const r=nn.#n++,i=this.#o(),s=nn._svgFactory.createElement("defs");i.append(s);const a=nn._svgFactory.createElement("path");s.append(a);const c=`path_${r}`;a.setAttribute("id",c),a.setAttribute("vector-effect","non-scaling-stroke");let u;if(t){const p=nn._svgFactory.createElement("mask");s.append(p),u=`mask_${r}`,p.setAttribute("id",u),p.setAttribute("maskUnits","objectBoundingBox");const g=nn._svgFactory.createElement("rect");p.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const y=nn._svgFactory.createElement("use");p.append(y),y.setAttribute("href",`#${c}`),y.setAttribute("stroke","none"),y.setAttribute("fill","black"),y.setAttribute("fill-rule","nonzero"),y.classList.add("mask")}const d=nn._svgFactory.createElement("use");i.append(d),d.setAttribute("href",`#${c}`),u&&d.setAttribute("mask",`url(#${u})`);const f=d.cloneNode();return i.append(f),d.classList.add("mainOutline"),f.classList.add("secondaryOutline"),this.updateProperties(i,e),this.#t.set(r,i),r}finalizeDraw(e,t){this.#r.delete(e),this.updateProperties(e,t)}updateProperties(e,t){if(!t)return;const{root:r,bbox:i,rootClass:s,path:a}=t,c=typeof e=="number"?this.#t.get(e):e;if(c){if(r&&this.#a(c,r),i&&nn.#s(c,i),s){const{classList:u}=c;for(const[d,f]of Object.entries(s))u.toggle(d,f)}if(a){const d=c.firstElementChild.firstElementChild;this.#a(d,a)}}}updateParent(e,t){if(t===this)return;const r=this.#t.get(e);r&&(t.#e.append(r),this.#t.delete(e),t.#t.set(e,r))}remove(e){this.#r.delete(e),this.#e!==null&&(this.#t.get(e).remove(),this.#t.delete(e))}destroy(){this.#e=null;for(const e of this.#t.values())e.remove();this.#t.clear(),this.#r.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:cy};globalThis.pdfjsLib={AbortException:xs,AnnotationEditorLayer:_i,AnnotationEditorParamsType:$e,AnnotationEditorType:Me,AnnotationEditorUIManager:As,AnnotationLayer:L0,AnnotationMode:gs,AnnotationType:Ot,applyOpacity:b4,build:TV,ColorPicker:pr,createValidAbsoluteUrl:gk,CSSConstants:v4,DOMSVGFactory:Ih,DrawLayer:nn,FeatureTest:Gt,fetchData:qc,findContrastColor:w4,getDocument:$k,getFilenameFromUrl:h4,getPdfFilenameFromUrl:f4,getRGB:Zc,getUuid:vk,getXfaPageViewport:m4,GlobalWorkerOptions:_a,ImageKind:fh,InvalidPDFException:ey,isDataScheme:nf,isPdfFile:C0,isValidExplicitDest:M4,MathClamp:sn,noContextMenu:br,normalizeUnicode:u4,OPS:Ic,OutputScale:hi,PagesMapper:Qe,PasswordResponses:e4,PDFDataRangeTransport:zk,PDFDateString:ty,PDFWorker:Fc,PermissionFlag:J5,PixelsPerInch:Na,RenderingCancelledException:A0,renderRichText:wk,ResponseException:Mh,setLayerDimensions:co,shadow:Re,SignatureExtractor:sa,stopEvent:Mt,SupportedImageMimeTypes:ny,TextLayer:Gn,TouchManager:rf,updateUrlHash:yk,Util:ae,VerbosityLevel:Zh,version:kV,XfaLayer:bk};const QV="/user-research/assets/pdf.worker-BA9kU3Pw.mjs";_a.workerSrc=QV;async function Qk(n){try{const e=await n.arrayBuffer(),r=await $k(e).promise,i=r.numPages,s=[];for(let c=1;c<=i;c++){const f=(await(await r.getPage(c)).getTextContent()).items.map(p=>p.str??"").join(" ");s.push(f)}return{text:s.join(`

`).replace(/\s+/g," ").trim()||""}}catch(e){return{text:"",error:e instanceof Error?e.message:"Failed to read PDF"}}}const ea=800,Fr={async deriveThemeFromPdf(n){await ta(ea);const e=n.slice(0,500).replace(/\s+/g," ").trim(),t=e.split(/[.!?]/)[0]??e.slice(0,80);return{title:t.length>60?t.slice(0,57)+"":t,description:e.length>300?e.slice(0,297)+"":e,focusAreas:["goals","pain points","current process"]}},async getNextMessage(n,e){await ta(ea);const t=e.filter(i=>i.role==="user"),r=e.filter(i=>i.role==="agent");if(t.length===0){const i=n.sourcePdfText?" Ill use the research brief you provided to guide my questions.":"";return`I'm here to understand your needs around **${n.title}**. ${n.description}${i}

To start, how would you describe your main goal or challenge in this area?`}if(t.length===1)return"Can you tell me more about a specific situation where that comes up? What would an ideal outcome look like for you?";if(t.length===2)return"Whats the biggest friction or frustration you run into today when trying to achieve that?";if(t.length>=3&&t.length<5){const i=n.focusAreas?.length?n.focusAreas:["pain points","goals","current workflow"];return`To wrap up, is there anything else about **${i[r.length%i.length]}** that we havent covered yet that matters to you?`}return"Thanks  I have enough to summarize your needs. You can review and edit the structured needs below, or add more to the conversation if youd like."},async generateNeeds(n,e){await ta(ea);const t=e.filter(s=>s.role==="user").map(s=>s.content).join(`
`);if(!t.trim())return[];const r=Date.now();return[{id:`need-${r}-1`,title:"Clear visibility of status",description:"User wants to see where things stand at a glance without digging through multiple places.",category:"transparency",priority:"high",evidence:t.slice(0,80)+(t.length>80?"":""),createdAt:r},{id:`need-${r}-2`,title:"Reduced friction in key workflow",description:"User wants fewer steps and less cognitive load when doing the main task.",category:"efficiency",priority:"medium",evidence:void 0,createdAt:r},{id:`need-${r}-3`,title:"Alignment with real-world context",description:"Solution should fit how they actually work, not assume an ideal process.",category:"fit",priority:"high",evidence:void 0,createdAt:r}]},async synthesizeInsight(n,e){await ta(ea);const t=e.filter(s=>s.needs.length>0||s.messages.some(a=>a.role==="user")),r=Date.now();return{id:`insight-${r}`,title:`${n.title}  consolidated insight`,summary:`Across ${t.length} participant(s), users consistently need clearer visibility of status and outcomes, fewer steps in key workflows, and solutions that fit their real-world context. Pain points center on uncertainty about what happens next and extra effort to complete the main task.`,keyNeeds:[{title:"Clear visibility of status and outcomes",description:"Users want to see where things stand at a glance and what happens next, without digging through multiple places or waiting for confirmation.",category:"transparency",priority:"high",participantCount:t.length},{title:"Reduced friction in the main workflow",description:"Fewer steps and less cognitive load when completing the core task; less back-and-forth and fewer dead ends.",category:"efficiency",priority:"high",participantCount:t.length},{title:"Fit with how people actually work",description:"The service should support real-world contexts (e.g. interruptions, partial completion, different devices) rather than assuming an ideal linear flow.",category:"fit",priority:"medium",participantCount:Math.max(1,t.length-1)}],patterns:["Uncertainty about next steps and timelines","Desire for one place to see status and actions","Frustration with repetitive or redundant steps"],recommendations:["Provide a single, clear status view (e.g. dashboard or checklist) with next actions.","Minimize required steps; pre-fill and remember context where possible.","Support saving progress and resuming; avoid long, unbreakable flows."],createdAt:r}},async synthesizeInsightFromStudies(n){await ta(ea);const e=n.flatMap(i=>i.participants.filter(s=>s.needs.length>0||s.messages.some(a=>a.role==="user")));if(e.length===0){const i=Date.now();return{id:`insight-${i}`,title:"Aggregated insight (no participant data yet)",summary:"Add participants and collect responses across studies, then synthesize again.",keyNeeds:[],createdAt:i}}const t=n[0]?.theme,r=t?{...t,id:`aggregate-${Date.now()}`,title:t.title+" (aggregated across sessions)",description:`Insight aggregated from ${n.length} session(s) and ${e.length} participant(s).`,createdAt:Date.now()}:{id:`aggregate-${Date.now()}`,title:"Aggregated research",description:`Data from ${n.length} session(s), ${e.length} participant(s).`,createdAt:Date.now()};return Fr.synthesizeInsight(r,e)},async analyzeStudySummaries(n){await ta(ea);const t=n.map((a,c)=>`--- Document ${c+1} ---
${a.slice(0,3e3)}`).join(`

`).slice(0,800).replace(/\s+/g," ").trim();return{synthesis:`Synthesis based on ${n.length} study summary document(s)
================================================================

Overview
--------
The study summaries describe user needs, pain points and desired outcomes. Users need a digital service that provides clear visibility of status and next steps, reduces friction in the main workflow, and fits real-world use (saving/resuming, multiple devices, partial completion).

Key themes from the documents
-----------------------------
 Visibility: Users want one place to see where they are, what has been done, and what to do next.
 Friction: Too many steps, repeated data entry and unclear progress cause drop-off and frustration.
 Context: The service should remember context, pre-fill where possible and support interrupted or non-linear use.
 Trust: Clear confirmation, timelines and expectations (e.g. Youll hear back within X days) build confidence.

Document excerpt (for context)
--------------------------------
"${t.slice(0,400)}${t.length>400?"":""}"

Recommended direction for the digital service: a status-led experience with minimal steps, clear calls to action, and support for saving and resuming. The sections below list main findings and possible resolutions.`,findings:[{finding:"Users cannot see the current status of their case or request at a glance; they have to hunt across multiple channels or pages.",resolutions:["Provide a single status view (e.g. dashboard or summary card) showing current stage, last update and next action.","Use clear status labels (e.g. Badge/Tag: In progress, Waiting on you, Done) and optional timeline.","Send status updates by email or notification with a direct link back to the status view."]},{finding:"The main task requires too many steps or repeated data entry, leading to abandonment or errors.",resolutions:["Reduce the number of steps; combine or skip steps where the system already has the data.","Pre-fill from previous submissions or account data; allow same as before where relevant.","Use progressive disclosure: show only the next 12 steps and keep the rest for later."]},{finding:"Users cannot save progress and resume later; they fear losing work or must complete in one sitting.",resolutions:["Support saving drafts and resuming by email link or account; persist form state.","Show a clear Save and continue later action and confirm that progress is saved.","Allow re-entry from the status view (Continue where you left off) instead of starting over."]},{finding:"Unclear what happens after submission (e.g. no confirmation, timeline or next steps).",resolutions:["Show an immediate confirmation with a reference number and summary of what was submitted.","Set expectations: e.g. Well respond within 5 working days or Next step: well contact you.","Include a link to the status view and optional email confirmation."]},{finding:"Information and actions are spread across multiple places; users dont know where to go.",resolutions:["Centralise key actions (e.g. What do you want to do?) and status on one landing or dashboard.","Use simple navigation (tabs or links) so the main journey is obvious; avoid deep hierarchies.","Provide a short How this works or checklist so users see the full path."]},{finding:"Forms and language are complex or assume prior knowledge; some users are unsure what to enter.",resolutions:["Use plain language for labels, hints and errors; avoid jargon and acronyms.","Add short help text or examples for non-obvious fields; consider optional Whats this?.","Validate in real time and explain whats wrong and how to fix it."]},{finding:"The experience doesnt work well on mobile or when switching devices.",resolutions:["Design for small screens first: large tap targets, single column, minimal horizontal scroll.","Ensure the same journey works on desktop and mobile; use responsive layout from the design system.","Use links that work across devices (e.g. Continue on this device via email link)."]}],designSystemPrompt:`Create a digital service using the Chakra Design System (from /gds/chakra-app/src/design-system) with the following requirements derived from user study summaries:

1. **Layout & navigation**
   - Use Container, Stack (VStack/HStack), and Box from the design system.
   - Provide a clear main heading and optional sub-navigation (Tabs or links).

2. **Content and status**
   - Use Heading, Text, and Card to show status and key information at a glance.
   - Use Badge or Tag for status labels (e.g. "In progress", "Done").

3. **Actions and forms**
   - Use Button for primary and secondary actions (colorScheme="teal" for primary).
   - Use Input, Textarea, and Field/FormControl for any forms; keep required steps to a minimum.

4. **Feedback**
   - Use Alert for success or error messages; use Spinner or Skeleton for loading states.

5. **Theme**
   - Wrap the app in ChakraProvider with the design-system theme; use semantic tokens (e.g. figma.fg, figma.bgSubtle) for colours.

Context from study summaries: Users need visibility of status, fewer steps, and support for partial completion. Design the service so the main task is achievable in as few steps as possible with a clear status view.`}}};function ta(n){return new Promise(e=>setTimeout(e,n))}function ZV({onSubmit:n}){const[e,t]=E.useState("manual"),[r,i]=E.useState(""),[s,a]=E.useState(""),[c,u]=E.useState(""),[d,f]=E.useState(""),[p,g]=E.useState(null),[y,w]=E.useState("idle"),[b,x]=E.useState(null),[A,T]=E.useState(null),k=F=>{F.preventDefault();const z=c.split(/[,\n]/).map(q=>q.trim()).filter(Boolean);n({id:`theme-${Date.now()}`,title:r.trim(),description:s.trim(),focusAreas:z.length>0?z:void 0,existingWebService:d.trim()||void 0,sourcePdfText:A??void 0,sourcePdfFileName:p?.name,createdAt:Date.now()})},R=F=>{i(F.title),a(F.description),u(F.focusAreas?.join(", ")??"")},P=async F=>{const z=F.target.files?.[0];if(F.target.value="",!z)return;if(z.type!=="application/pdf"){x("Please select a PDF file."),w("error");return}g(z),x(null),w("parsing");const q=await Qk(z);if(q.error){x(q.error),w("error");return}if(!q.text.trim()){x("No text could be extracted from this PDF (e.g. scanned image)."),w("error");return}T(q.text),w("deriving");try{const U=await Fr.deriveThemeFromPdf(q.text);R(U),w("ready")}catch{x("Could not derive theme from PDF."),w("error")}},M=()=>{g(null),T(null),w("idle"),x(null),i(""),a(""),u("")},L=r.trim()&&s.trim()&&(e==="manual"||e==="pdf"&&y==="ready");return C.jsx(Jt,{maxW:"640px",py:8,children:C.jsxs(Ge,{align:"stretch",spacing:6,children:[C.jsxs(Ne,{children:[C.jsx(Be,{size:"lg",mb:2,children:"Define the research theme"}),C.jsx(Se,{color:"figma.fg_muted",fontSize:"sm",children:"Set the theme for the agent so it can ask the right questions. You can fill in the fields manually or upload a PDF and have the theme derived from it."})]}),C.jsxs(w0,{index:e==="manual"?0:1,onChange:F=>t(F===0?"manual":"pdf"),variant:"enclosed",children:[C.jsxs(S0,{borderColor:"figma.borderDefault",children:[C.jsx(Zs,{children:"Define manually"}),C.jsx(Zs,{children:"Upload PDF"})]}),C.jsxs(x0,{children:[C.jsx(Js,{px:0,pt:4,children:C.jsx(vt,{as:"form",onSubmit:k,cardVariant:"outline",p:6,children:C.jsxs(Ge,{align:"stretch",spacing:4,children:[C.jsx(Or,{label:"Theme title",placeholder:"e.g. Booking a visit to a government office",value:r,onChange:F=>i(F.target.value),isRequired:!0}),C.jsx(Fi,{label:"Description",placeholder:"Describe the area or service you want to research. The agent will use this to guide its questions.",value:s,onChange:F=>a(F.target.value),rows:4,isRequired:!0}),C.jsx(Fi,{label:"Focus areas (optional)",placeholder:"One per line or comma-separated, e.g. pain points, goals, current workflow",value:c,onChange:F=>u(F.target.value),rows:2}),C.jsx(Or,{label:"Existing web service (optional)",placeholder:"e.g. Service name or URL the survey applies to",value:d,onChange:F=>f(F.target.value)}),C.jsx(ze,{justify:"flex-end",pt:2,children:C.jsx(st,{type:"submit",colorScheme:"teal",label:"Start research session",isDisabled:!r.trim()||!s.trim()})})]})})}),C.jsx(Js,{px:0,pt:4,children:C.jsxs(Ge,{align:"stretch",spacing:4,children:[C.jsx(vt,{cardVariant:"outline",p:6,children:C.jsxs(Ge,{align:"stretch",spacing:4,children:[C.jsx(Se,{fontSize:"sm",color:"figma.fg_muted",children:"Upload a PDF (e.g. research brief, scope document). The agent will derive the research theme and use the document to determine which questions to ask."}),C.jsxs(Ne,{children:[C.jsx(Or,{type:"file",accept:".pdf,application/pdf",onChange:P,sx:{"input[type=file]":{padding:2,cursor:"pointer"}}}),y==="parsing"&&C.jsxs(ze,{mt:2,gap:2,children:[C.jsx(Fa,{size:"sm",color:"teal.500"}),C.jsx(Se,{fontSize:"sm",color:"figma.fg_muted",children:"Reading PDF"})]}),y==="deriving"&&C.jsxs(ze,{mt:2,gap:2,children:[C.jsx(Fa,{size:"sm",color:"teal.500"}),C.jsx(Se,{fontSize:"sm",color:"figma.fg_muted",children:"Deriving theme from document"})]}),y==="error"&&b&&C.jsx(Se,{fontSize:"sm",color:"red.500",mt:2,children:b}),p&&y==="ready"&&C.jsxs(ze,{mt:2,justify:"space-between",align:"center",children:[C.jsx(Se,{fontSize:"sm",color:"figma.fg_muted",children:p.name}),C.jsx(st,{size:"xs",variant:"ghost",colorScheme:"gray",onClick:M,children:"Remove"})]})]})]})}),y==="ready"&&C.jsxs(vt,{as:"form",onSubmit:k,cardVariant:"outline",p:6,children:[C.jsx(Be,{size:"sm",mb:3,children:"Extracted theme (edit if needed)"}),C.jsxs(Ge,{align:"stretch",spacing:4,children:[C.jsx(Or,{label:"Theme title",value:r,onChange:F=>i(F.target.value),isRequired:!0}),C.jsx(Fi,{label:"Description",value:s,onChange:F=>a(F.target.value),rows:4,isRequired:!0}),C.jsx(Fi,{label:"Focus areas (optional)",value:c,onChange:F=>u(F.target.value),rows:2}),C.jsx(Or,{label:"Existing web service (optional)",value:d,onChange:F=>f(F.target.value)}),C.jsx(ze,{justify:"flex-end",pt:2,children:C.jsx(st,{type:"submit",colorScheme:"teal",label:"Start research session",isDisabled:!L})})]})]})]})})]})]})]})})}const sg=typeof window<"u"?window.SpeechRecognition??window.webkitSpeechRecognition:void 0;function JV(n={}){const{onResult:e,onEnd:t,onError:r}=n,[i,s]=E.useState(!1),[a,c]=E.useState(null),u=E.useRef(null),d=typeof window<"u"&&!!sg,f=E.useCallback(()=>{const y=u.current;if(y){try{y.stop()}catch{}u.current=null}s(!1),c(null),t?.()},[t]),p=E.useCallback(()=>{if(!sg||!d){c("Speech recognition is not supported in this browser.");return}if(u.current){f();return}const y=new sg;y.continuous=!0,y.interimResults=!0,y.lang=navigator.language||"en-US",y.onresult=w=>{const b=[];for(let A=w.resultIndex;A<w.results.length;A++){const T=w.results[A];T.isFinal&&T[0]?.transcript&&b.push(T[0].transcript.trim())}const x=b.filter(Boolean).join(" ");x&&e?.(x)},y.onend=()=>{u.current=null,s(!1),t?.()},y.onerror=w=>{const b=w.error==="not-allowed"?"Microphone access was denied.":w.error==="no-speech"?"No speech detected. Try again.":`Speech recognition error: ${w.error}`;c(b),u.current=null,s(!1),r?.(b),t?.()};try{y.start(),u.current=y,s(!0),c(null)}catch{c("Could not start microphone."),r?.("Could not start microphone.")}},[d,e,t,r,f]),g=E.useCallback(()=>{u.current?f():p()},[p,f]);return{isSupported:d,isListening:i,error:a,start:p,stop:f,toggle:g}}function Zk({theme:n,messages:e,isAgentThinking:t,onSendMessage:r,onGenerateNeeds:i}){const[s,a]=Oc.useState(""),c=E.useRef(null),{isSupported:u,isListening:d,error:f,toggle:p}=JV({onResult:b=>{a(x=>x?`${x} ${b}`:b)}});E.useEffect(()=>{c.current?.scrollIntoView({behavior:"smooth"})},[e,t]);const g=b=>{b.preventDefault();const x=s.trim();!x||t||(r(x),a(""))},w=e.filter(b=>b.role==="user").length>=2&&!t;return C.jsx(Jt,{maxW:"720px",py:6,display:"flex",flexDirection:"column",height:"100%",children:C.jsxs(Ge,{align:"stretch",spacing:4,flex:1,minH:0,children:[C.jsxs(ze,{justify:"space-between",align:"center",flexShrink:0,children:[C.jsxs(Ne,{children:[C.jsx(Be,{size:"md",children:n.title}),C.jsx(Se,{fontSize:"sm",color:"figma.fg_muted",mt:1,children:n.description})]}),n.focusAreas?.length?C.jsx(ze,{gap:2,flexWrap:"wrap",children:n.focusAreas.map(b=>C.jsx(jn,{colorScheme:"teal",variant:"subtle",fontSize:"xs",children:b},b))}):null]}),C.jsx(Ne,{flex:1,overflowY:"auto",borderRadius:"lg",borderWidth:"1px",borderColor:"figma.borderDefault",bg:"figma.bgSubtle",p:4,children:C.jsxs(Ge,{align:"stretch",spacing:4,pb:2,children:[e.map(b=>C.jsx(Ne,{alignSelf:b.role==="user"?"flex-end":"flex-start",maxW:"85%",children:C.jsxs(vt,{cardVariant:b.role==="user"?"subtle":"outline",p:3,bg:b.role==="user"?"teal.50":"figma.default",borderColor:b.role==="user"?"teal.200":void 0,children:[C.jsx(Se,{fontSize:"xs",color:"figma.fg_muted",mb:1,children:b.role==="agent"?"Agent":"You"}),C.jsx(Se,{fontSize:"sm",whiteSpace:"pre-wrap",children:b.content})]})},b.id)),t&&C.jsxs(ze,{align:"flex-start",spacing:2,p:3,children:[C.jsx(Fa,{size:"sm",color:"teal.500"}),C.jsx(Se,{fontSize:"sm",color:"figma.fg_muted",children:"Agent is thinking"})]}),C.jsx("div",{ref:c})]})}),C.jsx(Ne,{flexShrink:0,as:"form",onSubmit:g,children:C.jsxs(Ge,{align:"stretch",spacing:2,children:[f&&C.jsx(Se,{fontSize:"xs",color:"red.500",role:"alert",children:f}),C.jsxs(ze,{as:"div",gap:2,align:"flex-end",children:[C.jsx(Fi,{placeholder:"Type your response or use the mic to speak",value:s,onChange:b=>a(b.target.value),onKeyDown:b=>{b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),g(b))},rows:2,resize:"none",flex:1,isDisabled:t}),u&&C.jsx(st,{type:"button","aria-label":d?"Stop speaking":"Speak your response",colorScheme:d?"red":"gray",variant:d?"solid":"outline",label:d?"Stop":"Speak",onClick:p,isDisabled:t}),C.jsx(st,{type:"submit",colorScheme:"teal",label:"Send",isDisabled:!s.trim()||t})]}),d&&C.jsx(Se,{fontSize:"xs",color:"figma.fg_muted",children:"Listening Speak your answer, then tap Stop or Send when done."}),w&&C.jsx(st,{size:"sm",variant:"outline",colorScheme:"teal",label:"Generate structured needs from conversation",onClick:i})]})})]})})}const eU={high:"red",medium:"orange",low:"gray"};function tU({needs:n,onBackToChat:e,onNewSession:t}){return n.length===0?C.jsx(Jt,{maxW:"720px",py:8,children:C.jsxs(vt,{cardVariant:"subtle",p:6,children:[C.jsx(Se,{color:"figma.fg_muted",children:"No structured needs yet. Continue the conversation and use Generate structured needs to create them from the dialogue."}),e&&C.jsx(st,{mt:4,colorScheme:"teal",variant:"outline",label:"Back to conversation",onClick:e})]})}):C.jsx(Jt,{maxW:"720px",py:6,children:C.jsxs(Ge,{align:"stretch",spacing:6,children:[C.jsxs(ze,{justify:"space-between",align:"center",flexWrap:"wrap",gap:2,children:[C.jsx(Be,{size:"lg",children:"Structured user needs"}),C.jsxs(ze,{gap:2,children:[e&&C.jsx(st,{size:"sm",variant:"outline",colorScheme:"teal",label:"Back to conversation",onClick:e}),t&&C.jsx(st,{size:"sm",colorScheme:"teal",label:"New research session",onClick:t})]})]}),C.jsx(Se,{color:"figma.fg_muted",fontSize:"sm",children:"Use these needs to inform service prototypes and test with users."}),C.jsx(Ge,{align:"stretch",spacing:4,children:n.map(r=>C.jsx(vt,{cardVariant:"outline",p:5,children:C.jsxs(Ge,{align:"stretch",spacing:2,children:[C.jsxs(ze,{justify:"space-between",align:"flex-start",gap:2,flexWrap:"wrap",children:[C.jsx(Be,{as:"h3",size:"sm",fontWeight:"600",children:r.title}),C.jsxs(ze,{gap:2,children:[r.priority&&C.jsx(jn,{colorScheme:eU[r.priority],variant:"subtle",fontSize:"xs",children:r.priority}),r.category&&C.jsx(jn,{colorScheme:"teal",variant:"outline",fontSize:"xs",children:r.category})]})]}),C.jsx(Se,{fontSize:"sm",color:"figma.fg",lineHeight:"tall",children:r.description}),r.evidence&&C.jsxs(C.Fragment,{children:[C.jsx(ak,{}),C.jsxs(Se,{fontSize:"xs",color:"figma.fg_muted",fontStyle:"italic",children:["",r.evidence,""]})]})]})},r.id))})]})})}const nU={high:"red",medium:"orange",low:"gray"};function rU({insight:n,onBackToParticipants:e,onNewStudy:t}){return C.jsx(Jt,{maxW:"720px",py:6,children:C.jsxs(Ge,{align:"stretch",spacing:6,children:[C.jsxs(ze,{justify:"space-between",align:"flex-start",flexWrap:"wrap",gap:2,children:[C.jsx(Be,{size:"lg",children:n.title}),C.jsxs(ze,{gap:2,children:[e&&C.jsx(st,{size:"sm",variant:"outline",colorScheme:"teal",label:"Back to participants",onClick:e}),t&&C.jsx(st,{size:"sm",colorScheme:"teal",label:"New research study",onClick:t})]})]}),C.jsx(Se,{color:"figma.fg_muted",fontSize:"sm",children:"Use this consolidated insight as the basis for your service prototype."}),C.jsxs(vt,{cardVariant:"outline",p:5,children:[C.jsx(Be,{as:"h2",size:"sm",mb:3,color:"figma.fg",children:"Summary"}),C.jsx(Se,{fontSize:"sm",color:"figma.fg",lineHeight:"tall",whiteSpace:"pre-wrap",children:n.summary})]}),C.jsxs(Ne,{children:[C.jsx(Be,{as:"h2",size:"sm",mb:3,color:"figma.fg",children:"Key needs (synthesized)"}),C.jsx(Ge,{align:"stretch",spacing:3,children:n.keyNeeds.map((r,i)=>C.jsx(vt,{cardVariant:"outline",p:4,children:C.jsxs(Ge,{align:"stretch",spacing:2,children:[C.jsxs(ze,{justify:"space-between",align:"flex-start",gap:2,flexWrap:"wrap",children:[C.jsx(Be,{as:"h3",size:"xs",fontWeight:"600",children:r.title}),C.jsxs(ze,{gap:2,children:[r.priority&&C.jsx(jn,{colorScheme:nU[r.priority],variant:"subtle",fontSize:"xs",children:r.priority}),r.category&&C.jsx(jn,{colorScheme:"teal",variant:"outline",fontSize:"xs",children:r.category}),r.participantCount!=null&&C.jsxs(jn,{variant:"subtle",fontSize:"xs",colorScheme:"gray",children:[r.participantCount," participant",r.participantCount!==1?"s":""]})]})]}),C.jsx(Se,{fontSize:"sm",color:"figma.fg",lineHeight:"tall",children:r.description})]})},i))})]}),n.patterns&&n.patterns.length>0&&C.jsxs(vt,{cardVariant:"subtle",p:5,children:[C.jsx(Be,{as:"h2",size:"sm",mb:3,color:"figma.fg",children:"Patterns across responses"}),C.jsx(Ge,{as:"ul",align:"stretch",spacing:2,listStyleType:"disc",pl:4,children:n.patterns.map((r,i)=>C.jsx(Se,{as:"li",fontSize:"sm",color:"figma.fg",children:r},i))})]}),n.recommendations&&n.recommendations.length>0&&C.jsxs(vt,{cardVariant:"outline",p:5,borderColor:"teal.200",bg:"teal.50",children:[C.jsx(Be,{as:"h2",size:"sm",mb:3,color:"figma.fg",children:"Recommendations for prototype"}),C.jsx(Ge,{as:"ol",align:"stretch",spacing:2,listStyleType:"decimal",pl:4,children:n.recommendations.map((r,i)=>C.jsx(Se,{as:"li",fontSize:"sm",color:"figma.fg",lineHeight:"tall",children:r},i))})]})]})})}function qx(n){return new Date(n).toLocaleDateString(void 0,{dateStyle:"medium",timeStyle:"short"})}function iU({studies:n,aggregatedInsight:e,isSynthesizing:t,onOpenStudy:r,onSynthesizeAll:i,onNewStudy:s}){const a=n.length>0&&n.some(c=>c.participants.some(u=>u.needs.length>0||u.messages.some(d=>d.role==="user")));return C.jsx(Jt,{maxW:"800px",py:6,children:C.jsxs(Ge,{align:"stretch",spacing:6,children:[C.jsxs(ze,{justify:"space-between",align:"center",flexWrap:"wrap",gap:2,children:[C.jsx(Be,{size:"lg",children:"Saved research sessions"}),C.jsx(st,{size:"sm",colorScheme:"teal",label:"New research study",onClick:s})]}),C.jsx(Se,{color:"figma.fg_muted",fontSize:"sm",children:"Data from each session is stored here. Open a session to continue it, or synthesize all sessions into one aggregated insight."}),n.length===0?C.jsx(vt,{cardVariant:"subtle",p:6,children:C.jsx(Se,{color:"figma.fg_muted",children:"No saved sessions yet. Define a theme and run a research session; it will be saved automatically. Start with New research study."})}):C.jsxs(C.Fragment,{children:[C.jsx(Ge,{align:"stretch",spacing:3,children:[...n].reverse().map(c=>{const u=c.participants.length,d=c.participants.some(f=>f.needs.length>0||f.messages.some(p=>p.role==="user"));return C.jsx(vt,{cardVariant:"outline",p:4,cursor:"pointer",_hover:{borderColor:"teal.400",bg:"figma.bgSubtle"},onClick:()=>r(c),children:C.jsxs(ze,{justify:"space-between",align:"center",flexWrap:"wrap",gap:2,children:[C.jsxs(Ne,{flex:1,minW:0,children:[C.jsx(Be,{as:"h3",size:"sm",fontWeight:"600",noOfLines:1,children:c.theme.title}),C.jsxs(Se,{fontSize:"xs",color:"figma.fg_muted",mt:1,children:["Updated ",qx(c.updatedAt)]})]}),C.jsxs(ze,{gap:2,children:[C.jsxs(jn,{colorScheme:"teal",variant:"subtle",fontSize:"xs",children:[u," participant",u!==1?"s":""]}),c.consolidatedInsight&&C.jsx(jn,{variant:"outline",fontSize:"xs",colorScheme:"gray",children:"Insight"}),d&&C.jsx(st,{size:"xs",variant:"ghost",colorScheme:"teal",label:"Open",onClick:f=>{f.stopPropagation(),r(c)}})]})]})},c.id)})}),C.jsxs(Ne,{pt:2,children:[C.jsx(Be,{size:"sm",mb:2,children:"Aggregate across sessions"}),C.jsx(Se,{fontSize:"sm",color:"figma.fg_muted",mb:3,children:"Synthesize data from all saved sessions into a single set of insights."}),C.jsx(st,{size:"sm",colorScheme:"teal",label:t?"Synthesizing":"Synthesize all into one insight",onClick:i,isDisabled:!a||t})]}),e&&C.jsxs(Ne,{pt:4,borderTopWidth:"1px",borderColor:"figma.borderDefault",children:[C.jsx(Be,{size:"sm",mb:3,children:"Aggregated insight"}),C.jsx(vt,{cardVariant:"outline",p:5,children:C.jsxs(Ge,{align:"stretch",spacing:3,children:[C.jsx(Be,{as:"h3",size:"xs",children:e.title}),C.jsx(Se,{fontSize:"sm",color:"figma.fg",lineHeight:"tall",whiteSpace:"pre-wrap",children:e.summary}),C.jsxs(Se,{fontSize:"xs",color:"figma.fg_muted",children:[e.keyNeeds.length," key need",e.keyNeeds.length!==1?"s":"","  Generated"," ",qx(e.createdAt)]})]})})]})]})]})})}function Qx(n){const e=new Date(n),t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0"),s=String(e.getHours()).padStart(2,"0"),a=String(e.getMinutes()).padStart(2,"0");return`${t}-${r}-${i}T${s}:${a}`}function Zx(n){if(!n.trim())return;const e=new Date(n);return Number.isNaN(e.getTime())?void 0:e.getTime()}function sU({study:n,onSave:e}){const[t,r]=E.useState(""),[i,s]=E.useState(""),[a,c]=E.useState(!1);E.useEffect(()=>{n.openFrom!=null?r(Qx(n.openFrom)):r(""),n.openUntil!=null?s(Qx(n.openUntil)):s("")},[n.id,n.openFrom,n.openUntil]);const u=typeof window<"u"?`${window.location.origin}${window.location.pathname.replace(/\/?$/,"")}/survey/${n.id}`:"",d=()=>{const p=Zx(t),g=Zx(i);e(p,g)},f=async()=>{if(u)try{await navigator.clipboard.writeText(u),c(!0),setTimeout(()=>c(!1),2e3)}catch{}};return C.jsx(Jt,{maxW:"640px",py:6,children:C.jsxs(Ge,{align:"stretch",spacing:6,children:[C.jsxs(Ne,{children:[C.jsx(Be,{size:"md",mb:2,children:"Survey settings"}),C.jsx(Se,{color:"figma.fg_muted",fontSize:"sm",children:"Optionally limit when the survey is open, and share the link so users can respond on their own."})]}),C.jsxs(vt,{cardVariant:"outline",p:6,children:[C.jsx(Be,{size:"sm",mb:3,children:"Schedule (optional)"}),C.jsx(Se,{fontSize:"sm",color:"figma.fg_muted",mb:4,children:"Set a time window so the survey is only open for responses during that period. Leave blank for no limit."}),C.jsxs(Ge,{align:"stretch",spacing:4,children:[C.jsx(Or,{label:"Open from",type:"datetime-local",value:t,onChange:p=>r(p.target.value)}),C.jsx(Or,{label:"Open until",type:"datetime-local",value:i,onChange:p=>s(p.target.value)}),C.jsx(ze,{justify:"flex-end",children:C.jsx(st,{size:"sm",colorScheme:"teal",label:"Save schedule",onClick:d})})]})]}),C.jsxs(vt,{cardVariant:"outline",p:6,children:[C.jsx(Be,{size:"sm",mb:3,children:"Share survey link"}),C.jsx(Se,{fontSize:"sm",color:"figma.fg_muted",mb:4,children:"Share this URL with participants. They can open it and answer the agents questions independently. Each persons responses are stored as a separate participant for this study."}),C.jsxs(Ge,{align:"stretch",spacing:2,children:[C.jsx(Ne,{p:3,borderRadius:"md",borderWidth:"1px",borderColor:"figma.borderDefault",bg:"figma.bgSubtle",fontFamily:"mono",fontSize:"sm",wordBreak:"break-all",children:u}),C.jsx(st,{size:"sm",colorScheme:"teal",variant:"outline",label:a?"Copied!":"Copy link",onClick:f})]})]})]})})}const Jx={},df={storageMode:Jx?.VITE_STORAGE_MODE??"local",apiBaseUrl:(Jx?.VITE_API_URL??"http://localhost:4000").replace(/\/$/,"")},Jk="user-research-studies",hy="user-research-current-study-id";function oU(n,e){try{return JSON.parse(n)??e}catch{return e}}function B0(){if(typeof window>"u")return[];const n=localStorage.getItem(Jk);if(!n)return[];const e=oU(n,[]);return Array.isArray(e)?e:[]}function aU(n){if(typeof window>"u")return;const e=B0(),t=e.findIndex(s=>s.id===n.id),r={...n,updatedAt:Date.now()},i=t>=0?e.map(s=>s.id===n.id?r:s):[...e,r];localStorage.setItem(Jk,JSON.stringify(i))}function lU(n){return B0().find(e=>e.id===n)??null}async function j0(n,e){const t=`${df.apiBaseUrl}${n}`,r=await fetch(t,{...e,headers:{"Content-Type":"application/json",...e?.headers}});if(!r.ok)throw r.status===404?new Error("NOT_FOUND"):new Error(`API error: ${r.status}`);if(r.status!==204)return r.json()}async function cU(){return j0("/api/studies")}async function uU(n){try{return await j0(`/api/studies/${n}`)}catch(e){if(e instanceof Error&&e.message==="NOT_FOUND")return null;throw e}}async function dU(n){await j0(`/api/studies/${n.id}`,{method:"PUT",body:JSON.stringify({...n,updatedAt:Date.now()})})}async function Gl(){return df.storageMode==="api"?cU():Promise.resolve(B0())}async function gh(n){return df.storageMode==="api"?uU(n):Promise.resolve(lU(n))}async function bc(n){const e={...n,updatedAt:Date.now()};return df.storageMode==="api"?dU(e):(aU(e),Promise.resolve())}function hU(){return typeof window>"u"?null:localStorage.getItem(hy)}function og(n){typeof window>"u"||(n==null?localStorage.removeItem(hy):localStorage.setItem(hy,n))}function Hd(n){return{id:`participant-${Date.now()}-${n}`,label:`Participant ${n}`,messages:[],needs:[],createdAt:Date.now()}}function ag(n,e,t,r,i,s){const a=Date.now();return{id:n,theme:e,participants:t,consolidatedInsight:r,openFrom:s?.openFrom??i?.openFrom,openUntil:s?.openUntil??i?.openUntil,createdAt:i?.createdAt??a,updatedAt:a}}function fU(){const[n,e]=E.useState(null),[t,r]=E.useState([]),[i,s]=E.useState(null),[a,c]=E.useState(null),[u,d]=E.useState([]),[f,p]=E.useState(!1),[g,y]=E.useState(null),[w,b]=E.useState(void 0),[x,A]=E.useState(void 0),[T,k]=E.useState(!1),[R,P]=E.useState("theme"),[M,L]=E.useState(!1),F=t[t.length-1]??null,z=t.length>=2&&t.some(W=>W.needs.length>0||W.messages.some(se=>se.role==="user"));E.useEffect(()=>{let W=!1;return(async()=>{try{const se=await Gl();if(W)return;d(se);const pe=hU();if(pe){const de=se.find(me=>me.id===pe)??await gh(pe);if(W)return;de&&(e(de.theme),r(de.participants.length>0?de.participants:[Hd(1)]),s(de.consolidatedInsight),b(de.openFrom),A(de.openUntil),c(de.id),P("chat"))}}catch{W||d([])}finally{W||L(!0)}})(),()=>{W=!0}},[]),E.useEffect(()=>{if(!M||!a||!n)return;let W=!1;return(async()=>{const se=await gh(a);if(W)return;const pe=ag(a,n,t,i,se,{openFrom:w,openUntil:x});if(await bc(pe),W)return;const de=await Gl();W||d(de)})(),()=>{W=!0}},[M,a,n,t,i,w,x]),E.useEffect(()=>{if(!f)return;let W=!1;return(async()=>{const se=await Gl();W||d(se)})(),()=>{W=!0}},[f]);const q=E.useCallback((W,se)=>{const pe={id:`msg-${Date.now()}-${Math.random().toString(36).slice(2)}`,role:W,content:se,timestamp:Date.now()};return r(de=>{const me=[...de],_e=me[me.length-1];return _e&&(me[me.length-1]={..._e,messages:[..._e.messages,pe]}),me}),pe},[]),U=E.useCallback(W=>{const se=`study-${Date.now()}`;e(W),r([Hd(1)]),s(null),c(se),P("chat"),og(se),k(!0),W&&Fr.getNextMessage(W,[]).then(pe=>{q("agent",pe),k(!1)})},[q]),be=E.useCallback(W=>{if(!n||!F)return;const se={id:`msg-${Date.now()}-${Math.random().toString(36).slice(2)}`,role:"user",content:W,timestamp:Date.now()},pe=[...F.messages,se];r(de=>{const me=[...de];return me[me.length-1]={...F,messages:pe},me}),k(!0),Fr.getNextMessage(n,pe).then(de=>{q("agent",de),k(!1)})},[n,F,q]),xe=E.useCallback(()=>{!n||!F||(k(!0),Fr.generateNeeds(n,F.messages).then(W=>{r(se=>{const pe=[...se];return pe[pe.length-1]={...F,needs:W},pe}),P("needs"),k(!1)}))},[n,F]),ve=E.useCallback(()=>{n&&(r(W=>[...W,Hd(W.length+1)]),P("chat"),k(!0),Fr.getNextMessage(n,[]).then(W=>{q("agent",W),k(!1)}))},[n,q]),De=E.useCallback(()=>{!n||!z||(k(!0),Fr.synthesizeInsight(n,t).then(W=>{s(W),P("insight"),k(!1)}))},[n,t,z]),re=E.useCallback(async()=>{if(n&&a){const se=await gh(a),pe=ag(a,n,t,i,se,{openFrom:w,openUntil:x});await bc(pe)}e(null),r([]),s(null),b(void 0),A(void 0),c(null),y(null),og(null),P("theme"),p(!1);const W=await Gl();d(W)},[n,a,t,i,w,x]),G=E.useCallback(W=>{e(W.theme),r(W.participants.length>0?W.participants:[Hd(1)]),s(W.consolidatedInsight),b(W.openFrom),A(W.openUntil),c(W.id),og(W.id),p(!1),P("chat")},[]),Q=E.useCallback((W,se)=>{b(W),A(se)},[]),ie=E.useCallback(async()=>{const W=await Gl();d(W),k(!0),Fr.synthesizeInsightFromStudies(W).then(se=>{y(se),k(!1)})},[]);if(!M)return null;if(!n)return C.jsxs(Ne,{minH:"100%",bg:"figma.bgSubtle",children:[C.jsx(Ne,{py:6,borderBottomWidth:"1px",borderColor:"figma.borderDefault",bg:"figma.default",children:C.jsx(Jt,{maxW:"1200px",children:C.jsxs(ze,{justify:"space-between",align:"center",flexWrap:"wrap",gap:2,children:[C.jsx(Be,{size:"lg",color:"figma.fg",children:"User study"}),C.jsx(st,{size:"sm",variant:f?"solid":"outline",colorScheme:"teal",label:"Saved sessions",onClick:()=>p(W=>!W)})]})})}),f?C.jsx(iU,{studies:u,aggregatedInsight:g,isSynthesizing:T,onOpenStudy:G,onSynthesizeAll:ie,onNewStudy:()=>p(!1)}):C.jsx(ZV,{onSubmit:U})]});const ne=R==="chat"?0:R==="needs"?1:R==="insight"?2:3,O=W=>{P(W===0?"chat":W===1?"needs":W===2?"insight":"settings")},Y=n&&a?ag(a,n,t,i,null,{openFrom:w,openUntil:x}):null;return C.jsxs(Ne,{minH:"100%",bg:"figma.bgSubtle",display:"flex",flexDirection:"column",children:[C.jsx(Ne,{py:4,borderBottomWidth:"1px",borderColor:"figma.borderDefault",bg:"figma.default",children:C.jsx(Jt,{maxW:"1200px",children:C.jsxs(ze,{justify:"space-between",align:"center",flexWrap:"wrap",gap:2,children:[C.jsx(Be,{size:"md",color:"figma.fg",children:"User study"}),C.jsxs(ze,{gap:2,align:"center",children:[C.jsx(Se,{fontSize:"sm",color:"figma.fg_muted",children:F?.label??""}),t.length>0&&C.jsxs(jn,{colorScheme:"teal",variant:"subtle",fontSize:"xs",children:[t.length," participant",t.length!==1?"s":""]}),C.jsx(st,{size:"sm",variant:"outline",colorScheme:"teal",label:"Add participant",onClick:ve,isDisabled:T}),z&&C.jsx(st,{size:"sm",colorScheme:"teal",label:"Synthesize insight",onClick:De,isDisabled:T})]})]})})}),C.jsxs(w0,{index:ne,onChange:O,flex:1,display:"flex",flexDirection:"column",minH:0,children:[C.jsxs(S0,{px:4,pt:2,borderBottomWidth:"1px",borderColor:"figma.borderDefault",bg:"figma.default",children:[C.jsx(Zs,{children:"Conversation"}),C.jsxs(Zs,{children:["Structured needs ",F?.needs.length?`(${F.needs.length})`:""]}),C.jsxs(Zs,{children:["Consolidated insight ",i?"":""]}),C.jsx(Zs,{children:"Settings"})]}),C.jsxs(x0,{flex:1,minH:0,overflow:"auto",children:[C.jsx(Js,{p:0,h:"100%",children:C.jsx(Zk,{theme:n,messages:F?.messages??[],isAgentThinking:T,onSendMessage:be,onGenerateNeeds:xe})}),C.jsx(Js,{p:0,h:"100%",children:C.jsx(tU,{needs:F?.needs??[],onBackToChat:()=>P("chat"),onNewSession:re})}),C.jsx(Js,{p:0,h:"100%",children:i?C.jsx(rU,{insight:i,onBackToParticipants:()=>P("chat"),onNewStudy:re}):C.jsx(Jt,{maxW:"720px",py:8,children:C.jsxs(Ne,{p:6,borderRadius:"lg",borderWidth:"1px",borderColor:"figma.borderDefault",bg:"figma.bgSubtle",children:[C.jsx(Be,{size:"sm",mb:2,children:"No consolidated insight yet"}),C.jsx(Se,{fontSize:"sm",color:"figma.fg_muted",mb:4,children:"Add at least two participants and have conversations (or generate needs) for them. Then use Synthesize insight in the header to combine their responses into one insight for your service prototype."}),C.jsx(st,{size:"sm",variant:"outline",colorScheme:"teal",label:"Back to conversation",onClick:()=>P("chat")})]})})}),C.jsx(Js,{p:0,h:"100%",children:Y&&C.jsx(sU,{study:Y,onSave:Q})})]})]})]})}const eT="user-research-survey-participant-";function e1(n){const e=n.participants.length+1;return{id:`participant-${Date.now()}-${e}`,label:`Participant ${e}`,messages:[],needs:[],createdAt:Date.now()}}function pU(n){return typeof window>"u"?null:sessionStorage.getItem(`${eT}${n}`)}function t1(n,e){typeof window>"u"||sessionStorage.setItem(`${eT}${n}`,e)}function mU(){const{id:n}=C_(),[e,t]=E.useState(null),[r,i]=E.useState(null),[s,a]=E.useState("loading"),[c,u]=E.useState(!1);E.useEffect(()=>{if(!n){a("not-found");return}let y=!1;return(async()=>{const w=await gh(n);if(y)return;if(!w){a("not-found");return}const b=Date.now();if(w.openFrom!=null&&b<w.openFrom){t(w),a("not-yet");return}if(w.openUntil!=null&&b>w.openUntil){t(w),a("closed");return}t(w);const x=pU(n);let A;if(x){const T=w.participants.find(k=>k.id===x);if(T)A=T;else{A=e1(w);const k=[...w.participants,A],R={...w,participants:k,updatedAt:Date.now()};if(await bc(R),y)return;t1(n,A.id),t(R)}}else{A=e1(w);const T=[...w.participants,A],k={...w,participants:T,updatedAt:Date.now()};if(await bc(k),y)return;t1(n,A.id),t(k)}i(A),a("open")})(),()=>{y=!0}},[n]);const d=E.useCallback(async y=>{if(!e||!n)return;const w=e.participants.map(x=>x.id===y.id?y:x),b={...e,participants:w,updatedAt:Date.now()};await bc(b),t(b),i(y)},[e,n]),f=E.useCallback((y,w)=>{if(!r)return;const b={id:`msg-${Date.now()}-${Math.random().toString(36).slice(2)}`,role:y,content:w,timestamp:Date.now()},x={...r,messages:[...r.messages,b]};return d(x),b},[r,d]),p=E.useCallback(y=>{if(!e||!r)return;const w={id:`msg-${Date.now()}-${Math.random().toString(36).slice(2)}`,role:"user",content:y,timestamp:Date.now()},b=[...r.messages,w],x={...r,messages:b};d(x),u(!0),Fr.getNextMessage(e.theme,b).then(A=>{f("agent",A),u(!1)})},[e,r,d,f]),g=E.useCallback(()=>{!e||!r||(u(!0),Fr.generateNeeds(e.theme,r.messages).then(y=>{const w={...r,needs:y};d(w),u(!1)}))},[e,r,d]);if(s==="loading")return C.jsx(Ne,{minH:"100%",bg:"figma.bgSubtle",display:"flex",alignItems:"center",justifyContent:"center",children:C.jsx(Se,{color:"figma.fg_muted",children:"Loading survey"})});if(s==="not-found")return C.jsx(Ne,{minH:"100%",bg:"figma.bgSubtle",children:C.jsx(Jt,{maxW:"md",py:12,children:C.jsxs(vt,{cardVariant:"outline",p:6,children:[C.jsx(Be,{size:"md",mb:2,children:"Survey not found"}),C.jsx(Se,{color:"figma.fg_muted",mb:4,children:"This survey link may be incorrect or the survey may have been removed."}),C.jsx(st,{size:"sm",variant:"outline",colorScheme:"teal",label:"Go back",onClick:()=>window.history.back()})]})})});if(s==="not-yet"&&e){const y=e.openFrom!=null?new Date(e.openFrom).toLocaleString():"";return C.jsx(Ne,{minH:"100%",bg:"figma.bgSubtle",children:C.jsx(Jt,{maxW:"md",py:12,children:C.jsxs(vt,{cardVariant:"outline",p:6,children:[C.jsx(Be,{size:"md",mb:2,children:"Survey is not open yet"}),C.jsxs(Se,{color:"figma.fg_muted",mb:4,children:["This survey will open for responses at ",y,"."]})]})})})}if(s==="closed"&&e){const y=e.openUntil!=null?new Date(e.openUntil).toLocaleString():"";return C.jsx(Ne,{minH:"100%",bg:"figma.bgSubtle",children:C.jsx(Jt,{maxW:"md",py:12,children:C.jsxs(vt,{cardVariant:"outline",p:6,children:[C.jsx(Be,{size:"md",mb:2,children:"Survey has closed"}),C.jsxs(Se,{color:"figma.fg_muted",mb:4,children:["This survey closed at ",y,". Thank you for your interest."]})]})})})}return s==="open"&&e&&r?C.jsxs(Ne,{minH:"100%",bg:"figma.bgSubtle",display:"flex",flexDirection:"column",children:[C.jsx(Ne,{py:4,borderBottomWidth:"1px",borderColor:"figma.borderDefault",bg:"figma.default",children:C.jsxs(Jt,{maxW:"720px",children:[C.jsx(Be,{size:"md",color:"figma.fg",children:e.theme.title}),C.jsx(Se,{fontSize:"sm",color:"figma.fg_muted",mt:1,children:"Answer the questions below. Your responses will help improve this service."})]})}),C.jsx(Ne,{flex:1,minH:0,overflow:"auto",children:C.jsx(Zk,{theme:e.theme,messages:r.messages,isAgentThinking:c,onSendMessage:p,onGenerateNeeds:g})})]}):null}function gU(n,e){let t=n+`

`;return t+=`Main findings and possible resolutions
`,t+=`=====================================

`,e.forEach((r,i)=>{t+=`${i+1}. ${r.finding}
`,r.resolutions.forEach(s=>{t+=`    ${s}
`}),t+=`
`}),t}function yU(){const[n,e]=E.useState([]),[t,r]=E.useState("idle"),[i,s]=E.useState(null),[a,c]=E.useState(null),[u,d]=E.useState([]),[f,p]=E.useState(null),[g,y]=E.useState(null),w=T=>{const R=Array.from(T.target.files??[]).filter(P=>P.type==="application/pdf");e(P=>T.target.multiple?[...P,...R]:R),T.target.value="",r("idle"),s(null),c(null),d([]),p(null)},b=T=>{e(k=>k.filter((R,P)=>P!==T))},x=async()=>{if(n.length===0){s("Upload at least one PDF.");return}s(null),r("parsing");const T=[];for(const k of n){const R=await Qk(k);if(R.error){s(`Failed to read "${k.name}": ${R.error}`),r("error");return}if(!R.text.trim()){s(`No text in "${k.name}" (e.g. scanned image).`),r("error");return}T.push(R.text)}r("analyzing");try{const{synthesis:k,findings:R,designSystemPrompt:P}=await Fr.analyzeStudySummaries(T);c(k),d(R),p(P),r("done")}catch(k){s(k instanceof Error?k.message:"Analysis failed."),r("error")}},A=async(T,k)=>{try{await navigator.clipboard.writeText(T),y(k),setTimeout(()=>y(null),2e3)}catch{}};return C.jsx(Jt,{maxW:"800px",py:8,children:C.jsxs(Ge,{align:"stretch",spacing:6,children:[C.jsxs(Ne,{children:[C.jsx(Be,{size:"lg",mb:2,children:"User needs"}),C.jsx(Se,{color:"figma.fg_muted",fontSize:"sm",children:"Upload one or more PDFs that summarise the outcomes, results and synthesis of your user studies. The service will analyse them and suggest what kind of digital service to build, plus a prompt for creating it with the design system."})]}),C.jsx(vt,{cardVariant:"outline",p:6,children:C.jsxs(Ge,{align:"stretch",spacing:4,children:[C.jsx(Be,{size:"sm",children:"Upload study summaries (PDF)"}),C.jsx(Se,{fontSize:"sm",color:"figma.fg_muted",children:"Add one or many PDF files. Each file should be a manually created summary of a group of user studies (outcomes, results, synthesis)."}),C.jsx(Ne,{children:C.jsx("input",{type:"file",accept:".pdf,application/pdf",multiple:!0,onChange:w,style:{padding:"8px",fontSize:"14px",cursor:"pointer"}})}),n.length>0&&C.jsxs(Ge,{align:"stretch",spacing:2,children:[C.jsxs(Se,{fontSize:"sm",fontWeight:"500",children:[n.length," file",n.length!==1?"s":""," selected"]}),n.map((T,k)=>C.jsxs(ze,{justify:"space-between",bg:"figma.bgSubtle",p:2,borderRadius:"md",children:[C.jsx(Se,{fontSize:"sm",noOfLines:1,children:T.name}),C.jsx(st,{size:"xs",variant:"ghost",colorScheme:"red",onClick:()=>b(k),children:"Remove"})]},k))]}),i&&C.jsx(Se,{fontSize:"sm",color:"red.500",children:i}),C.jsx(st,{colorScheme:"teal",label:t==="parsing"?"Reading PDFs":t==="analyzing"?"Analysing":"Analyse and create synthesis",onClick:x,isDisabled:n.length===0||t==="parsing"||t==="analyzing"})]})}),t==="done"&&a&&f&&C.jsxs(Ge,{align:"stretch",spacing:6,children:[C.jsxs(vt,{cardVariant:"outline",p:6,children:[C.jsxs(ze,{justify:"space-between",mb:3,children:[C.jsx(Be,{size:"sm",children:"Synthesis: what digital service to create"}),C.jsx(st,{size:"xs",variant:"outline",colorScheme:"teal",label:g==="synthesis"?"Copied!":"Copy full synthesis",onClick:()=>A(gU(a,u),"synthesis")})]}),C.jsx(Fi,{value:a,isReadOnly:!0,rows:14,fontSize:"sm",fontFamily:"body",bg:"figma.bgSubtle"})]}),C.jsxs(vt,{cardVariant:"outline",p:6,children:[C.jsx(Be,{size:"sm",mb:3,children:"Main findings and possible resolutions"}),C.jsxs(Se,{fontSize:"sm",color:"figma.fg_muted",mb:4,children:[u.length," finding",u.length!==1?"s":""," from the study summaries with suggested resolutions."]}),C.jsx(Ge,{align:"stretch",spacing:4,children:u.map((T,k)=>C.jsxs(Ne,{p:4,borderRadius:"md",borderWidth:"1px",borderColor:"figma.borderDefault",bg:"figma.bgSubtle",children:[C.jsxs(Se,{fontWeight:"600",fontSize:"sm",mb:2,children:[k+1,". ",T.finding]}),C.jsx(Ge,{align:"stretch",spacing:1,pl:2,borderLeftWidth:"2px",borderColor:"teal.300",children:T.resolutions.map((R,P)=>C.jsxs(Se,{fontSize:"sm",color:"figma.fg",children:[" ",R]},P))})]},k))})]}),C.jsxs(vt,{cardVariant:"outline",p:6,borderColor:"teal.200",bg:"teal.50",children:[C.jsxs(ze,{justify:"space-between",mb:3,children:[C.jsx(Be,{size:"sm",children:"Prompt: create the service with the design system"}),C.jsx(st,{size:"xs",variant:"outline",colorScheme:"teal",label:g==="prompt"?"Copied!":"Copy prompt",onClick:()=>A(f,"prompt")})]}),C.jsx(Se,{fontSize:"xs",color:"figma.fg_muted",mb:2,children:"Use this prompt with the design system (/gds/chakra-app/src/design-system) to build the service."}),C.jsx(Fi,{value:f,isReadOnly:!0,rows:16,fontSize:"sm",fontFamily:"mono",bg:"figma.default"})]})]})]})})}const Wd=[{id:"profile-1",title:"Parents with young children",description:"We're looking for parents or guardians with at least one child under 5 to share their experience of applying for family benefits and childcare support.",category:"Citizens",segment:"Parents",topic:"Benefits",availability:"open",studyTitle:"Family benefits service"},{id:"profile-2",title:"First-time benefit applicants",description:"Adults who have never applied for government benefits before and are considering or have just started an application.",category:"Citizens",segment:"First-time users",topic:"Benefits",availability:"open",studyTitle:"Benefits application journey"},{id:"profile-3",title:"Small business owners (110 employees)",description:"Owner or main decision-maker of a small business. We want to understand how you handle tax and reporting obligations.",category:"Business",segment:"Small business",topic:"Tax",availability:"open",studyTitle:"Business tax portal"},{id:"profile-4",title:"Drivers renewing a licence",description:"People who have renewed or are about to renew their driving licence (any age). We're improving the renewal process.",category:"Citizens",segment:"General",topic:"Licences",availability:"full",studyTitle:"Licence renewal"},{id:"profile-5",title:"Landlords reporting income",description:"Individuals who earn rental income and need to report it. We're testing a new way to declare property income.",category:"Citizens",segment:"Landlords",topic:"Tax",availability:"open",studyTitle:"Property income reporting"},{id:"profile-6",title:"Newly registered companies",description:"Someone who has registered a company in the last 12 months. We want to learn about your experience of the registration and first steps.",category:"Business",segment:"Start-ups",topic:"Registration",availability:"open",studyTitle:"Company registration"},{id:"profile-7",title:"Older adults (65+) using digital services",description:"Adults aged 65 or over who use online government services. We're making our services easier to use for everyone.",category:"Citizens",segment:"Older adults",topic:"Accessibility",availability:"open",studyTitle:"Inclusive digital services"},{id:"profile-8",title:"Jobseekers using employment support",description:"People who are looking for work and have used or are considering employment support, job search tools or benefit-related services.",category:"Citizens",segment:"Jobseekers",topic:"Benefits",availability:"open",studyTitle:"Employment support"}],tT="user-research-recruitment-signups";function vU(){if(typeof window>"u")return[];try{const n=localStorage.getItem(tT);if(!n)return[];const e=JSON.parse(n);return Array.isArray(e)?e:[]}catch{return[]}}function bU(n){typeof window>"u"||localStorage.setItem(tT,JSON.stringify(n))}function lg(n,e){const t=new Set(n.map(r=>r[e]));return Array.from(t).filter(Boolean).sort()}function wU(){const[n,e]=E.useState(vU),[t,r]=E.useState(""),[i,s]=E.useState(""),[a,c]=E.useState(""),[u,d]=E.useState(""),[f,p]=E.useState(null),[g,y]=E.useState(""),[w,b]=E.useState(""),[x,A]=E.useState(""),[T,k]=E.useState(!1),R=E.useMemo(()=>lg(Wd,"category"),[]),P=E.useMemo(()=>lg(Wd,"segment"),[]),M=E.useMemo(()=>lg(Wd,"topic"),[]),L=E.useMemo(()=>Wd.filter(U=>!(t&&U.category!==t||i&&U.segment!==i||a&&U.topic!==a||u&&U.availability!==u)),[t,i,a,u]),F=U=>{p(U),y(""),b(""),A(""),k(!1)},z=()=>{p(null)},q=U=>{if(U.preventDefault(),!f||!g.trim()||!w.trim())return;const be={id:`signup-${Date.now()}`,profileId:f.id,name:g.trim(),email:w.trim(),message:x.trim()||void 0,createdAt:Date.now()},xe=[...n,be];e(xe),bU(xe),k(!0),y(""),b(""),A("")};return C.jsxs(Jt,{maxW:"1100px",py:8,children:[C.jsxs(Ge,{align:"stretch",spacing:6,children:[C.jsxs(Ne,{children:[C.jsx(Be,{size:"lg",mb:2,children:"Recruitment portal"}),C.jsx(Se,{color:"figma.fg_muted",fontSize:"sm",children:"Browse user profiles we're recruiting for. Filter by category, segment, topic and availability, then sign up to the profiles you're interested in."})]}),C.jsxs(vt,{cardVariant:"outline",p:4,children:[C.jsx(Be,{size:"sm",mb:3,children:"Filters"}),C.jsxs(ze,{gap:4,flexWrap:"wrap",align:"flex-end",children:[C.jsx(Ne,{minW:"140px",children:C.jsxs(rc,{label:"Category",value:t,onChange:U=>r(U.target.value),children:[C.jsx("option",{value:"",children:"All"}),R.map(U=>C.jsx("option",{value:U,children:U},U))]})}),C.jsx(Ne,{minW:"140px",children:C.jsxs(rc,{label:"Segment",value:i,onChange:U=>s(U.target.value),children:[C.jsx("option",{value:"",children:"All"}),P.map(U=>C.jsx("option",{value:U,children:U},U))]})}),C.jsx(Ne,{minW:"140px",children:C.jsxs(rc,{label:"Topic",value:a,onChange:U=>c(U.target.value),children:[C.jsx("option",{value:"",children:"All"}),M.map(U=>C.jsx("option",{value:U,children:U},U))]})}),C.jsx(Ne,{minW:"120px",children:C.jsxs(rc,{label:"Availability",value:u,onChange:U=>d(U.target.value),children:[C.jsx("option",{value:"",children:"All"}),C.jsx("option",{value:"open",children:"Open"}),C.jsx("option",{value:"full",children:"Full"})]})}),C.jsx(st,{size:"sm",variant:"outline",colorScheme:"teal",label:"Clear filters",onClick:()=>{r(""),s(""),c(""),d("")}})]})]}),C.jsxs(Se,{fontSize:"sm",color:"figma.fg_muted",children:[L.length," profile",L.length!==1?"s":""," matching your filters"]}),C.jsx(Ne,{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:4,children:L.map(U=>C.jsx(vt,{cardVariant:"outline",p:5,children:C.jsxs(Ge,{align:"stretch",spacing:3,children:[C.jsxs(ze,{justify:"space-between",align:"flex-start",gap:2,children:[C.jsx(Be,{as:"h3",size:"sm",fontWeight:"600",children:U.title}),C.jsx(jn,{colorScheme:U.availability==="open"?"green":"gray",variant:"subtle",fontSize:"xs",children:U.availability==="open"?"Open":"Full"})]}),C.jsx(Se,{fontSize:"sm",color:"figma.fg_muted",lineHeight:"tall",noOfLines:4,children:U.description}),C.jsxs(ze,{gap:2,flexWrap:"wrap",children:[C.jsx(jn,{variant:"outline",fontSize:"xs",colorScheme:"teal",children:U.category}),C.jsx(jn,{variant:"outline",fontSize:"xs",colorScheme:"gray",children:U.segment}),C.jsx(jn,{variant:"outline",fontSize:"xs",colorScheme:"gray",children:U.topic})]}),U.studyTitle&&C.jsxs(Se,{fontSize:"xs",color:"figma.fg_muted",children:["Study: ",U.studyTitle]}),C.jsx(st,{size:"sm",colorScheme:"teal",label:"Sign up",onClick:()=>F(U),isDisabled:U.availability==="full"})]})},U.id))}),L.length===0&&C.jsx(vt,{cardVariant:"subtle",p:6,children:C.jsx(Se,{color:"figma.fg_muted",children:"No profiles match the current filters. Try changing or clearing the filters."})})]}),C.jsx(uk,{isOpen:!!f,onClose:z,title:f?`Sign up: ${f.title}`:"",footer:T?C.jsx(st,{colorScheme:"teal",label:"Done",onClick:z}):C.jsxs(ze,{gap:2,children:[C.jsx(st,{variant:"ghost",onClick:z,children:"Cancel"}),C.jsx(st,{type:"button",colorScheme:"teal",label:"Submit",onClick:U=>{U.preventDefault(),q(U)},isDisabled:!g.trim()||!w.trim()})]}),children:f&&C.jsx(C.Fragment,{children:T?C.jsxs(Se,{children:[`Thanks for signing up. We'll be in touch about the "`,f.title,'" profile.']}):C.jsx(Ne,{as:"form",onSubmit:q,children:C.jsxs(Ge,{align:"stretch",spacing:4,children:[C.jsx(Se,{fontSize:"sm",color:"figma.fg_muted",children:f.description}),C.jsx(Or,{label:"Name",placeholder:"Your name",value:g,onChange:U=>y(U.target.value),isRequired:!0}),C.jsx(Or,{label:"Email",type:"email",placeholder:"your@email.com",value:w,onChange:U=>b(U.target.value),isRequired:!0}),C.jsx(Fi,{label:"Message (optional)",placeholder:"Anything you'd like to add?",value:x,onChange:U=>A(U.target.value),rows:3})]})})})})]})}BE.createRoot(document.getElementById("root")).render(C.jsxs(Oc.StrictMode,{children:[C.jsx(f5,{initialColorMode:"light",storageKey:"user-research-color-mode"}),C.jsx(X3,{theme:Q5,children:C.jsx(uP,{basename:"/user-research",children:C.jsxs($_,{children:[C.jsxs(na,{element:C.jsx(Z5,{}),children:[C.jsx(na,{path:"/",element:C.jsx(fU,{})}),C.jsx(na,{path:"/user-needs",element:C.jsx(yU,{})}),C.jsx(na,{path:"/recruitment",element:C.jsx(wU,{})})]}),C.jsx(na,{path:"/survey/:id",element:C.jsx(mU,{})})]})})})]}));
